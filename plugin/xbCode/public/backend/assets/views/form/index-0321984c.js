import{h as $,a as U,g as V,b as A,o as G}from"../../components/xb-router-view/redirect.vue_vue_type_script_setup_true_lang.ts-a0aa4760.js";import"../../vendor/vue-d9146581.js";import{u as j}from"../../vendor/vue-router-2c20130a.js";import{d as q,a as v,u as t,o as k,c as y,q as c,j as m,i as b,e as B,t as C,f as I,g as H,r as a,h as g,s as h}from"../../vendor/@vue-23ae8903.js";import{_ as N}from"../../components/xb-router-view/exception.vue-41d87dc1.js";const J={key:0,class:"xb-back"},K={class:"text"},L=q({__name:"index",props:{title:{}},setup(T){const s=j();return(u,r)=>{var p;const i=U,l=v("el-button"),d=v("el-divider"),x=v("el-text");return(p=t(s).query)!=null&&p.redirect?(k(),y("div",J,[c(l,{text:"",onClick:t($)},{icon:m(()=>[c(i,{icon:"Back"})]),default:m(()=>[r[0]||(r[0]=b("span",null,"返回",-1))]),_:1},8,["onClick"]),c(d,{direction:"vertical"}),b("div",K,[c(x,{tag:"b",size:"large"},{default:m(()=>[B(C(u.title),1)]),_:1})])])):I("",!0)}}});const Q=N(L,[["__scopeId","data-v-8017549d"]]),Y={class:"xb-form-layout"},Z={class:"xb-form-container"},ee={key:0,class:"xb-buttons-container"},te={class:"xb-buttons"},oe=q({name:"/form"}),se=q({...oe,setup(T){H(e=>({e4794ea2:t(p),"5a130c00":t(x)}));const s=j(),u=a(),r=a(),i=a(!1),l=a(),d=a(),x=g(()=>{var e,o;return((o=(e=r.value)==null?void 0:e.config)==null?void 0:o.form_width)??"100%"}),p=g(()=>{var e,o;return((o=(e=r.value)==null?void 0:e.config)==null?void 0:o.form_position)??"center"}),_=a(),E=a(s.meta.title??""),R=a(s.query),X=a(V(s.meta.ajaxParams)),w=g(()=>{var e={...R.value,...X.value};return e!=null&&e.redirect&&delete e.redirect,{api:s.path,method:s.meta.method,params:e}}),z=e=>{var o;if(i.value=!1,(o=s.query)!=null&&o.isBack&&!_.value)$();else if(_.value){const n=V(_.value);G(_.value,n)}},W=e=>{i.value=!1},D=()=>{i.value=!0,u.value.submit()},F=()=>{u.value.reset()},M=e=>{var f;const o=e.exposed;u.value=o;const n=e.result;r.value=n,n.redirect?_.value=n.redirect:(f=s.query)!=null&&f.redirect&&(_.value=s.query.redirect),l.value=n.extraConfig.submitBtn,d.value=n.extraConfig.resetBtn};return(e,o)=>{var O;const n=Q,f=A,P=v("el-button");return k(),y("div",Y,[c(n,{title:t(E)},null,8,["title"]),b("div",Z,[c(f,h({class:"xb-form"},t(w),{onInitOk:M,onSubmitOk:z,onSubmitError:W}),null,16)]),(O=t(l))!=null&&O.content?(k(),y("div",ee,[b("div",te,[c(P,h(t(l),{loading:t(i),class:"xb-button",onClick:D}),{default:m(()=>[B(C(t(l).content),1)]),_:1},16,["loading"]),c(P,h(t(d),{class:"xb-button",onClick:F}),{default:m(()=>{var S;return[B(C((S=t(d))==null?void 0:S.content),1)]}),_:1},16)])])):I("",!0)])}}});const ne=N(se,[["__scopeId","data-v-3891a341"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{Q as _,_e as a,ne as i};
