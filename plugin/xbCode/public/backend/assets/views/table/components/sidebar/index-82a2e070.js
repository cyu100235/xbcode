import{k as v,a as g,m as q,n as B,p as E}from"../../../../components/xb-router-view/redirect.vue_vue_type_script_setup_true_lang.ts-a0aa4760.js";import"../../../../vendor/vue-d9146581.js";import{u as $,a as w}from"../../../../vendor/vue-router-2c20130a.js";import{d as f,o as t,c as o,D as k,i,q as y,f as l,F as x,n as D,b as r,t as F}from"../../../../vendor/@vue-23ae8903.js";import{_ as N}from"../../../../components/xb-router-view/exception.vue-41d87dc1.js";const V={class:"xb-sidebar"},S=["onClick"],G={class:"text"},I={key:0,class:"mask"},R=f({name:"/table/components/sidebar"}),T=f({...R,props:{active:{},field:{},list:{},curd:{default:()=>({all:!1,add:"",edit:"",del:""})}},setup(c){const d=$(),u=w(),p=e=>{u.push({query:{...d.query,[c.field]:e}})},h=()=>{v(c.curd.add,"GET",{...d.query},{title:"添加数据",customStyle:{width:"350px",height:"350px"}})},C=e=>{v(c.curd.edit,"GET",{...d.query,value:e},{title:"修改数据",customStyle:{width:"350px",height:"350px"}})},b=e=>{q("是否确认删除该数据？","温馨提示","warning").then(()=>{B(c.curd.del,{value:e}).then(s=>{const n=s.code===200?"success":"error";E((s==null?void 0:s.msg)??"网络请求错误",n,"温馨提示")}).finally(()=>{u.push({path:d.path,query:{...d.query}})})})};return(e,s)=>{const n=g;return t(),o("div",V,[e.curd.all?(t(),o("div",{key:0,class:k(["item",{active:e.active===""}])},[i("div",{class:"label",onClick:s[0]||(s[0]=a=>p(""))},[y(n,{class:"icon",icon:"FolderOpened"}),s[1]||(s[1]=i("span",{class:"text"},"全部",-1))])],2)):l("",!0),(t(!0),o(x,null,D(e.list,(a,_)=>(t(),o("div",{class:k(["item",{active:e.active===a.value}]),key:_},[i("div",{class:"label",onClick:m=>p(a.value)},[a.icon?(t(),r(n,{key:0,class:"icon",icon:a.icon},null,8,["icon"])):l("",!0),i("span",G,F(a.label),1)],8,S),e.curd.add||e.curd.edit?(t(),o("div",I,[e.curd.edit?(t(),r(n,{key:0,icon:"Edit",onClick:m=>C(a.value)},null,8,["onClick"])):l("",!0),e.curd.del?(t(),r(n,{key:1,icon:"Close",onClick:m=>b(a.value)},null,8,["onClick"])):l("",!0)])):l("",!0)],2))),128)),e.curd.add?(t(),o("div",{key:1,class:"add",onClick:h},[y(n,{class:"icon",icon:"Plus"}),s[2]||(s[2]=i("span",{class:"text"},"添加",-1))])):l("",!0)])}}});const P=N(T,[["__scopeId","data-v-dda0dbcb"]]);export{P as s};
