var vo=Object.defineProperty;var go=(t,e,o)=>e in t?vo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var Fe=(t,e,o)=>(go(t,typeof e!="symbol"?e+"":e,o),o);import{d as $,c as j,E as st,N as lt,r as T,o as p,a as P,w as b,b as qt,u as r,e as yo,g as $e,f as y,h as ce,i as x,j as C,k as w,p as Ie,l as De,t as M,F as O,m as X,n as E,q as F,H as Pt,s as xo,v as ko,x as wo,y as bo,z as Co,A as Po,B as $o,C as te,D as pe,G as ne,I as Ne,J as R,K as Ht,L as ge,M as zt,O as Nt,T as Io,P as Do,Q as jo,R as Ao,S as Vo,U as se,V as Wt,W as pt,X as $t,Y as le,Z as So,_ as To,$ as Bo,a0 as Eo,a1 as Xt,a2 as Gt,a3 as We,a4 as q,a5 as It,a6 as N,a7 as Lo,a8 as Mo,a9 as Ro,aa as Uo,ab as Qt,ac as Pe,ad as Zt,ae as he,af as Jt,ag as Oo,ah as Fo,ai as ct,aj as qo,ak as Ho,al as zo,am as No,an as Wo,ao as Xo,ap as Go,aq as Yt,ar as Qo,as as Zo,at as Jo}from"./.pnpm.3ba29688.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const mt=[{title:"图片类型",type:"image",format:"jpg,jpeg,png,gif"},{title:"视频类型",type:"video",format:"mp4,avi,rmvb,mkv,flv"},{title:"文档类型",type:"doc",format:"doc,docx,xls,xlsx,ppt,pptx,pdf,txt"},{title:"音频类型",type:"audio",format:"mp3,wav,flac,ape,alac"},{title:"压缩包类",type:"zip",format:"zip,rar,7z,tar,gz,bz2"}],qe=(t,e="")=>{var a;const o=(a=mt.find(n=>n.type===t))==null?void 0:a.format;if(!o)return"";if(e){const n=o.split(",");return n.forEach((s,l)=>{n[l]=`${e}${s}`}),n.join(",")}return o},Yo=t=>{var o;const e=(o=mt.find(a=>a.type===t))==null?void 0:o.format;return e?e.split(","):null},Se=(t,e)=>{const o=Yo(t);return o?o.includes(e):!1},et=(t,e)=>{const o=new URL(e);if(!o||!o.pathname)return!1;const a=o.pathname.split(".")[1]??"";return a?Se(t,a):!1},G=$({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,o=j(()=>{if(st[e.icon])return st[e.icon];if(lt[e.icon])return lt[e.icon]});return(a,n)=>{const s=T("el-icon");return p(),P(s,{size:a.size,color:a.color},{default:b(()=>[(p(),P(qt(r(o))))]),_:1},8,["size","color"])}}});const Xe=(t,e,o="",a)=>{yo({message:t,title:o,duration:2e3,type:e,...a})},oe=(t,e="温馨提示",o)=>{Xe(t,"success",e,o)},A=(t,e="温馨提示",o)=>{Xe(t,"error",e,o)},Ko=(t,e="温馨提示",o)=>{Xe(t,"info",e,o)},ye=t=>(Ie("data-v-75672c9f"),t=t(),De(),t),ea={class:"category-container"},ta={class:"item"},oa=ye(()=>C("div",{class:"title"}," 附件名称 ",-1)),aa={class:"item"},na=ye(()=>C("div",{class:"title"}," 文件名称 ",-1)),sa={class:"item"},la=ye(()=>C("div",{class:"title"}," 文件路径 ",-1)),ca={class:"item"},ra=ye(()=>C("div",{class:"title"}," 文件链接 ",-1)),ia={class:"item"},ua=ye(()=>C("div",{class:"title"}," 文件格式 ",-1)),da={class:"item"},pa=ye(()=>C("div",{class:"title"}," 文件大小（字节） ",-1)),ma={class:"item"},_a=ye(()=>C("div",{class:"title"}," 附件选定器 ",-1)),fa=$({__name:"form",props:{modelValue:{}},emits:["update:init"],setup(t,{expose:e,emit:o}){const a=t,n=$e(),s=y({...a.modelValue}),l=()=>s.value.title?s.value:(A("请输入附件名称"),!1);return ce(()=>{o("update:init",n.exposed)}),e({getFormData:l}),(c,u)=>{const i=T("el-input");return p(),x("div",ea,[C("div",ta,[oa,w(i,{modelValue:r(s).title,"onUpdate:modelValue":u[0]||(u[0]=d=>r(s).title=d),placeholder:"请输入附件名称"},null,8,["modelValue"])]),C("div",aa,[na,w(i,{modelValue:r(s).filename,"onUpdate:modelValue":u[1]||(u[1]=d=>r(s).filename=d),placeholder:"请输入文件名称",disabled:""},null,8,["modelValue"])]),C("div",sa,[la,w(i,{modelValue:r(s).path,"onUpdate:modelValue":u[2]||(u[2]=d=>r(s).path=d),placeholder:"请输入文件路径",disabled:""},null,8,["modelValue"])]),C("div",ca,[ra,w(i,{modelValue:r(s).url,"onUpdate:modelValue":u[3]||(u[3]=d=>r(s).url=d),placeholder:"请输入文件链接",disabled:""},null,8,["modelValue"])]),C("div",ia,[ua,w(i,{modelValue:r(s).format,"onUpdate:modelValue":u[4]||(u[4]=d=>r(s).format=d),placeholder:"请输入文件格式",disabled:""},null,8,["modelValue"])]),C("div",da,[pa,w(i,{modelValue:r(s).size,"onUpdate:modelValue":u[5]||(u[5]=d=>r(s).size=d),placeholder:"请输入文件大小",disabled:""},null,8,["modelValue"])]),C("div",ma,[_a,w(i,{modelValue:r(s).adapter,"onUpdate:modelValue":u[6]||(u[6]=d=>r(s).adapter=d),placeholder:"请输入附件选定器",disabled:""},null,8,["modelValue"])])])}}});const L=(t,e)=>{const o=t.__vccOpts||t;for(const[a,n]of e)o[a]=n;return o},ha=L(fa,[["__scopeId","data-v-75672c9f"]]),va={web_name:"",web_title:""},ga="modulepreload",ya=function(t){return"/"+t},Dt={},fe=function(e,o,a){if(!o||o.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(o.map(s=>{if(s=ya(s),s in Dt)return;Dt[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let d=n.length-1;d>=0;d--){const m=n[d];if(m.href===s&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":ga,l||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),l)return new Promise((d,m)=>{i.addEventListener("load",d),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},de="/login",Kt="/Index/index",xa=[de,"/exception"],_t=$({__name:"menu-item",props:{menuData:{}},setup(t){const e=o=>{const a=o.path,n=y({});o.ajaxParams&&(n.value=Ze(o.ajaxParams));const s={...n.value};me(`/${a}`,s)};return(o,a)=>{const n=T("el-menu-item-group"),s=T("el-menu-item");return p(),x(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),P(n,{key:0},{title:b(()=>[C("span",null,M(o.menuData.title),1)]),default:b(()=>[(p(!0),x(O,null,X(o.menuData.children,l=>(p(),P(_t,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1})):E("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),P(s,{key:1,index:o.menuData.activeId,onClick:a[0]||(a[0]=l=>e(o.menuData))},{default:b(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):E("",!0)],64)}}}),ka=$({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=o=>{const a=o.path,n=y({});o.ajaxParams&&(n.value=Ze(o.ajaxParams));const s={...n.value};me(`/${a}`,s)};return(o,a)=>{const n=T("el-sub-menu"),s=T("el-menu-item");return p(),x(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),P(n,{key:0,index:o.menuData.activeId},{title:b(()=>[C("span",null,M(o.menuData.title),1)]),default:b(()=>[(p(!0),x(O,null,X(o.menuData.children,l=>(p(),P(_t,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1},8,["index"])):E("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),P(s,{key:1,index:o.menuData.activeId,onClick:a[0]||(a[0]=l=>e(o.menuData))},{default:b(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):E("",!0)],64)}}}),tt={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},jt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},wa={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{},upload:{props:{modalTitle:"图片预览",onSuccess(t,e){var o;t.code===200?e.url=((o=t==null?void 0:t.data)==null?void 0:o.url)??"":A((t==null?void 0:t.msg)||"上传失败","温馨提示")},onError(t){console.error("上传失败",t)}}}},submitBtn:!1,resetBtn:!1},ba=t=>t.map(e=>(e.handle=o=>{if((e==null?void 0:e.where)==="==")return o===e.value;if((e==null?void 0:e.where)==="!=")return o!==e.value;if((e==null?void 0:e.where)==="in"){const a=e.value;return a instanceof Array&&a instanceof Object?dt(o,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Ca=t=>t.map(e=>(e!=null&&e.control&&(e.control=ba(e.control)),e)),Pa={};function $a(t,e){return p(),x("div",null," 高德地图 ")}const Ia=L(Pa,[["render",$a]]),Da={};function ja(t,e){return p(),x("div",null," 百度地图 ")}const Aa=L(Da,[["render",ja]]),Va={};function Sa(t,e){return p(),x("div",null," 腾讯地图 ")}const Ta=L(Va,[["render",Sa]]),Ba={javascript:xo,php:ko,python:wo,java:bo,css:Co,xml:Po},Ea=t=>(Pt.registerLanguage(t,Ba[t]),Pt),La={class:"w-100%"},Ma=["innerHTML"],Ra=$({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=Ea(e.language),a=y("");return $o(()=>{a.value=o.highlight(e.modelValue,{language:e.language}).value}),(n,s)=>(p(),x("div",La,[C("pre",null,[F("    "),C("code",{class:"hljs",innerHTML:r(a)},null,8,Ma),F(`
    `)])]))}}),eo=t=>(Ie("data-v-71347fa8"),t=t(),De(),t),Ua={class:"xh-icons-modal"},Oa={class:"xh-icons"},Fa={class:"search-container"},qa=eo(()=>C("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Ha={class:"icon-list"},za={class:"tools"},Na=eo(()=>C("div",{class:"title"}," 所有图标 ",-1)),Wa={class:"options"},Xa={class:"list"},Ga=["onDblclick","onClick"],Qa={class:"icon-title"},Za=$({__name:"modal",emits:["update:init"],setup(t,{expose:e,emit:o}){const a=$e(),n=y([{title:"Element-Plus",type:"element",icons:Object.keys(st)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(lt)}]),s=y(""),l=y("element"),c=y(""),u=y([]),i=h=>{u.value=[];const _=n.value.find(g=>g.type===h);_&&d(_.icons)};function d(h){let _=0;function g(){globalThis.requestIdleCallback(D=>{for(;D.timeRemaining()>0&&_<h.length;)u.value.push(h[_++]);_<h.length&&g()})}g()}const m=h=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(h).then(_=>{});else{const _=document.createElement("input");_.value=h,document.body.appendChild(_),_.select(),document.execCommand("Copy"),_.remove()}oe("复制成功")},f=h=>{c.value=h===c.value?"":h};return e({confirm:()=>c.value}),ce(()=>{d(n.value[0].icons),o("update:init",a.exposed)}),(h,_)=>{const g=G,D=T("el-button"),V=T("el-button-group"),U=T("el-input"),B=T("el-option"),k=T("el-select");return p(),x("div",Ua,[C("div",Oa,[C("div",Fa,[w(U,{modelValue:r(s),"onUpdate:modelValue":_[1]||(_[1]=I=>te(s)?s.value=I:null),placeholder:"图标名称"},{prepend:b(()=>[w(g,{icon:"Search",type:"element"})]),append:b(()=>[w(V,null,{default:b(()=>[w(D,{onClick:_[0]||(_[0]=I=>s.value="")},{default:b(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),qa]),C("div",Ha,[C("div",za,[Na,C("div",Wa,[w(k,{modelValue:r(l),"onUpdate:modelValue":_[2]||(_[2]=I=>te(l)?l.value=I:null),onChange:i},{default:b(()=>[(p(!0),x(O,null,X(r(n),(I,S)=>(p(),P(B,{key:S,label:I.title,value:I.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),C("div",Xa,[(p(!0),x(O,null,X(r(u).filter(I=>I.includes(r(s))),(I,S)=>(p(),x("div",{key:S,class:pe(["item",{active:I===r(c)}]),onDblclick:H=>m(I),onClick:H=>f(I)},[w(g,{icon:I,size:26,type:r(l),color:"#888"},null,8,["icon","type"]),C("div",Qa,M(I),1)],42,Ga))),128))])])])])}}});const Ja=L(Za,[["__scopeId","data-v-71347fa8"]]),re=(t,e,o)=>ne({title:"通用模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,showConfirmButton:!1,...o,customClass:"xh-modal-mask",message:()=>Ne(t,e)}),xe=(t,e,o)=>ne({title:"可主动关闭的模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!1,closeOnClickModal:!1,showCancelButton:!0,showConfirmButton:!0,...o,customClass:"xh-modal-close-mask",message:()=>Ne(t,e)}),At=()=>{ne.close()},Ya={class:"icons-container"},Ka={key:0,class:"icon"},en={key:1,class:"icon"},tn=$({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=()=>{const n=y();xe(Ja,{"onUpdate:init":s=>{n.value=s}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"60%",height:"85vh"},beforeClose:(s,l,c)=>{var u;if(s==="confirm"){const i=(u=n.value)==null?void 0:u.confirm();if(!i){A("请选择图标");return}e("update:modelValue",i),c()}else c()}})},a=()=>{e("update:modelValue",""),oe("重置成功")};return(n,s)=>{const l=G,c=T("el-button");return p(),x("div",Ya,[n.modelValue?(p(),x("div",Ka,[w(l,{icon:n.modelValue,size:18},null,8,["icon"])])):(p(),x("div",en)),n.modelValue?(p(),P(c,{key:2,onClick:a},{default:b(()=>[F(" 重置 ")]),_:1})):E("",!0),w(c,{type:"primary",onClick:o},{default:b(()=>[F(" 选择 ")]),_:1})])}}});const on=L(tn,[["__scopeId","data-v-784ef829"]]),an=["innerHTML"],nn=$({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,o)=>(p(),x("div",R(e.style,{innerHTML:e.modelValue}),null,16,an))}}),sn={};function ln(t,e){return p(),x("div",null," 自定义输入框（未实现） ")}const cn=L(sn,[["render",ln]]),rn=["innerHTML"],un=$({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,o)=>{const a=G;return p(),x("div",{class:"form-prompt",style:Ht(e.style)},[e.icon?(p(),P(a,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):E("",!0),C("span",{class:"text",innerHTML:e.text},null,8,rn)],4)}}});const dn=L(un,[["__scopeId","data-v-05bcd7b9"]]),pn=$({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=s=>{e("update:modelValue",s)},n=y(o.modelValue);return(s,l)=>(p(),P(r(ie),R({modelValue:r(n),"onUpdate:modelValue":l[0]||(l[0]=c=>te(n)?n.value=c:null),file:s.file},{ajaxParams:s.ajaxParams},{"onUpdate:modelValue":a}),null,16,["modelValue","file"]))}}),mn={};function _n(t,e){return p(),x("div",null," 表格展示器 ")}const fn=L(mn,[["render",_n]]),hn=t=>{const e=t.lastIndexOf("?");return t.substring(0,t.includes("?")?e:t.length)},vn=t=>{const e=/\.(jpg|jpeg|png|gif|bmp|webp)$/,o=hn(t);return e.test(o)},gn={class:"upload-container"},yn=["onClick"],xn=$({__name:"index",props:{modelValue:{default:[]},type:{default:"image"},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=()=>{const s=y(),l={uploadLimit:o.uploadLimit,selectLimit:o.selectLimit,type:o.type};xe(ro,{...l,"onUpdate:init":c=>{s.value=c}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(c,u,i)=>{var d;if(c==="confirm"){const m=(d=s.value)==null?void 0:d.getSelected();if(m.length){const f=m.map(v=>v==null?void 0:v.url);e("update:modelValue",f),i()}else A("请选择文件")}else i()}})},n=s=>{const l=o.modelValue.filter((c,u)=>u!==s);e("update:modelValue",l)};return ce(()=>{if(typeof o.modelValue=="string"){const s=o.modelValue===""?"":[o.modelValue];e("update:modelValue",s)}}),(s,l)=>{const c=T("el-image"),u=G,i=T("el-icon");return p(),x("div",gn,[(p(!0),x(O,null,X(s.modelValue,(d,m)=>(p(),x("div",{key:m,class:"item"},[r(vn)(d)?(p(),P(c,{key:0,class:"image","preview-src-list":s.modelValue,"z-index":999,src:d,infinite:!1},null,8,["preview-src-list","src"])):(p(),P(i,{key:1,class:"file-thumb"},{default:b(()=>[w(u,{icon:"Document",size:28,type:"element"})]),_:1})),C("div",{class:"del-file",onClick:f=>n(m)},[w(u,{icon:"Delete",size:15,type:"element"})],8,yn)]))),128)),C("div",{class:"item",onClick:a},[w(u,{icon:"PlusOutlined",size:20,color:"#888"})])])}}});const kn=L(xn,[["__scopeId","data-v-abb4b44b"]]),wn={class:"editor-container"},bn=$({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t;ge(i=>({"4dbdd5bb":r(u)}));const a=zt(),n=y(o.modelValue),s=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});Nt(()=>{a.value&&(a.value.destroy(),a.value=null)});const l=i=>{a.value=i},c=i=>{const d=i.getHtml();e("update:modelValue",d)},u=j(()=>`${o.editHeight}px`);return(i,d)=>(p(),x("div",wn,[w(r(Io),R({class:"toolbar",editor:r(a)},r(s)),null,16,["editor"]),w(r(Do),{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=m=>te(n)?n.value=m:null),"default-config":i.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:c},null,8,["modelValue","default-config"])]))}});const Vt=L(bn,[["__scopeId","data-v-274068df"]]),ft="authorization",Ee=jo(()=>{const t=Re();return Ao(`${t}_${ft}`,null)});let to="/api";to=window.location.origin;const ht=to,Z=Vo.create({baseURL:ht,timeout:6e4}),Cn=async t=>{const e=Ee();return e.value&&t.headers.set(ft,e.value),t},Pn=t=>{var i,d,m,f;const e=Ee(),o=t.data,a=t.headers["content-type"],n=a.includes("application/json"),s=a.includes("application/octet-stream"),l=a.includes("text/html"),c=a.includes("application/javascript"),u=a.includes("css");if(n){if((o==null?void 0:o.code)===301)return me(((i=o==null?void 0:o.data)==null?void 0:i.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return A((o==null?void 0:o.msg)||"302.网络错误~"),me(((d=o==null?void 0:o.data)==null?void 0:d.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return setTimeout(()=>{window.location.reload()},2e3),o;if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return A((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){e.value="";let v=(m=W.currentRoute.value)==null?void 0:m.fullPath;return(f=W.currentRoute.value.query)!=null&&f.redirect&&(v=W.currentRoute.value.query.redirect),v===de&&(v="/"),W.replace({path:de,query:{redirect:v}}),A((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&A((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return s||l||c||u?Promise.resolve(o):Promise.reject(o)},$n=t=>{if(t.response){const{status:e}=t.response;[401,402,403,500,502].includes(e)&&me("/exception",{code:e})}return Promise.reject(t)};Z.interceptors.request.use(Cn);Z.interceptors.response.use(Pn,$n);const In=Object.freeze(Object.defineProperty({__proto__:null,baseURL:ht,default:Z,instance:Z},Symbol.toStringTag,{value:"Module"})),ve=(t,e,o)=>Z.request({url:t,params:e,method:"GET",...o}),Te=(t,e,o)=>Z.request({url:t,data:e,method:"POST",...o}),rt=(t,e,o)=>Z.request({url:t,data:e,method:"PUT",...o}),it=(t,e,o)=>Z.request({url:t,data:e,method:"DELETE",...o}),Dn=$({__name:"index",props:{modelValue:{},api:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=se(),n=y(""),s=y(!1),l=y([]),c=i=>{if(i){s.value=!0;const d={...a.query,keyword:i};ve(o.api,d).then(m=>{l.value=m.data||[]}).finally(()=>{s.value=!1})}else l.value=[]},u=()=>{e("update:modelValue",n.value)};return(i,d)=>{const m=T("el-option"),f=T("el-select");return p(),P(f,{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=v=>te(n)?n.value=v:null),"remote-method":c,filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",loading:r(s),onChange:u},{default:b(()=>[(p(!0),x(O,null,X(r(l),(v,h)=>(p(),P(m,R({key:h},v),null,16))),128))]),_:1},8,["modelValue","loading"])}}}),jn=$({__name:"index",props:{title:{},style:{default:{}}},setup(t){return(e,o)=>(p(),x("div",{class:"form-title",style:Ht(e.style)},M(e.title),5))}});const An=L(jn,[["__scopeId","data-v-2aa60f17"]]),Vn={id:"dplayer"},Sn=$({__name:"index",props:{modelValue:{},style:{default:{}},player:{}},setup(t){const e=t;ge(s=>({"50bc16b3":r(o),a610744c:r(a)}));const o=j(()=>{var s;return((s=e==null?void 0:e.style)==null?void 0:s.width)??"100%"}),a=j(()=>{var s;return((s=e==null?void 0:e.style)==null?void 0:s.height)??"450px"}),n=j(()=>{var s;return e!=null&&e.player?{...e.player,video:{...((s=e.player)==null?void 0:s.video)??{},url:e.modelValue}}:{video:{url:e.modelValue}}});return ce(()=>{const s=document.getElementById("dplayer");new Wt({container:s,...n.value})}),(s,l)=>(p(),x("div",Vn))}});const Tn=L(Sn,[["__scopeId","data-v-2f3aa562"]]),Bn={class:"xb-alert"},En=$({__name:"index",props:{content:{},type:{default:"warning"},closable:{type:Boolean,default:!1},effect:{default:"dark"}},setup(t){return(e,o)=>{const a=T("el-alert");return p(),P(a,{type:e.type,closable:e.closable,effect:e.effect},{default:b(()=>[C("div",Bn,[(p(!0),x(O,null,X(e.content,(n,s)=>(p(),x("div",{key:s},M(n),1))),128))])]),_:1},8,["type","closable","effect"])}}}),Ln={class:"select"},Mn={class:"left"},Rn={class:"right"},Un={key:0,class:"desc"},On={key:1,class:"value"},Fn=$({__name:"select-text",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=y(t.modelValue),n=j(()=>{const l=pt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),s=l=>{e("update:modelValue",l)};return(l,c)=>{const u=T("el-option"),i=T("el-select");return p(),P(i,R(r(n),{modelValue:r(a),"onUpdate:modelValue":c[0]||(c[0]=d=>te(a)?a.value=d:null),onChange:s}),{default:b(()=>[(p(!0),x(O,null,X(l.options,(d,m)=>(p(),P(u,R({key:m},d),{default:b(()=>[C("div",Ln,[C("div",Mn,M(d.label),1),C("div",Rn,[d!=null&&d.desc?(p(),x("div",Un,M(d.desc),1)):(p(),x("div",On,M(d.value),1))])])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const qn=L(Fn,[["__scopeId","data-v-9abe9200"]]),Hn={class:"select"},zn={class:"left"},Nn={class:"title"},Wn={key:0,class:"right"},Xn=$({__name:"select-image",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=y(t.modelValue),n=j(()=>{const l=pt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),s=l=>{e("update:modelValue",l)};return(l,c)=>{const u=T("el-image"),i=T("el-option"),d=T("el-select");return p(),P(d,R(r(n),{modelValue:r(a),"onUpdate:modelValue":c[0]||(c[0]=m=>te(a)?a.value=m:null),onChange:s}),{default:b(()=>[(p(!0),x(O,null,X(l.options,(m,f)=>(p(),P(i,R({key:f},m),{default:b(()=>[C("div",Hn,[C("div",zn,[w(u,{class:"image",src:m.url},null,8,["src"]),C("div",Nn,M(m.title?m.title:m.label),1)]),m!=null&&m.desc?(p(),x("div",Wn,M(m.desc),1)):E("",!0)])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Gn=L(Xn,[["__scopeId","data-v-2e11a9a9"]]),St={amap:Ia,bmap:Aa,icons:on,qmap:Ta,remote:pn,uploadify:kn,info:nn,HCode:Ra,PromptTip:dn,wangEditor:Vt,tinymceEditor:Vt,XInput:cn,XTable:fn,XSearch:Dn,XTitle:An,XVideo:Tn,XAlert:En,selectText:qn,selectImage:Gn},Qn=t=>{Object.keys(St).forEach(e=>{t.component(e,St[e])})},vt=$({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const a=t,n=se(),s=$e(),l=y({}),c=y({api:"",method:"POST"}),u=y({}),i=y(),d=y(wa),m=y("");$t.use(Qn);const f=$t.$form(),v=()=>{const g=y({method:a.method,params:{...a.ajaxParams},data:{...a.ajaxParams}});a.method==="GET"?delete g.value.data:delete g.value.params,o("update:init"),Z(a.api,g.value).then(D=>{const{data:V}=D;if(!(V!=null&&V.http))return A("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(V!=null&&V.formRule))return A("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));c.value=V.http,i.value=Ca(V.formRule),d.value={...d.value,...V.config},m.value=(V==null?void 0:V.redirect)??"",o("update:init-ok",{response:V,exposed:s.exposed})}).catch(D=>{o("update:init-error",D)})},h=async()=>{var D,V,U;const g=y({method:((D=c.value)==null?void 0:D.method)??"GET",params:{...a.ajaxParams},data:{}});return((V=c.value)==null?void 0:V.method)==="GET"?g.value.params={...g.value.params,...u.value}:g.value.data={...g.value.data,...u.value},o("update:submit",{api:c.value.api,queryParams:g}),await Z(((U=c.value)==null?void 0:U.api)??"",g.value).then(B=>{var k;return(k=n.query)!=null&&k.isBack&&!a.isModal&&!m.value?ze():m.value&&me(m.value),o("update:submit-ok",B),oe((B==null?void 0:B.msg)??"操作失败"),B}).catch(B=>(o("update:submit-error",B),B))},_=()=>{o("update:rest-ok")};return ce(()=>v()),e({init:v,submit:h,reset:_}),(g,D)=>(p(),P(r(f),{api:r(l),"onUpdate:api":D[0]||(D[0]=V=>te(l)?l.value=V:null),modelValue:r(u),"onUpdate:modelValue":D[1]||(D[1]=V=>te(u)?u.value=V:null),modelModifiers:{lazy:!0},rule:r(i),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),Zn={class:"xh-modal-container"},Jn=$({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),o=y({submitBtn:{},resetBtn:{}}),a=n=>{var l;const s=(l=n==null?void 0:n.response)==null?void 0:l.extraConfig;o.value=s};return(n,s)=>(p(),x("div",Zn,[w(r(vt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:n.api,method:n.method,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:initOk":a},null,8,["api","method","ajax-params"])]))}});const gt=L(Jn,[["__scopeId","data-v-be00eddc"]]),Yn={class:"xh-modal-container"},Kn={class:"xh-modal-content"},es=$({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const a=$e(),n=y();y({submitBtn:{},resetBtn:{}});const s=f=>{o("update:init-ok",a.exposed)},l=f=>{o("update:init-error",a.exposed)},c=()=>{o("update:submit-ok")},u=()=>{o("update:submit-error")},i=()=>{o("update:rest-ok")};return e({hanldSubmit:async()=>await n.value.submit(),hanldReset:()=>{n.value.reset(),o("update:rest")}}),(f,v)=>(p(),x("div",Yn,[C("div",Kn,[w(r(vt),{ref_key:"formRef",ref:n,class:"xh-form-create",api:f.api,method:f.method,"ajax-params":f.ajaxParams,"is-modal":!0,"onUpdate:initOk":s,"onUpdate:submitOk":c,"onUpdate:submitError":u,"onUpdate:restOk":i,"onUpdate:initError":l},null,8,["api","method","ajax-params"])])]))}});const yt=L(es,[["__scopeId","data-v-283ef23e"]]),ts=$({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,o=j(()=>e.text?"":`xh-button-${e.type}`);return(a,n)=>(p(),x("button",{class:pe(["xh-button",r(o)])},[le(a.$slots,"loading",{},void 0,!0),le(a.$slots,"icon",{},void 0,!0),le(a.$slots,"default",{},void 0,!0)],2))}});const os=L(ts,[["__scopeId","data-v-5baade3e"]]),xt=$({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,o=["error","purple","cyan"],a=j(()=>o.includes(e.type));return(n,s)=>{const l=T("el-button");return r(a)?(p(),P(os,{key:0,type:n.type},{default:b(()=>[le(n.$slots,"loading"),le(n.$slots,"icon"),le(n.$slots,"default")]),_:3},8,["type"])):(p(),P(l,{key:1,type:n.type},{default:b(()=>[le(n.$slots,"loading"),le(n.$slots,"icon"),le(n.$slots,"default")]),_:3},8,["type"]))}}}),as=$({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:o}){const a=$e(),n=y(!1),s=u=>{n.value=u},l=()=>{s(!0),o("update:submit")},c=()=>{s(!0),o("update:rest")};return ce(()=>{o("update:init",{exposed:a.exposed})}),e({setDisabled:s}),(u,i)=>{var f;const d=xt,m=T("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(p(),P(m,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:b(()=>{var v,h,_,g;return[(v=u.extraConfig.submitBtn)!=null&&v.show?(p(),P(d,R({key:0,type:"primary",class:"xh-extra-button"},((h=u.extraConfig)==null?void 0:h.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:l}),{default:b(()=>{var D;return[F(M(r(n)?"请求中...":((D=u.extraConfig.submitBtn)==null?void 0:D.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):E("",!0),(_=u.extraConfig.resetBtn)!=null&&_.show?(p(),P(d,R({key:1,type:"warning",class:"xh-extra-button"},((g=u.extraConfig)==null?void 0:g.resetBtn)??{},{disabled:r(n),onClick:c}),{default:b(()=>{var D;return[F(M(((D=u.extraConfig.resetBtn)==null?void 0:D.content)??"重置"),1)]}),_:1},16,["disabled"])):E("",!0)]}),_:1})):E("",!0)}}});const ns=L(as,[["__scopeId","data-v-c3072cde"]]),Y=(t,e)=>{const o=t.field;let a=e[o];if(o.includes(".")){const n=o.split(".");let s=e;n.forEach(l=>{s=s[l]}),a=s}return a},je=(t,e,o,a=!0)=>{if(!t){A("请设置请求API接口"),o==null||o.commitProxy("query");return}rt(t,e).then(n=>{o==null||o.commitProxy("query"),a&&oe((n==null?void 0:n.msg)??"操作成功")})},ss=(t,e,o,a)=>{var c,u;const n=((c=o==null?void 0:o.rowConfig)==null?void 0:c.keyField)??"id",s=e[t==null?void 0:t.field],l={[n]:e[n],keyField:n,field:t==null?void 0:t.field,value:s};je((u=t==null?void 0:t.params)==null?void 0:u.api,l,a)},ls=["innerHTML"],cs=["innerHTML"],rs=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c,u,i,d,m;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.prefix)??""),n=y(((i=(u=e.column)==null?void 0:u.params)==null?void 0:i.suffix)??""),s=y(((m=(d=e.column)==null?void 0:d.params)==null?void 0:m.props)??{});return(f,v)=>(p(),x("div",R(r(s),{class:"flex items-center"}),[r(a)?(p(),x("div",{key:0,innerHTML:r(a)},null,8,ls)):E("",!0),C("div",null,M(r(o)),1),r(n)?(p(),x("div",{key:1,innerHTML:r(n)},null,8,cs)):E("",!0)],16))}}),is=(t,e,o,a,n)=>{var m,f;o==null||o.xGrid;const s=o==null?void 0:o.form,l=o==null?void 0:o.page,c=o==null?void 0:o.sort,u=o==null?void 0:o.filters;o!=null&&o.code&&((m=a.screenConfig)!=null&&m.api)&&(t=(f=a.screenConfig)==null?void 0:f.api);const i=W.currentRoute.value,d=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...n??{},...s,...(i==null?void 0:i.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),u.length>0&&d.value.params&&u.forEach(({field:v,values:h})=>{d.value.params={...d.value.params,[v]:h.join(",")}}),new Promise((v,h)=>{Z(t,d.value).then(_=>{v(_)}).catch(_=>{h(_)})})},us=(t,e,o)=>{Z(o.file,{responseType:"blob"}).then(a=>{So.saveFile({filename:t,type:e,content:a.data})})},ds=(t,e,o)=>new Promise((a,n)=>{var c;if(!((c=e.exportConfig)!=null&&c.api))return A("请设置请求API"),Promise.reject(new Error("请设置请求API"));const s=o==null?void 0:o.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:s?s.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var m;const i={method:"POST",data:{...l}},d=((m=e.exportConfig)==null?void 0:m.api)??"";Z(d,i).then(f=>{const{data:v}=f;if(!(v!=null&&v.file))return A("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));us(l.filename,l.format,v),u(f)})})}),ps=(t,e,o)=>{const a=new FormData;return a.append("file",t.file),new Promise(n=>{var c;const s=((c=e.importConfig)==null?void 0:c.api)??"";Z(s,{method:"POST",data:a}).then(u=>{const{msg:i}=u;oe(i||"操作成功"),o==null||o.commitProxy("query"),n(u)}).catch(u=>{console.error("导入失败",u)})})},ms=(t,e,o)=>new Promise(a=>{const n=new FileReader;n.onload=s=>{const l=s.target?s.target.result:"",c=To(l,{type:"binary"}),u=Bo.sheet_to_json(c.Sheets.Sheet1);t.$table.loadData(u),oe("已将数据导入至本地表格"),a(u)},n.readAsBinaryString(t.file)}),_s=(t,e,o)=>{var a,n;return(a=e.importConfig)!=null&&a.api&&((n=e.importConfig)!=null&&n.isRemote)?ps(t,e,o):ms(t)},fs=(t,e,o,a,n)=>{const s={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=s,s!=null&&s.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>_s(l,o,n)}),s!=null&&s.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>ds(l,o,n)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>is(t,e,l,o,a)}},o},hs=(t,e)=>{let o={};for(const a in t){const n=t[a]||"id";o={...o,[n]:e[a]||""}}return o},Le=(t,e,o)=>{var l,c;const a=W.currentRoute.value;let s={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...a.query};return(c=t.pageData)!=null&&c.isBack&&(s={...s,isBack:1}),s},vs=(t,e,o,a,n)=>{var i,d,m,f,v;const s=W.currentRoute.value,l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??{},c=y({...s.query}),u=y({...c.value});if(l instanceof Object&&(u.value={...u.value,...l}),o&&!["[]","{}"].includes(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams)))u.value={...u.value,...hs((m=t==null?void 0:t.pageData)==null?void 0:m.aliasParams,o)};else{const h=((f=a==null?void 0:a.rowConfig)==null?void 0:f.keyField)??"id";if(!o[h]){A("当前数据错误");return}const _=o[h];u.value={...u.value,[h]:_}}return(v=t.pageData)!=null&&v.isBack&&(u.value={...u.value,isBack:1}),u.value},gs=(t,e,o)=>{var n,s;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){A("缺少跳转地址");return}const a=Le(t);W.push({path:(s=t==null?void 0:t.pageData)==null?void 0:s.path,query:{...a}})},ys=(t,e,o,a)=>{var n,s;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){A("缺少跳转地址");return}W.push({path:(s=t==null?void 0:t.pageData)==null?void 0:s.path,query:{...e}})},Be=t=>{bt(t)||(t=`${window.location.origin}/${t}`),window.open(t)},xs=(t,e,o)=>{var u,i,d;const a=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((i=t.pageData)==null?void 0:i.method)??"GET";let s=((d=t.pageData)==null?void 0:d.path)??"";const l=Le(t),c={method:n,params:{},data:{}};if(n==="GET"?c.params=l:c.data=l,s){Be(s);return}Z(a,c).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){A("缺少目标跳转地址");return}s=f.url,Be(s)})},ks=(t,e,o,a)=>{var d,m,f,v,h;const n=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",s=((m=t.pageData)==null?void 0:m.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((v=e==null?void 0:e.rowConfig)==null?void 0:v.keyField)??"id");let c=((h=t.pageData)==null?void 0:h.path)??"";const u=Le(t),i={method:s,params:{},data:{}};if(s==="GET"?i.params={...u,[l]:o}:i.data={...u,[l]:o},c){Be(c);return}Z(n,i).then(_=>{const{data:g}=_;if(!(g!=null&&g.url)){A("缺少目标跳转地址");return}c=g.url,Be(c)})},ws=(t,e,o,a)=>{var u,i,d;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",s=((i=t.pageData)==null?void 0:i.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const c=y({method:s,params:{...e},data:{...e}});if(s==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}Z(n,c.value).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){A("缺少目标跳转地址");return}l=f.url,Be(l)})},Me=(t,e)=>Eo.service({text:t,lock:!0,background:"rgba(0, 0, 0, 0.7)",...e}),bs=(t,e,o)=>{var l,c,u,i;if(!(((l=t.message)==null?void 0:l.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}const n=y(),s={api:((c=t.pageData)==null?void 0:c.api)||"",method:((u=t.pageData)==null?void 0:u.method)||"GET",ajaxParams:((i=t.pageData)==null?void 0:i.queryParams)||{},"onUpdate:init-ok":d=>{n.value=d}};xe(yt,s,{...t.message,beforeClose:(d,m,f)=>{var v;if(d==="confirm"){const h=Me("正在提交中...");(v=n.value)==null||v.hanldSubmit().then(_=>{(_==null?void 0:_.code)===200&&(f(),o==null||o.commitProxy("reload"))}).finally(()=>{h.close()})}d==="cancel"&&(f(),o==null||o.commitProxy("reload"))}})},Cs=(t,e,o,a)=>{var u,i,d,m,f;if(!(((u=t.message)==null?void 0:u.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}const s=y(),l=y({api:((i=t.pageData)==null?void 0:i.api)||"",method:((d=t.pageData)==null?void 0:d.method)||"GET",ajaxParams:{...e},"onUpdate:init-ok":v=>{s.value=v}}),c=((m=t.pageData)==null?void 0:m.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),(f=l.value.ajaxParams)!=null&&f.isBack&&delete l.value.ajaxParams.isBack,xe(yt,l.value,{...t.message,beforeClose:(v,h,_)=>{var g;if(v==="confirm"){const D=Me("正在提交中...");(g=s.value)==null||g.hanldSubmit().then(V=>{(V==null?void 0:V.code)===200&&(_(),a==null||a.commitProxy("reload"))}).finally(()=>{D.close()})}v==="cancel"&&(_(),a==null||a.commitProxy("reload"))}})},Ps=(t,e,o,a)=>{var c,u,i,d,m,f,v;if(!(((c=t.message)==null?void 0:c.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[s]:o},"onUpdate:submit-ok":()=>{At(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{At(),a==null||a.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(v=t.pageData)==null?void 0:v.queryParams}),xe(yt,l.value,{...t.message,beforeClose:(h,_,g)=>{g(),a==null||a.commitProxy("reload")}})},ke=(t,e="温馨提示",o="",a)=>ne.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...a}),Ge=(t,e,o,a)=>{var l;const n=((l=t.message)==null?void 0:l.loading)??"";let s=null;n&&(s=Me(n)),Z(e,a).then(c=>{var d,m;const u=((d=c==null?void 0:c.data)==null?void 0:d.url)??"",i=((m=c==null?void 0:c.data)==null?void 0:m.query)??{};a.method==="GET"?a.params={...(a==null?void 0:a.params)??{},...i}:a.data={...(a==null?void 0:a.data)??{},...i},u?Ge(t,u,o,a):o==null||o.commitProxy("reload"),oe((c==null?void 0:c.msg)??"操作成功")}).finally(()=>{s&&s.close()})},$s=(t,e,o)=>{var d,m,f,v,h;const a=((d=t.pageData)==null?void 0:d.method)??"GET",n=Le(t);n!=null&&n.isBack&&delete n.isBack;const s=y({method:a,params:{...n},data:{...n}});a==="GET"&&delete s.value.data;const l=(m=t.pageData)==null?void 0:m.api;if(!l){A("请设置接口地址");return}const c=((f=t.message)==null?void 0:f.title)??"",u=((v=t.message)==null?void 0:v.type)??"",i=((h=t.message)==null?void 0:h.content)??"";ke(i,c,u).then(()=>{Ge(t,l,o,s.value)})},Is=(t,e,o,a)=>{var f,v,h,_,g,D,V;const n=((f=t.pageData)==null?void 0:f.method)??"GET",s=Le(t);s!=null&&s.isBack&&delete s.isBack;let l=((v=e.checkboxConfig)==null?void 0:v.labelField)??"";l||(l=((h=e==null?void 0:e.rowConfig)==null?void 0:h.keyField)??"id");const c=y({method:n,params:{...s,[l]:o},data:{...s,[l]:o}});n==="GET"&&delete c.value.data;const u=(_=t.pageData)==null?void 0:_.api;if(!u){A("请设置接口地址");return}const i=((g=t.message)==null?void 0:g.type)??"",d=((D=t.message)==null?void 0:D.title)??"",m=((V=t.message)==null?void 0:V.content)??"";ke(m,d,i).then(()=>{Ge(t,u,a,c.value)})},Ds=(t,e,o,a)=>{var m,f,v,h,_,g,D;const n=((m=t.pageData)==null?void 0:m.method)??"GET";let s=((f=o.checkboxConfig)==null?void 0:f.labelField)??"";s||(s=((v=o==null?void 0:o.rowConfig)==null?void 0:v.keyField)??"id");const l=y({method:n,params:{...e},data:{...e}});n==="GET"&&delete l.value.data;const c=(h=t.pageData)==null?void 0:h.api;if(!c){A("请设置接口地址");return}const u=((_=t.message)==null?void 0:_.title)??"",i=((g=t.message)==null?void 0:g.type)??"",d=((D=t.message)==null?void 0:D.content)??"";ke(d,u,i).then(()=>{Ge(t,c,a,l.value)})},js=(t,e,o)=>{var s,l,c;if(!(((s=t.message)==null?void 0:s.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.path){A("请提供远程组件地址");return}const n={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((c=t.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ne.close(),o==null||o.commitProxy("reload")}};re(Qe,n,{...t.message,beforeClose:(u,i,d)=>{d(),o==null||o.commitProxy("reload")}})},As=(t,e,o,a)=>{var c,u,i,d,m,f;if(!(((c=t.message)==null?void 0:c.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.path){A("请提供远程组件地址");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[s]:o},"onUpdate:close":()=>{ne.close(),a==null||a.commitProxy("reload")}});((m=t.pageData)==null?void 0:m.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),re(Qe,l.value,{...t.message,beforeClose:(v,h,_)=>{_(),a==null||a.commitProxy("reload")}})},Vs=(t,e,o,a)=>{var l,c;if(!(((l=t.message)==null?void 0:l.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.path){A("请提供远程组件地址");return}e!=null&&e.isBack&&delete e.isBack;const s=y({file:(c=t.pageData)==null?void 0:c.path,ajaxParams:e,"onUpdate:close":()=>{ne.close(),a==null||a.commitProxy("reload")}});re(Qe,s.value,{...t.message,beforeClose:(u,i,d)=>{d(),a==null||a.commitProxy("reload")}})},Ss=(t,e,o)=>{var s,l,c,u;if(!(((s=t.message)==null?void 0:s.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供信息模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(gt,n,{...t.message,beforeClose:(i,d,m)=>{m(),o==null||o.commitProxy("reload")}})},Ts=(t,e,o,a)=>{var u,i,d,m,f,v;if(!(((u=t.message)==null?void 0:u.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}let s=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";s||(s=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(m=t.pageData)==null?void 0:m.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[s]:o}}),c=((v=t==null?void 0:t.pageData)==null?void 0:v.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),re(gt,l.value,{...t.message,beforeClose:(h,_,g)=>{g(),a==null||a.commitProxy("reload")}})},Bs=(t,e,o,a)=>{var c,u,i,d,m;if(!(((c=t.message)==null?void 0:c.title)||"")){A("信息模态框标题不能为空");return}if(!t.pageData.api){A("请提供信息模态框接口");return}const s=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(s.value.ajaxParams={...s.value.ajaxParams,...l}),(m=s.value.ajaxParams)!=null&&m.isBack&&delete s.value.ajaxParams.isBack,re(gt,s.value,{...t.message,beforeClose:(f,v,h)=>{h(),a==null||a.commitProxy("reload")}})},Es=(t,e,o)=>{var s,l,c,u;if(!(((s=t.message)==null?void 0:s.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供表格模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(wt,n,{...t.message,beforeClose:(i,d,m)=>{m(),o==null||o.commitProxy("reload")}})},Ls=(t,e,o,a)=>{var c,u,i,d,m,f,v;if(!(((c=t.message)==null?void 0:c.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[s]:o}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(v=t.pageData)==null?void 0:v.queryParams}),re(wt,l.value,{...t.message,beforeClose:(h,_,g)=>{g(),a==null||a.commitProxy("reload")}})},Ms=(t,e,o,a)=>{var c,u,i,d;if(!(((c=t.message)==null?void 0:c.title)||"")){A("模态框标题不能为空");return}if(!t.pageData.api){A("请提供模态框接口");return}const s=y({api:(u=t.pageData)==null?void 0:u.api,method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(s.value.ajaxParams={...s.value.ajaxParams,...l}),re(wt,s.value,{...t.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},Rs=(t,e,o,a)=>{},Us=(t,e,o)=>{var a;switch((a=e.pageData)==null?void 0:a.type){case"page":gs(e);break;case"link":xs(e);break;case"down":break;case"confirm":$s(e,t,o);break;case"modal":bs(e,t,o);break;case"info":Ss(e,t,o);break;case"table":Es(e,t,o);break;case"remote":js(e,t,o);break;default:A("按钮类型错误");break}},Os=(t,e,o)=>{var c,u,i,d;const a=(c=t.columns)==null?void 0:c.filter(m=>m.type==="checkbox");if(!(a!=null&&a.length)){A("请先开启批量操作");return}const n=(o==null?void 0:o.getCheckboxRecords())??[];if(n.length<=0){A("请选择数据");return}let s=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id");const l=n.map(m=>m[s]);switch((d=e.pageData)==null?void 0:d.type){case"link":ks(e,t,l);break;case"down":break;case"confirm":Is(e,t,l,o);break;case"remote":As(e,t,l,o);break;case"modal":Ps(e,t,l,o);break;case"info":Ts(e,t,l,o);break;case"table":Ls(e,t,l,o);break;default:A("按钮类型错误");break}},Tt=(t,e,o,a,n)=>{var c,u;if(!a){A("行参数出错");return}const s=y({}),l=((c=e.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(s.value={...l}),s.value={...s.value,...vs(e,o,a,t)},(u=e.pageData)==null?void 0:u.type){case"page":ys(e,s.value);break;case"link":ws(e,s.value);break;case"down":Rs(e,s.value);break;case"confirm":Ds(e,s.value,t,n);break;case"modal":Cs(e,s.value,t,n);break;case"info":Bs(e,s.value,t,n);break;case"table":Ms(e,s.value,t,n);break;case"remote":Vs(e,s.value,t,n);break;default:A("按钮类型错误");break}};const Fs=()=>{const t=_e();return((t==null?void 0:t.routeList)??[]).map(a=>a.path)},kt=t=>Fs().includes(t),qs={class:"button-group"},Hs={class:"pr-1"},zs={class:"no-group-buttons"},Ns=$({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var v;const e=t,o=j(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIcon)??"Operation"}),a=j(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},s=y(((v=e.column.params)==null?void 0:v.buttonStyle)??n),l=j(()=>e.rightButtonList.filter(h=>{var g,D,V,U,B,k,I,S,H,Q;const _=((g=h.pageData)==null?void 0:g.group)||((D=e.column.params)==null?void 0:D.group);return(U=(V=h.pageData)==null?void 0:V.params)!=null&&U.field&&((k=(B=h.pageData)==null?void 0:B.params)!=null&&k.value)&&_?(e.row[(S=(I=h.pageData)==null?void 0:I.params)==null?void 0:S.field]||"")===((Q=(H=h.pageData)==null?void 0:H.params)==null?void 0:Q.value):_})),c=j(()=>e.rightButtonList.filter(h=>{var _;return!((_=h.pageData)!=null&&_.group)})),u=j(()=>{var h;return((h=e.column.params)==null?void 0:h.groupText)||"更多"}),i=j(()=>h=>{var B,k,I,S,H,Q,ae;const _=((B=h.pageData)==null?void 0:B.api)??"";if(!kt(_))return!1;const g=((I=(k=h==null?void 0:h.pageData)==null?void 0:k.params)==null?void 0:I.where)??"",D=(H=(S=h==null?void 0:h.pageData)==null?void 0:S.params)==null?void 0:H.field,V=(ae=(Q=h==null?void 0:h.pageData)==null?void 0:Q.params)==null?void 0:ae.value;if(D===void 0&&V===void 0)return!0;if(D===void 0||D===""||D&&(V===void 0||V===""))return!1;const U=e.row[D];switch(g){case"!=":return V!==U;case"in":return V instanceof Array&&dt(U,V);case"notIn":return V instanceof Array&&!dt(U,V);default:return V===U}}),d=j(()=>h=>{const _={...h};return _!=null&&_.icon&&delete _.icon,_}),m=h=>{Tt(e.gridConfig,h,e.column,e.row,e.xGrid)},f=h=>{Tt(e.gridConfig,h,e.column,e.row,e.xGrid)};return(h,_)=>{const g=G,D=T("el-button"),V=T("el-dropdown-item"),U=T("el-dropdown-menu"),B=T("el-dropdown");return p(),x("div",qs,[r(l).length?(p(),P(B,{key:0,class:"mr-2",onCommand:m},{dropdown:b(()=>[w(U,null,{default:b(()=>[(p(!0),x(O,null,X(r(l),(k,I)=>(p(),x(O,{key:I},[r(i)(k)?(p(),P(V,{key:0,command:k},{default:b(()=>{var S,H,Q;return[(S=k==null?void 0:k.button)!=null&&S.icon?(p(),P(g,{key:0,icon:(H=k==null?void 0:k.button)==null?void 0:H.icon,type:(Q=k==null?void 0:k.button)==null?void 0:Q.iconType},null,8,["icon","type"])):E("",!0),C("span",null,M(k.title),1)]}),_:2},1032,["command"])):E("",!0)],64))),128))]),_:1})]),default:b(()=>[w(D,R({type:"danger"},r(s)),{default:b(()=>[C("span",Hs,M(r(u)),1),r(o)?(p(),P(g,{key:0,icon:r(o),type:r(a)},null,8,["icon","type"])):E("",!0)]),_:1},16)]),_:1})):E("",!0),C("div",zs,[(p(!0),x(O,null,X(r(c),(k,I)=>{var S;return Xt((p(),x("div",{key:I,class:"item"},[(p(),P(D,R({key:I},r(d)((k==null?void 0:k.button)??{}),{onClick:H=>f(k)}),We({default:b(()=>[F(" "+M(k.title),1)]),_:2},[(S=k==null?void 0:k.button)!=null&&S.icon?{name:"icon",fn:b(()=>{var H,Q,ae;return[(H=k==null?void 0:k.button)!=null&&H.icon?(p(),P(g,{key:0,icon:(Q=k==null?void 0:k.button)==null?void 0:Q.icon,type:((ae=k==null?void 0:k.button)==null?void 0:ae.iconType)??""},null,8,["icon","type"])):E("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Gt,r(i)(k)]])}),128))])])}}});const Ws=L(Ns,[["__scopeId","data-v-fdae9efa"]]),Xs={class:"flex space-x-2"},Gs=$({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,o=j(()=>e.topButtonList.filter(n=>{var s;return!((s=n.pageData)!=null&&s.group)})),a=j(()=>n=>{var l;const s=((l=n.pageData)==null?void 0:l.api)??"";return!!kt(s)});return(n,s)=>{const l=G,c=T("el-button"),u=T("el-space");return p(),x("div",Xs,[r(o).length?(p(),P(u,{key:0},{default:b(()=>[(p(!0),x(O,null,X(r(o),(i,d)=>{var m;return p(),x(O,null,[r(a)(i)?(p(),P(c,R({key:d},(i==null?void 0:i.button)??{},{onClick:f=>r(Us)(e.gridConfig,i,n.xGrid)}),We({default:b(()=>[F(" "+M(i.title),1)]),_:2},[(m=i==null?void 0:i.button)!=null&&m.icon?{name:"icon",fn:b(()=>{var f,v;return[w(l,{icon:(f=i==null?void 0:i.button)==null?void 0:f.icon,type:(v=i==null?void 0:i.button)==null?void 0:v.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):E("",!0)],64)}),256))]),_:1})):E("",!0)])}}}),Qs={class:"flex space-x-2"},Zs=$({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,o=j(()=>{var s;return((s=e.selectButtonList)==null?void 0:s.filter(l=>{var c;return!((c=l.pageData)!=null&&c.group)}))||[]}),a=j(()=>s=>{const l={...s};return l!=null&&l.icon&&delete l.icon,l}),n=j(()=>s=>{var c;const l=((c=s.pageData)==null?void 0:c.api)??"";return!!kt(l)});return(s,l)=>{const c=G,u=xt,i=T("el-space");return p(),x("div",Qs,[r(o).length?(p(),P(i,{key:0},{default:b(()=>[(p(!0),x(O,null,X(r(o),(d,m)=>{var f;return p(),x(O,null,[r(n)(d)?(p(),P(u,R({key:m,type:"primary"},r(a)((d==null?void 0:d.button)??{}),{onClick:v=>r(Os)(e.gridConfig,d,s.xGrid)}),We({default:b(()=>[F(" "+M(d.title),1)]),_:2},[(f=d==null?void 0:d.button)!=null&&f.icon?{name:"icon",fn:b(()=>{var v,h;return[w(c,{icon:(v=d==null?void 0:d.button)==null?void 0:v.icon,type:(h=d==null?void 0:d.button)==null?void 0:h.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):E("",!0)],64)}),256))]),_:1})):E("",!0)])}}}),Js={class:"flex space-x-3"},Ys={key:1,class:"flex space-x-1"},Ks=$({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=se();return(o,a)=>{var s,l,c;const n=xt;return p(),x("div",Js,[(s=r(e).query)!=null&&s.isBack?(p(),P(n,{key:0,type:"primary",onClick:r(ze)},{default:b(()=>[F(" 返回 ")]),_:1},8,["onClick"])):E("",!0),o.topButtonList.length||(l=o.selectButtonList)!=null&&l.length?(p(),x("div",Ys,[o.topButtonList.length?(p(),P(Gs,q(R({key:0},{xGrid:o.xGrid,gridConfig:o.gridConfig,topButtonList:o.topButtonList})),null,16)):E("",!0),(c=o.selectButtonList)!=null&&c.length?(p(),P(Zs,q(R({key:1},{xGrid:o.xGrid,gridConfig:o.gridConfig,selectButtonList:o.selectButtonList})),null,16)):E("",!0)])):E("",!0)])}}}),el=t=>(Ie("data-v-c11e2f2f"),t=t(),De(),t),tl=el(()=>C("div",null,null,-1)),ol={class:"assets-container"},al={class:"item"},nl=["src"],sl=["src"],ll=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o="",a=j(()=>{var s,l;return((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.resource)??[]}),n=j(()=>Y(e.column,e.row));return(s,l)=>{const c=G,u=T("el-tooltip");return p(),x(O,null,[tl,C("div",ol,[(p(!0),x(O,null,X(r(a),(i,d)=>(p(),P(u,{key:d,show:i==null?void 0:i.isUpdate,trigger:"hover",placement:"top"},{content:b(()=>[F(M((i==null?void 0:i.title)??"错误"),1)]),default:b(()=>[C("div",al,[(i==null?void 0:i.type)==="url"&&r(bt)(i==null?void 0:i.icon)?(p(),x("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,nl)):(i==null?void 0:i.type)==="path"?(p(),x("img",{key:1,class:"logo",src:`${r(o)}${i==null?void 0:i.icon}`},null,8,sl)):(p(),P(c,{key:2,icon:i.icon},null,8,["icon"])),C("span",null,M(r(n)[i.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const cl=L(ll,[["__scopeId","data-v-c11e2f2f"]]),rl=$({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,s;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l,c)=>{const u=G;return p(),P(u,R({icon:r(o)},r(a)),null,16,["icon"])}}}),il={class:"xh-image-error"},ul=$({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,s,l,c;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l=a.value)!=null&&l.style||(a.value.style={width:"30px",height:"30px"}),(c=a.value)!=null&&c.preview&&(a.value.previewSrcList=[o.value],delete a.value.preview),(u,i)=>{const d=G,m=T("el-image");return p(),P(m,R(r(a),{src:r(o),class:"xh-table-image"}),{error:b(()=>[C("div",il,[w(d,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const dl=L(ul,[["__scopeId","data-v-2e6bc660"]]),pl=t=>(Ie("data-v-257b233b"),t=t(),De(),t),ml={class:"xh-image-error"},_l=pl(()=>C("span",null,"加载失败",-1)),fl=$({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,c,u;const e=t,o=j(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),a=j(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=j(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i:[]}),s=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=s.value)!=null&&u.style||(s.value.style={width:"30px",height:"30px"}),(i,d)=>{const m=G,f=T("el-image");return p(!0),x(O,null,X(r(n),(v,h)=>(p(),P(f,R(r(s),{key:h,src:v==null?void 0:v.url,"preview-src-list":r(o)?[]:r(a)}),{error:b(()=>[C("div",ml,[w(m,{icon:"Picture",type:"element"}),_l])]),_:2},1040,["src","preview-src-list"]))),128)}}});const hl=L(fl,[["__scopeId","data-v-257b233b"]]),vl=t=>(Ie("data-v-50a2462d"),t=t(),De(),t),gl={class:"xh-image-error"},yl=vl(()=>C("span",null,"加载失败",-1)),xl=$({__name:"index",props:{column:{},row:{}},setup(t){var l,c,u;const e=t,o=j(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),a=j(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=j(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i[0]:[]}),s=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=s.value)!=null&&u.style||(s.value.style={width:"30px",height:"30px"}),(i,d)=>{var v;const m=G,f=T("el-image");return p(),P(f,R(r(s),{src:(v=r(n))==null?void 0:v.url,"preview-src-list":r(o)?[]:r(a)}),{error:b(()=>[C("div",gl,[w(m,{icon:"Picture",type:"element"}),yl])]),_:1},16,["src","preview-src-list"])}}});const kl=L(xl,[["__scopeId","data-v-50a2462d"]]),wl=$({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;ge(a=>({"564a0163":r(o)}));const o=j(()=>e.isBorder?e.border:"");return(a,n)=>{const s=T("el-input");return p(),P(s,{class:pe({"xh-input":a.isBorder})},null,8,["class"])}}});const bl=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c;const e=t,o=j(()=>Y(e.column,e.row)),a=y(""),n=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{}),s=u=>{var v,h,_,g;const i=Ae("rowEdit",!0),d=((v=e.column.params)==null?void 0:v.api)??i,m=((_=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:_.keyField)??"id",f={[m]:e.row[m],keyField:m,field:(g=e.column)==null?void 0:g.field,value:u};je(d,f,e.xGrid)};return(u,i)=>{const d=wl;return p(),P(d,R({modelValue:r(a),"onUpdate:modelValue":i[0]||(i[0]=m=>te(a)?a.value=m:null),value:r(o),placeholder:"请输入"},r(n),{"is-border":!0,onChange:s}),null,16,["modelValue","value"])}}}),Cl=$({__name:"index",setup(t){return(e,o)=>{const a=T("el-input-number");return p(),P(a)}}}),Pl=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var c,u;const e=t,o=j(()=>Y(e.column,e.row)),a=j(()=>{var i;return((i=e.column.params)==null?void 0:i.isMessage)??!1}),n=y(o),s=y(((u=(c=e.column)==null?void 0:c.params)==null?void 0:u.props)??{}),l=i=>{var h,_,g,D;const d=Ae("rowEdit",!0),m=((h=e.column.params)==null?void 0:h.api)??d,f=((g=(_=e.gridConfig)==null?void 0:_.rowConfig)==null?void 0:g.keyField)??"id",v={[f]:e.row[f],keyField:f,field:(D=e.column)==null?void 0:D.field,value:i};je(m,v,e.xGrid,a.value)};return(i,d)=>{const m=Cl;return p(),P(m,R({modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=f=>te(n)?n.value=f:null),value:r(o)},r(s),{onChange:l}),null,16,["modelValue","value"])}}}),$l=$({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=j(()=>{var l;const s=((l=e.column)==null?void 0:l.params)??{};return s!=null&&s.type||delete s.type,s}),a=j(()=>{var s,l;return((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.format)??"￥"}),n=j(()=>Y(e.column,e.row));return(s,l)=>(p(),x("div",q(N(r(o))),M(r(a))+M(r(It).commafy(r(It).toNumber(r(n)),{digits:2})),17))}}),oo=async(t,e)=>{let o="";e&&(o=Nr(e));const a=`${t}?${o}&t=${Date.now()}`;return await ve(a)},Il=async(t,e,o)=>{for(let a=0;a<t.length;a++){const n=t[a],s=await oo(n),l=n.includes(".js");if(!e&&l)e=s.toString();else if(e&&l){const u=s.toString();e+=`
${u}`}const c=n.includes(".css")||n.includes(".scss");if(!o&&c)o=s.toString();else if(o&&c){const u=s.toString();o+=`
${u}`}}return{jsContent:e,cssContent:o}},ut=(t,e="el-icon-warning",o="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${e}" style="${o}"></div>
            <div class="mt-5px">${t}</div>
        </div>
        `}),Dl=t=>{const e=/<link[^>]*src="(.*?)"[^>]*>/g,o=Array.from(t.matchAll(e),d=>d[1]),a=Wr(),n=Re(),s=o.map(d=>(d=`${a}${d}`,d.replace("{moduleName}",n))),l=t==null?void 0:t.match(/<template>([\s\S]*)<\/template>/),c=t==null?void 0:t.match(/<script.*>([\s\S]*)<\/script>/),u=t==null?void 0:t.match(/<style.*>([\s\S]*)<\/style>/);return{templates:l?l[1]:"",sctipts:c?c[1]:"",styles:u?u[1]:"",stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null,links:s}},ao={vue:null},jl=(t,e,o)=>ne.alert(t,{confirmButtonText:"确定",type:e,...o}),Al=(t,e,o)=>{Lo({message:t,type:e,...o})},Vl=(t,e,o)=>ne({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Ne(Qe,{file:t,ajaxParams:e,"onUpdate:close":()=>{ne.close()}})}),Sl=async t=>{const e=Dl(t);if(!e.sctipts||!e.templates)return Promise.resolve({ponentObj:ut("远程代码格式解析失败"),tplData:e});let o={jsContent:"",cssContent:""};e.links.length>0&&(o=await Il(e.links,o.jsContent,o.cssContent)),o.cssContent&&(e.styles=o.cssContent+e.styles);const a=e.sctipts.indexOf("{"),n=e.sctipts.lastIndexOf("}");if(a===-1||n===-1)return Promise.resolve({ponentObj:ut("解析代码错误"),tplData:e});const s=e.sctipts.slice(a,n+1),l=`${o.jsContent}
return ${s}`,c=new Function(l)();return c.template=e==null?void 0:e.templates,Promise.resolve({ponentObj:c,tplData:e})},Tl=()=>{const t=ao.vue,e=_e(),o=K(),a=Re();t.config.globalProperties.$moduleName=a,t.config.globalProperties.$userApp=e,t.config.globalProperties.$siteApp=o,t.config.globalProperties.$axios=In,t.config.globalProperties.$http={useGet:ve,usePost:Te,usePut:rt,useDelete:it},t.config.globalProperties.$useGet=ve,t.config.globalProperties.$usePost=Te,t.config.globalProperties.$usePut=rt,t.config.globalProperties.$useDelete=it,t.config.globalProperties.$dplayer=Wt,t.config.globalProperties.$echarts=Mo,t.config.globalProperties.$useKeyCodeEvent=zr,t.component("XRemote")===void 0&&t.component("XRemote",ie),t.component("AppIcons")===void 0&&t.component("AppIcons",G),t.config.globalProperties.$useAlert=jl,t.config.globalProperties.$useConfirm=ke,t.config.globalProperties.$useMessage=Al,t.config.globalProperties.$useNotify=Xe,t.config.globalProperties.$useLoading=Me,t.config.globalProperties.$useRemote=Vl},Bl=(t,e)=>{Ro.render(t).then(o=>{const a=document.createElement("style");if(a.setAttribute("type","text/css"),a.setAttribute("id",`css${e}`),a.styleSheet)a.styleSheet.cssText=o.css;else{const s=document.createTextNode(o.css);a.appendChild(s)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(a):document.documentElement.appendChild(a)})},El=(t,e,o)=>{if(t.setAttribute("class",`remote css${e}`),!document.querySelector(`style[id=css${e}]`)){let a="";o.stylesHasScoped?a=`
            .css${e}{
                ${o.styles}
            }
        `:a=o.styles,Bl(a,e)}},Ll=$({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const o=t,a=pt(),n=y(),s=y(nt()),l=y(o.isApi),c=y(o.file),u=async h=>await oo(h,o.ajaxParams).then(async _=>{const g=_.toString(),D=await Sl(g);return El(n.value,s.value,D.tplData),D.ponentObj}).catch(_=>{e("update:error",_),console.error("解析组件内容出错",_)}),i=Uo(async()=>c.value?await u(`${c.value}.vue`).then(h=>(Tl(),e("update:init",h),h)):ut("请先配置远程文件")),d=h=>{e("update:modelValue",h)},m=h=>{l.value=!1,c.value=h,s.value=nt(),u(c.value)},f=()=>{s.value=nt(),u(c.value)},v=()=>{o!=null&&o.isModal&&e("update:close")};return(h,_)=>(p(),x("div",{ref_key:"remoteRef",ref:n},[(p(),P(qt(r(i)),R({...r(a),...h.ajaxParams},{"onUpdate:modelValue":d,"onUpdate:openWin":m,"onUpdate:reloadWin":f,"onUpdate:closeWin":v}),null,16))],512))}});const ie=L(Ll,[["__scopeId","data-v-adc7c12f"]]),Ml=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,o=j(()=>{var c,u;return(u=(c=e.column)==null?void 0:c.params)==null?void 0:u.file}),a=((l=e.column)==null?void 0:l.field)??"",n=j(()=>Y(e.column,e.row)),s=c=>{var f,v,h,_;const u=Ae("rowEdit",!0),i=((f=e.column.params)==null?void 0:f.api)??u,d=((h=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:h.keyField)??"id",m={[d]:e.row[d],keyField:d,field:(_=e.column)==null?void 0:_.field,value:c};je(i,m,e.xGrid)};return(c,u)=>{const i=ie;return p(),P(i,R({modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=d=>te(n)?n.value=d:null),file:r(o)},{column:c.column,field:r(a),row:c.row},{"onUpdate:value":s}),null,16,["modelValue","file"])}}}),Rl={key:0,class:"tabs-container"},Ul={class:"tabs-list"},Ol=["onClick"],Fl={class:"pl-1"},ql=$({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var i;const e=t,o=y();j(()=>o.value.wrapRef);const a=se(),n=Qt(),s=((i=e.tabsConfig)==null?void 0:i.field)??"",l=a==null?void 0:a.query[s],c=j(()=>{var d;return l??((d=e.tabsConfig)==null?void 0:d.active)}),u=d=>{n.push({query:{[s]:d.value}})};return(d,m)=>{var h,_;const f=G,v=T("el-space");return(_=(h=d.tabsConfig)==null?void 0:h.list)!=null&&_.length?(p(),x("div",Rl,[C("div",Ul,[w(v,null,{default:b(()=>[(p(!0),x(O,null,X(d.tabsConfig.list,(g,D)=>(p(),x("div",{key:D,class:pe(["item",{active:r(c)===(g==null?void 0:g.value)}]),onClick:V=>u(g)},[g!=null&&g.icon?(p(),P(f,{key:0,icon:g==null?void 0:g.icon},null,8,["icon"])):E("",!0),C("span",Fl,M((g==null?void 0:g.label)??"错误"),1)],10,Ol))),128))]),_:1})])])):E("",!0)}}});const Hl=L(ql,[["__scopeId","data-v-e05c271e"]]),zl=$({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){const e=Qt(),o=se(),a=n=>{e.push({path:o.fullPath,query:{...o.query,...n.data}})};return(n,s)=>{var c;const l=T("vxeForm");return p(),P(l,{items:n.formScreen.items,data:(c=n.formScreen)==null?void 0:c.data,onSubmit:a},null,8,["items","data"])}}}),Nl=$({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(t){return(e,o)=>{var n,s;const a=ie;return p(),P(a,R({file:((n=e.formRemote)==null?void 0:n.file)||""},{ajaxParams:(s=e.formRemote)==null?void 0:s.ajaxParams}),null,16,["file"])}}}),Wl={class:"form-tabs-container"},Xl=$({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,o)=>{var l,c,u,i;const a=Nl,n=zl,s=Hl;return p(),x("div",Wl,[(l=e.formRemote)!=null&&l.file?(p(),P(a,q(R({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):E("",!0),(c=e.formScreen)!=null&&c.data?(p(),P(n,q(R({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):E("",!0),(i=(u=e.tabsConfig)==null?void 0:u.list)!=null&&i.length?(p(),P(s,q(R({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):E("",!0)])}}});const Gl=L(Xl,[["__scopeId","data-v-4bb9ed66"]]),Ql=["innerHTML"],Zl=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n,s;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l,c)=>(p(),x("div",R(r(a),{innerHTML:r(o)}),null,16,Ql))}}),Jl=$({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,o=j(()=>e.value);return(a,n)=>{const s=T("el-option"),l=T("el-select");return p(),P(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=c=>te(o)?o.value=c:null),placeholder:"请选择"},{default:b(()=>[(p(!0),x(O,null,X(a.options,c=>(p(),P(s,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),Yl=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var s;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((s=e.column)==null?void 0:s.params)??{}),n=l=>{var m,f,v,h;const c=Ae("rowEdit",!0),u=((m=e.column.params)==null?void 0:m.api)??c,i=((v=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:v.keyField)??"id",d={[i]:e.row[i],keyField:i,field:(h=e.column)==null?void 0:h.field,value:l};je(u,d,e.xGrid)};return(l,c)=>{var i,d;const u=Jl;return(d=(i=r(a))==null?void 0:i.options)!=null&&d.length?(p(),P(u,R({key:0,value:r(o)},r(a),{onChange:n}),null,16,["value"])):E("",!0)}}}),Kl=$({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o=j(()=>Y(e.column,e.row)),a=n=>{var i,d,m,f;const s=Ae("rowEdit",!0),l=((i=e.column.params)==null?void 0:i.api)??s,c=((m=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:m.keyField)??"id",u={[c]:e.row[c],keyField:c,field:(f=e.column)==null?void 0:f.field,value:n};je(l,u,e.xGrid)};return(n,s)=>{var c,u,i,d,m,f,v,h,_,g,D,V,U,B,k,I,S,H,Q,ae,be,Ve,Ue,Oe;const l=T("el-switch");return p(),P(l,{modelValue:r(o),"onUpdate:modelValue":s[0]||(s[0]=Je=>te(o)?o.value=Je:null),"active-action-icon":((i=(u=(c=n.column)==null?void 0:c.params)==null?void 0:u.checked)==null?void 0:i.icon)??"","active-color":((f=(m=(d=n.column)==null?void 0:d.params)==null?void 0:m.checked)==null?void 0:f.color)??"#13ce66","active-text":(_=(h=(v=n.column)==null?void 0:v.params)==null?void 0:h.checked)==null?void 0:_.text,"active-value":(V=(D=(g=n.column)==null?void 0:g.params)==null?void 0:D.checked)==null?void 0:V.value,"inactive-action-icon":((k=(B=(U=n.column)==null?void 0:U.params)==null?void 0:B.unchecked)==null?void 0:k.icon)??"","inactive-color":((H=(S=(I=n.column)==null?void 0:I.params)==null?void 0:S.unchecked)==null?void 0:H.color)??"#ff4949","inactive-text":(be=(ae=(Q=n.column)==null?void 0:Q.params)==null?void 0:ae.unchecked)==null?void 0:be.text,"inactive-value":(Oe=(Ue=(Ve=n.column)==null?void 0:Ve.params)==null?void 0:Ue.unchecked)==null?void 0:Oe.value,"inline-prompt":"",onChange:a},null,8,["modelValue","active-action-icon","active-color","active-text","active-value","inactive-action-icon","inactive-color","inactive-text","inactive-value"])}}}),ec=$({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=j(()=>Y(e.column,e.row)),a=j(()=>{var s;return(s=e.column.params)!=null&&s.options?e.column.params.options[o.value]||"标签错误":"选项错误"}),n=j(()=>{var c;const s=y({style:{},...e.column.params??{}});(c=s.value)!=null&&c.type&&delete s.value.type;const l=j(()=>{var u,i;if((u=e.column.params)!=null&&u.style)return((i=e.column.params)==null?void 0:i.style[o.value])||void 0});return s.value.style=l.value,s.value});return(s,l)=>{const c=T("el-tag");return p(),P(c,q(N(r(n).style)),{default:b(()=>[F(M(r(a)),1)]),_:1},16)}}}),tc={class:"flex"},oc=["href","target"],ac=$({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,l;const e=t,o=j(()=>Y(e.column,e.row)),a=y(((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.props)??{}),n=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.value).then(c=>{});else{const c=document.createElement("input");c.value=o.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}oe("链接复制成功")};return(c,u)=>{var m;const i=G,d=T("el-button");return p(),x("div",tc,[C("a",{href:r(o),target:r(a).target??"_blank"},M(r(a).text?r(a).text:r(o)),9,oc),(m=r(a))!=null&&m.copy?(p(),P(d,{key:0,type:"primary",size:"small",text:"",onClick:n},{icon:b(()=>[w(i,{icon:"CopyDocument",size:14})]),default:b(()=>[F(" 复制 ")]),_:1})):E("",!0)])}}}),nc={class:"xb-pictuer"},sc={key:0,class:"info"},lc=["innerHTML"],cc=["innerHTML"],rc=$({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=j(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.props)??{}}),a=j(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.image)??"avatar"}),n=j(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.title)??"title"}),s=j(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.desc)??"desc"}),l=j(()=>e.row[a.value]),c=j(()=>e.row[n.value]),u=j(()=>e.row[s.value]);return(i,d)=>{const m=T("el-image");return p(),x("div",nc,[w(m,R({class:"pictuer",src:r(l),"preview-src-list":[r(l)]},r(o)),null,16,["src","preview-src-list"]),r(c)||r(u)?(p(),x("div",sc,[r(c)?(p(),x("div",{key:0,class:"title",innerHTML:r(c)},null,8,lc)):E("",!0),r(u)?(p(),x("div",{key:1,class:"desc",innerHTML:r(u)},null,8,cc)):E("",!0)])):E("",!0)])}}});const ic=L(rc,[["__scopeId","data-v-553e0bc9"]]),uc=(t,e,o,a)=>{if(e.length<=0){A("请先导入数据");return}if(!t){A("请设置导入API接口");return}Te(t,{import:o,data:e}).then(s=>{var l;(l=a.xGrid)==null||l.commitProxy("query"),oe((s==null?void 0:s.msg)??"操作成功")})},dc=t=>{Pe.commands.add("importAllData",{commandMethod:e=>{var s;const{$table:o}=e,a=o==null?void 0:o.getTableData(),n=a==null?void 0:a.fullData;uc(((s=t.vxeTableConfig.importConfig)==null?void 0:s.api)??"",n,"all",t)}})},no=$({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const o=t,a=y(),n=y(),s=y(),l=y(),c=y([]),u=y([]),i=y([]),d=async()=>{const f=y({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?f.value.params=o.ajaxParams:f.value.data=o.ajaxParams),e("update:init",f.value);const v=`${o.api}Table`;return await Z(v,f.value).then(h=>{const _=h.data;s.value=_==null?void 0:_.realTable,l.value=_==null?void 0:_.tabsConfig,n.value=fs(o.api,o.method,_.tableConfig,o.ajaxParams,a.value),c.value=_.topButtonList,u.value=_.rightButtonList,i.value=_.selectButtonList,dc({xGrid:a.value,vxeTableConfig:n.value}),e("update:init-ok",_)}).catch(h=>{e("update:init-error",h)})},m=()=>{var f,v,h;if((f=s.value)!=null&&f.enable&&((v=s.value)!=null&&v.time_interval)){const _=((h=s.value)==null?void 0:h.time_interval)*1e3;setInterval(()=>{var g;(g=a.value)==null||g.commitProxy("reload")},_)}};return ce(async()=>{await d(),await m()}),(f,v)=>{var g,D,V,U,B;const h=rs,_=T("vxe-grid");return(g=r(n))!=null&&g.id?(p(),P(_,R({key:0,ref_key:"xGrid",ref:a,class:"xh-table"},r(n),{onEditClosed:v[0]||(v[0]=({column:k,row:I})=>r(ss)(k,I,r(n),r(a)))}),We({topButtonList:b(({$grid:k})=>[w(r(Ks),q(N({gridConfig:r(n),topButtonList:r(c),selectButtonList:r(i),xGrid:k})),null,16)]),rightButtonList:b(({row:k,column:I,$grid:S})=>[w(r(Ws),q(N({gridConfig:r(n),rightButtonList:r(u),row:k,column:I,xGrid:S})),null,16)]),pictuer:b(({row:k,column:I,$grid:S})=>[w(r(ic),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),unit:b(({row:k,column:I,$grid:S})=>[w(h,q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),html:b(({row:k,column:I,$grid:S})=>[w(r(Zl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),remote:b(({row:k,column:I,$grid:S})=>[w(r(Ml),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),tags:b(({row:k,column:I,$grid:S})=>[w(r(ec),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),link:b(({row:k,column:I,$grid:S})=>[w(r(ac),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),input:b(({row:k,column:I,$grid:S})=>[w(r(bl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),InputNumber:b(({row:k,column:I,$grid:S})=>[w(r(Pl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),assets:b(({row:k,column:I,$grid:S})=>[w(r(cl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),money:b(({row:k,column:I,$grid:S})=>[w(r($l),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),image:b(({row:k,column:I,$grid:S})=>[w(r(dl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),images:b(({row:k,column:I,$grid:S})=>[w(r(hl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),photos:b(({row:k,column:I,$grid:S})=>[w(r(kl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),icons:b(({row:k,column:I,$grid:S})=>[w(r(rl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),switch:b(({row:k,column:I,$grid:S})=>[w(r(Kl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),select:b(({row:k,column:I,$grid:S})=>[w(r(Yl),q(N({gridConfig:r(n),row:k,column:I,xGrid:S})),null,16)]),_:2},[(V=(D=r(n))==null?void 0:D.screenRemote)!=null&&V.file||(B=(U=r(l))==null?void 0:U.list)!=null&&B.length?{name:"form",fn:b(({$grid:k})=>{var I,S,H;return[w(r(Gl),q(N({gridConfig:r(n),xGrid:k,formScreen:{...(I=r(n))==null?void 0:I.formConfig,screenConfig:(S=r(n))==null?void 0:S.screenConfig},formRemote:(H=r(n))==null?void 0:H.screenRemote,tabsConfig:r(l)})),null,16)]}),key:"0"}:void 0]),1040)):E("",!0)}}}),pc={class:"xhadmin-table-pro"},mc=$({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,o)=>(p(),x("div",pc,[w(r(no),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const wt=L(mc,[["__scopeId","data-v-62ed6f04"]]),_c={class:"xh-modal-container"},fc=$({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const o=()=>{e("update:close")};return(a,n)=>(p(),x("div",_c,[w(r(ie),{file:a.file,"ajax-params":a.ajaxParams,"is-modal":!0,"onUpdate:close":o},null,8,["file","ajax-params"])]))}});const Qe=L(fc,[["__scopeId","data-v-523e3818"]]),hc={class:"xhadmin-table-pro"},vc=$({name:"/table"}),gc=$({...vc,setup(t){const e=se(),o=e.path,a=e.meta.method,n=e.query??{};return(s,l)=>(p(),x("div",hc,[w(r(no),{api:r(o),method:r(a),"ajax-params":r(n)},null,8,["api","method","ajax-params"])]))}});const yc=L(gc,[["__scopeId","data-v-0f9af155"]]),xc=t=>(Ie("data-v-c6a4b61a"),t=t(),De(),t),kc={class:"xhadmin-page-pro"},wc={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},bc=xc(()=>C("span",{class:"pl-1 text-[16px]"},"返回",-1)),Cc={key:0,class:"pl-20px text-[16px] select-none"},Pc={class:"form-pro flex-1"},$c=$({name:"/form"}),Ic=$({...$c,setup(t){const e=se(),o=y(),a=y(),n=e.path,s=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),u=y({submitBtn:{},resetBtn:{}}),i=h=>{var g;const _=(g=h==null?void 0:h.response)==null?void 0:g.extraConfig;u.value=_},d=()=>{o.value.submit()},m=()=>{o.value.reset(),oe("数据重置完成")},f=()=>{a.value.setDisabled(!0)},v=()=>{a.value.setDisabled(!1)};return(h,_)=>{var D,V,U;const g=G;return p(),x("div",kc,[(D=r(e).query)!=null&&D.isBack?(p(),x("div",wc,[C("div",{class:"flex items-center cursor-pointer select-none",onClick:_[0]||(_[0]=(...B)=>r(ze)&&r(ze)(...B))},[w(g,{icon:"ArrowLeftOutlined",size:16}),bc]),(V=r(e).meta)!=null&&V.title?(p(),x("div",Cc,M((U=r(e).meta)==null?void 0:U.title),1)):E("",!0)])):E("",!0),C("div",Pc,[w(r(vt),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(n),method:r(s),"ajax-params":r(c),"onUpdate:initOk":i,"onUpdate:submit":f,"onUpdate:submitOk":v,"onUpdate:submitError":v,"onUpdate:restOk":v,"onUpdate:initError":v},null,8,["api","method","ajax-params"])]),w(r(ns),{ref_key:"buttonRef",ref:a,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":d,"onUpdate:rest":m},null,8,["extra-config"])])}}});const Dc=L(Ic,[["__scopeId","data-v-c6a4b61a"]]),jc={class:"h-100%"},Ac=$({name:"remote"}),Vc=$({...Ac,setup(t){const o=se().meta.ajaxParams;return(a,n)=>(p(),x("div",jc,[w(r(ie),{file:r(o)},null,8,["file"])]))}}),Sc={};function Tc(t,e){return p(),x("div",null," Html内容文件 ")}const Bc=L(Sc,[["render",Tc]]),Ec={class:"h-100%"},Lc=$({name:"remote"}),Mc=$({...Lc,setup(t){const e=Ae();return(o,a)=>(p(),x("div",Ec,[w(r(ie),{file:r(e),"is-api":!0},null,8,["file"])]))}}),Rc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Dc,htmlIndex:Bc,remoteIndex:Vc,tableIndex:yc,vueIndex:Mc},Symbol.toStringTag,{value:"Module"})),ot={routeView:()=>fe(()=>import("./index.19e54f16.js"),["xbase/js/index.19e54f16.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"]),exceptionView:()=>fe(()=>import("./exception.a842db25.js"),["xbase/js/exception.a842db25.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"])},Uc=t=>{if(!t)return ot.blankView;if(t in ot)return ot[t];const e=Hr(t??"");return Rc[e]},Oc=t=>{for(const e of t){const o=e.remote,a=o.replace("/","_"),n=()=>Ne(ie,{file:o});n.displayName=a;const s={path:e==null?void 0:e.path,name:a,component:n,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};W.addRoute(s)}},Fc=t=>{const e=[];for(const o of t)if(o.path){const a={path:`/${o.path}`,name:o.path.replace("/","_"),component:zt(Uc(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,ajaxParams:o.params},children:[]};(!a.children||a.children.length<1)&&delete a.children,e.push(a)}return e},so=new Map,lo=(t,e,o)=>{var s;const a=[];let n=[];e?n=t.filter(l=>(l==null?void 0:l.pid)===e):n=t.filter(l=>!l.pid);for(const l of n){const c=o?`${o}-${l.id}`:`${l.id}`;let u=`/${l.path}`;if(l!=null&&l.params&&(l!=null&&l.params.includes("group"))){const m=Ze(`?${l==null?void 0:l.params}`);u+=`_group=${m==null?void 0:m.group}`}else l!=null&&l.params&&(u+=`_${l==null?void 0:l.params}`);so.set(u,c);const i={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.params,path:l.path,show:(l==null?void 0:l.show)??!0,target:l.target??"_blank",isGroup:!1,children:lo(t,l.id,c)},d=(s=i.children)==null?void 0:s.some(m=>m.show);i.show&&d&&(i.isGroup=!0),a.push(i)}return a},Bt=so,qc=y("OS");matchMedia("(prefers-color-scheme: dark)");function Hc(){return{theme:qc}}const _e=Zt("user",()=>{const t=Ee(),e=y({...jt}),o=y([]),a=y([]),n=y({...tt}),s=_=>{if(!_){A("令牌数据错误","温馨提示");return}_.includes("Bearer")||(_=`Bearer ${_}`),t.value=_},l=_=>{if(!(_!=null&&_.menus)){A("用户信息缺少Menus字段参数");return}_.menus instanceof Array&&_.menus.length>0&&(o.value=Fc(_.menus),a.value=lo(_.menus)),_!=null&&_.theme&&(n.value={...n.value,..._.theme}),e.value=_};return{layoutInfo:n,userInfo:e,Authorization:t,setToken:s,login:async(_,g=!0,D=!0)=>{var k,I,S,H,Q;const U=(I=(k=K().siteInfo)==null?void 0:k.public_api)==null?void 0:I.login;if(!U){A("请配置登录接口");return}const B=await Te(U,_);if(!((S=B==null?void 0:B.data)!=null&&S.access_token)){A("登录错误，没有获取到令牌","温馨提示");return}if(s(B.data.access_token),g&&oe((B==null?void 0:B.msg)??"登录成功","温馨提示"),D){const be=((H=W.currentRoute.value.query)==null?void 0:H.redirect)??B.data.url;W.push(be)}return(Q=B==null?void 0:B.data)==null?void 0:Q.access_token},loginOut:()=>{ke("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",l({...jt}),W.push(de)})},getUserInfo:async()=>{var V;const g=(V=K().siteInfo.public_api)==null?void 0:V.user;if(!g){A("请配置用户信息接口");return}const{data:D}=await ve(g);D&&l(D)},routeList:o,menuList:a,setTheme:_=>{n.value.theme=_,Hc().theme.value=_},setLayout:_=>{n.value.layout=_},setLayoutMenu:_=>{n.value.layoutMenu=_},hanldCollapse:_=>{let g=0;_?g=tt.sideWidth:g=n.value.sideMenuWidth,n.value.sideMenuCollapse=_,n.value.sideWidth=g},setLayoutMenuCollapse:()=>{let _=0,g=!1;n.value.sideMenuCollapse?(_=tt.sideWidth,g=!1):(_=n.value.sideMenuWidth,g=!0),n.value.sideMenuCollapse=g,n.value.sideWidth=_}}}),zc={class:"xhadmin-menus-pro"},Nc=["onClick"],Wc={class:"text"},Xc={key:0,class:"mask"},Gc=$({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;ge(f=>({"410bcf6a":r(s),"8ce1452e":r(l)}));const o=he(_e()).layoutInfo,a=j(()=>{var f;return((f=o.value)==null?void 0:f.layoutMenu)||"group"}),n=j(()=>{var f;return((f=o.value)==null?void 0:f.layoutTabsTheme)||"radius"}),s=j(()=>`${e.sideWidth}px`),l=j(()=>`${e.sideMenuWidth}px`),c=y(""),u=y(""),i=f=>{c.value=f;const v=c.value.split("-");u.value=v[0]},d=f=>{var _;const v=f[0],h=(_=v==null?void 0:v.children)==null?void 0:_.find(g=>g.show===!0);return v!=null&&v.children&&h?d((v==null?void 0:v.children)??[]):v},m=f=>{var U;const v=(U=f==null?void 0:f.children)==null?void 0:U.find(B=>B.show===!0);let h=f;f!=null&&f.children&&v&&(h=d((f==null?void 0:f.children)??[]));const _=h.path,g=y({});h.ajaxParams&&(g.value=Ze(h.ajaxParams));const D=h.activeId;i(D);const V={...g.value};me(`/${_}`,V)};return ce(()=>{i(e.active)}),(f,v)=>{const h=G,_=T("el-menu");return p(),x("div",zc,[(p(!0),x(O,null,X(f.menus,g=>(p(),x("div",{key:g.id,class:"item"},[g.show?(p(),x("div",{key:0,class:pe({"item-triangle":r(n)==="triangle","item-radius":r(n)==="radius",active:r(u)===g.activeId}),onClick:D=>m(g)},[w(h,{icon:g.icon,size:"22",type:(g==null?void 0:g.iconType)||""},null,8,["icon","type"]),C("div",Wc,M(g.title),1),r(n)==="triangle"?(p(),x("div",Xc)):E("",!0)],10,Nc)):E("",!0),C("div",{class:pe(["item-children",{active:r(u)===g.activeId}])},[w(_,{"default-active":f.active,"unique-opened":r(a)==="level"},{default:b(()=>[(p(!0),x(O,null,X(g.children,D=>(p(),x(O,{key:D.activeId},[r(a)==="level"?(p(),P(ka,{key:0,"menu-data":D},null,8,["menu-data"])):(p(),P(_t,{key:1,"menu-data":D},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const Qc=L(Gc,[["__scopeId","data-v-88d1763c"]]),Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",Zc=["src"],Jc=$({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;ge(n=>({"2035992c":r(a)}));const o=j(()=>e.logoSrc?e.logoSrc:Et),a=j(()=>`${e.logoHeight}px`);return(n,s)=>{const l=T("el-image");return p(),P(l,{src:r(o),class:"logo"},{error:b(()=>[C("img",{src:r(Et),class:"logo"},null,8,Zc)]),_:1},8,["src"])}}});const Yc=L(Jc,[["__scopeId","data-v-25a57a60"]]),Kc=$({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,o)=>(p(),x("span",null,M(e.sideName),1))}}),er={class:"xhadmin-logo-pro"},tr={class:"logo-image"},or={class:"logo-text"},ar=$({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;ge(c=>({"17f791e0":r(n),c8e0b0ea:r(l),"516e1642":r(s)}));const o=_e(),{layoutInfo:a}=he(o),n=j(()=>`${e.sideWidth}px`),s=j(()=>`${e.sideMenuWidth}px`),l=j(()=>`${e.headerHeight}px`);return(c,u)=>(p(),x("div",er,[C("div",tr,[w(Yc,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),Xt(C("div",or,[w(Kc,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[Gt,!r(a).sideMenuCollapse]])]))}});const nr=L(ar,[["__scopeId","data-v-10c86653"]]),sr=$({__name:"index",setup(t){const e=se(),o=()=>`${new Date().getTime()}${Math.random()}`,a=y("");return Jt(()=>e.fullPath,()=>{a.value=o()}),(n,s)=>{const l=T("router-view");return p(),P(l,{key:r(a)})}}}),Lt="2kxPLLhPzHvGV679nhjvx+7/Q6ejL3e/AUj0GGpKBzYMdXt7w3JImKWHUvOxWRwpxFrLh3DdPakGMtK5kIH+/G8LI/FGqrN3Ki2UpfG4d4dcs8WaQcZFAzQO9pYogwPcVaQDdXPcVbujAoEL7NAXDw4HgorRNyA3p+0+zVy/s/lADXLyXHNfsen/btV61qzfvD3EetLa/9wJHUvnL4+UHU6j/sZU7PxkxkVmbJxFcMBmZvJ0Ye7+ruLcfQPV7f8fbm7W/cMQGEFVxRsi73EyRrMT6zU9NnnuVW7MhC09yAZxFqLvsHCqu+qbh+V2y4X7zEdbUw2iDEfc+z/bSAPtsg==EmuytNQXOysbgaAl6gv2eTR/RPp3d3s+9M8/P6Up6GiCoNHNoYhhokC1L8m38Dp/tqElx+t1zbjQ05edoeC2FuYtR670VhtJ43+d6IW31l0VJiUlspqOxDNYEM6Svp9QR/68LOywfXSSrnO107+VifdaDA2pnc6+XLkIczMCAA5+ZPzGc8asiGUAPHXjGpOId7AE/x1owdIvWKKwcNitnAMbrw/Z8WHaL8VIxQo1Yd+AMqyH28iffk51OzwCO0X7WU1u6BWRcvshdOCVlT15J8//cqCskRcVxXZ70x7lj14biLzkrCpILzV7dcMzOYzT+/XtTIegCc9hCIPWoHuGxQ==kGlzZmVLYqKBkDfhdOclX966XBaO2tuC/1eFi7AsXwyb9x5qQYfF3WUR8h3tBcK3XcFtTu667R+vMD+N2CUye0hm0ZdxZmWC82qiieyVQfpqKyyTWfXjL0u1bBz0I10iKkmBfz2N4UP+oEzXA8PFldRrpJXWHayhbYpCN7xl30tNLdT19xqClThF5qHl1gOdMR/pZby5ZFYav+lDfzNO2RT2xVG5Xv06ScgsxLy4chNPJNL9FzlA4Pww+HvpdAm6FLFx2JqRUkonVGrrSn96ZHQdRqMQNUAi8M2JZC/0HWpnZXFPX6CY6y+9q+e3BuWjDMN+Mkf/RrYo2mlqWZHP3g==",Mt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDugQywjOCeu+GQ
b3/KAFUSrU7YXw23WBNo9c6aNsIu2JkEGWiXSWMlJ+QYVlGU+zTeiJbb3EK6r8/W
COarDDC92Qfbr3vztUG4vPbBYPewxaMrjCfbJ/9iut+Xjzd5Cci+FiD+Hcjne7wt
pYUmiOV2e0JpWX9OyI3QY+MkhddLaWHvzoJfxBf1vwDbBZbDME/byk4Zm5h7davE
rgFngEC1BoOqUn9T25thaYIa+oLq5jenkKVx0ztVe4sf/XxG18L7ZFuzYRR5kJ4o
VJfSwj3pwOWkvdLSyj72MtrR+9kvRfXpgB5Zcrp4UN7Gw4aU+cLcSwm6ZpsU4+8c
2oVCBpe9AgMBAAECggEAcueti2lz1kXCOGnfcRyT3/mrIMc6vngqccjrDpUPHK6x
ma38G9b5cy8yzx7XEyWrpQK9W5NUesi1IvMK3qFy4iQriwWSfCl5Tl2LrELhUkMF
h7dwhD9S5OgPTN9s5F14X0wd/Q+weQW99WfnLFeL5Xcg2cyKbxRkbl+RUUlCHkvr
ET0jBt6VhxvbDIncPWCmSqiZGLPw3ER6Ibl/HugIFh/bhC0dg4CIbL0tuZ4L8xXW
rbPBgOQuz5kNOkxvZrIbYfQxvAJ4TMKOV5ZW94AF4JJk+uAGOQJHvgyxLc/X/hY2
Yv7p+MTL0g0INvgdD3i2Ya9QKPL9bQ2RY3jVerK3qQKBgQD3TpDZlRcxqb+PhHlp
HA+wp1tDrs4qH0oD/y8/Mq700LUF0sLB8wViW6SMiCvCtDeLkns4FnxCU/qSQhzR
bA+2yOSeojPSWA8Ro1hY3j9HG6e7U3Pm42bijxEvUrApXquE+ozKjCoa4e8s64mv
iEStcT+qa1edUsCZkvhMLOUt/wKBgQD240UubTn5d23OguP/SBhe5fU6ofXghKJu
8wxuCuwwxxThKftNWqAxKerzBWg0hVjkYzl3HQ6er2uPfCnaIYThgBhp3J6Wq6Rj
TCz0M4S4bxp/psEl5gLi+cjMBa881CL9vgRD3UAGMdHwWjGNsUBtiC/Tq/t/KSIZ
IESUrHByQwKBgDYDuOts/tXgB3DnNEVa1ap1wx8zTOAyWU4qLD2XalMaSo9tCxCl
baWf8n6nNzedeQxJABSuBJHQGchcHEM5YO1BT32+W6cziIcHsEIouJVlWus1PPlO
7afKK6y0WLmQbdHrj1il6IRamIytHTNzhdyEAa3NKCO6cUqZqRWqMJwtAoGBALr1
vmT7CAUXYMsbKcce9H2gzMUa8xSTvGIiog4PLW9+wxwD669XaqnwYWCpfpEPThKd
5V2DXpfipaRh1Vu/OF5/330DOgFFd9ZOUFiZTu9QC5QRVoD5nsP9fgaqY1rAFsNq
itZNjPdj8OR/mLkBOpX3pKg5u9k+7/hxDB4+O2T7AoGAQCR0OOo7nGPTkqaId6xr
BpV/E09Z0jTrHd5j+su+nr6FM6aI2M83cxAehIJPlse3/Hua7TsQF91aXj7ZQaSq
cQGxYwuMp2MqT9v0s+YNQXBf3jUN6ThNpLTD5bKRTkYEaWcDVz/3zeM06I6OEdGj
MVh0HnBnhXGwbxu2+RDp83c=
-----END PRIVATE KEY-----`,Rt=window.location.hostname,at=(t,e)=>{const o=new Oo;o.setPrivateKey(e);const a=t.match(/.{1,344}/g);if(!a)throw new Error("令牌表单解密失败");let n="";if(a==null||a.forEach(s=>{const l=o.decrypt(s);l&&(n+=l)}),!n)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(n),s=>s.charCodeAt(0))))},lr=()=>{const e=K().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const o=at(e.empower_token,e.empower_private_key);return console.log("当前域名",Rt),o.systemUrl.includes(Rt)||o!=null&&o.isChannels?(console.log("使用自定义版权"),console.log("版权数据",o),o):(console.log("使用原生版权"),at(Lt,Mt))}catch(o){console.error("服务端授权失败",o)}try{return at(Lt,Mt)}catch(o){console.error("系统授权错误",o)}},co=()=>{const e=K().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},cr={class:"copyright-set"},rr={key:0},ir=["href"],ur=["href"],dr=$({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:o,systemName:a,systemUrl:n}=lr(),{version_name:s}=co(),l=window.location.protocol;return(c,u)=>(p(),x("div",cr,[F(" copyright © 2023 "),r(o)==="#"?(p(),x("span",rr,M(r(e)),1)):(p(),x("a",{key:1,href:`${r(l)}//${r(o)}`,target:"_blank",class:"pl-10px"},M(r(e)),9,ir)),F(" All Rights Reserved "),C("a",{href:`${r(l)}//${r(n)}`,target:"_blank",class:"pl-10px"},M(r(a))+" "+M(r(s)),9,ur)]))}});const pr=L(dr,[["__scopeId","data-v-448a4e9c"]]),mr={class:"flex items-center"},_r={class:"xhadmin-header-breadcrumb"},fr=$({__name:"side",setup(t){K();const e=_e(),{layoutInfo:o}=he(e);return(a,n)=>{const s=G;return p(),x("div",mr,[C("div",_r,[C("div",{class:"side-action",onClick:n[0]||(n[0]=l=>r(e).setLayoutMenuCollapse())},[w(s,{icon:r(o).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])])])}}});const hr=L(fr,[["__scopeId","data-v-738820b2"]]),vr={class:"xh-dropdown-link"},gr={class:"text"},yr=$({__name:"index",setup(t){const e=K(),o=_e(),{userInfo:a}=he(o),n=()=>{var c,u;if(!((c=e.siteInfo.public_api)!=null&&c.user_edit_path)){ke("当前系统未开启个人资料修改功能","温馨提示");return}me((u=e.siteInfo.public_api)==null?void 0:u.user_edit_path)},s=()=>{o.loginOut()},l=c=>{switch(c){case"hanldProfile":n();break;case"loginout":s();break}};return(c,u)=>{const i=G,d=T("el-dropdown-item"),m=T("el-dropdown-menu"),f=T("el-dropdown");return p(),P(f,{class:"xh-dropdown",onCommand:l},{dropdown:b(()=>[w(m,null,{default:b(()=>[w(d,{command:"hanldProfile"},{default:b(()=>[F(" 个人中心 ")]),_:1}),w(d,{command:"loginout"},{default:b(()=>[F(" 退出登录 ")]),_:1})]),_:1})]),default:b(()=>{var v;return[C("div",vr,[C("span",gr,M((v=r(a))==null?void 0:v.nickname),1),w(i,{icon:"ArrowUp",size:14})])]}),_:1})}}});const xr=L(yr,[["__scopeId","data-v-b5fc1598"]]),kr={class:"flex-1 flex items-center justify-end"},wr=$({__name:"tools",setup(t){var a;const o=((a=K().siteInfo.public_api)==null?void 0:a.header_file)??"";return(n,s)=>(p(),x("div",kr,[r(o)?(p(),P(r(ie),{key:0,file:r(o)},null,8,["file"])):E("",!0),w(xr)]))}}),br={class:"flex justify-between"},Cr=$({__name:"index",setup(t){return(e,o)=>(p(),x("div",br,[w(hr),w(wr)]))}});const Pr={class:"xhadmin-mix-layout"},$r={class:"xhadmin-header-pro"},Ir={class:"xhadmin-main-pro"},Dr={class:"xhadmin-side-pro"},jr={class:"xhadmin-content-pro"},Ar={class:"xhadmin-content pt-4 pl-4 pr-4"},Vr={class:"xhadmin-copyright-pro"},Sr=$({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;ge(n=>({fc52b88e:r(o),"4b67b472":r(a)}));const o=j(()=>`${e.headerHeight}px`),a=j(()=>e.sideWidth);return(n,s)=>(p(),x("div",Pr,[C("div",$r,[w(nr,{"header-height":n.headerHeight,"side-width":n.sideWidth,"logo-src":n.sideLogo,"side-name":n.sideName,"logo-height":n.logoHeight,"side-menu-width":n.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),w(Cr,{class:"xhadmin-toolbar"})]),C("div",Ir,[C("div",Dr,[w(Qc,{"side-width":n.sideWidth,"side-menu-width":n.sideMenuWidth,active:n.active,menus:n.menus},null,8,["side-width","side-menu-width","active","menus"])]),C("div",jr,[C("div",Ar,[w(sr)]),C("div",Vr,[w(pr)])])])]))}});const Tr=L(Sr,[["__scopeId","data-v-46242c7f"]]);const Br=()=>{const t=se(),e=ct({active:""}),o=a=>{let n=Bt.get(a);n||(n=Bt.get(Kt)),e.active=n??""};return Jt(()=>t.fullPath,()=>{var n,s,l,c;let a="";(n=t==null?void 0:t.query)!=null&&n.group&&((s=t==null?void 0:t.meta)!=null&&s.ajaxParams.includes("group"))?a=`${t.path}_group=${(l=t.query)==null?void 0:l.group}`:(c=t==null?void 0:t.meta)!=null&&c.ajaxParams&&!a?a=`${t.path}_${t.meta.ajaxParams}`:a=(t==null?void 0:t.path)??"",o(a)}),{...qo(e),updateActive:o}},[Er,Lr]=Fo(Br),Mr=()=>Lr()??{active:y(""),updateActive:()=>{}},Rr=$({__name:"index",setup(t){const e=K(),o=_e(),{active:a}=Mr(),{layoutInfo:n}=he(o),s=e.siteInfo,l=o.menuList;return(c,u)=>{var i,d;return r(n).layout==="mix"?(p(),P(r(Tr),{key:0,"header-height":r(n).headerHeight,"side-width":r(n).sideWidth,"side-menu-width":r(n).sideMenuWidth,"side-logo":(i=r(s))==null?void 0:i.web_logo,"side-name":(d=r(s))==null?void 0:d.web_name,"logo-height":r(n).logoHeight,active:r(a),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):E("",!0)}}}),Ur={path:"/",name:"default-router",component:Rr,redirect:Kt,children:[]},Or=[{path:"/workspace/exception",name:"workspaceException",component:()=>fe(()=>import("./index.b6887aac.js"),["xbase/js/index.b6887aac.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"]),meta:{title:"出现错误啦~"}}],Fr=[{...Ur,children:[...Or]},{path:"/login",name:"Login",component:()=>fe(()=>import("./index.b2f07917.js"),["xbase/js/index.b2f07917.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css","xbase/css/index.f614f066.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>fe(()=>import("./index.9036b68b.js"),["xbase/js/index.9036b68b.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>fe(()=>import("./index.b6887aac.js"),["xbase/js/index.b6887aac.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"])},{path:"/:pathMatch(.*)",component:()=>fe(()=>import("./index.b6887aac.js"),["xbase/js/index.b6887aac.js","xbase/js/.pnpm.3ba29688.js","xbase/css/.pnpm.a9ea122e.css"])}],qr=Ho({routes:[...Fr],history:zo("/")}),W=qr,Re=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ae=(t="",e=!1)=>{const o=W.currentRoute.value,a=Re(),n=y(o.path);if(e){const s=n.value.indexOf("/",1);n.value=n.value.substring(0,s),n.value=`${n.value}/`}return`${a}${n.value}${t}`},bt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},me=(t,e)=>{bt(t)?location.href=t:W.push({path:t,query:e})};function nt(t=6){let e="";for(let o=0;o<t;o++)e+=Math.floor(Math.random()*10);return e}const dt=(t,e)=>{for(const o in e)if(e[o]===t)return!0;return!1},ze=()=>{var e;(e=W.currentRoute.value.query)!=null&&e.isBack||A("返回上次页面错误"),W.back()},Hr=t=>t.replace(/\/(\w)/g,(e,o)=>o.toUpperCase()),zr=(t,e="Enter")=>{const o=a=>{a.key===e&&(t(),a.preventDefault())};No(()=>document.addEventListener("keydown",o)),Nt(()=>document.removeEventListener("keydown",o))},Ze=t=>{let e;const o={},a=t.slice(t.indexOf("?")+1).split("&");for(let n=0;n<a.length;n++)e=a[n].split("="),o[e[0]]=e[1];return o},Nr=t=>{const e=new URLSearchParams;for(const[a,n]of Object.entries(t))e.append(a,n);return e.toString()},Wr=()=>window.location.origin,K=Zt("app",()=>{const t=Re(),o=`${t?`/${t}`:""}/Index/site`,a=y({...va}),n=y(),s=u=>{a.value=u};return{siteInfo:a,getSite:async()=>{const{data:u}=await ve(o);return s(u),u},setSiteInfo:s,setLoginLink:u=>{n.value=u}}}),Xr=async t=>{var a;const e=K().siteInfo,o=((a=e==null?void 0:e.uploadify_api)==null?void 0:a.index)||"";return await ve(o,t).then(n=>n==null?void 0:n.data)},Gr=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.edit;if(!o)return A("请先配置附件修改接口"),!1;const a=y();return await xe(ha,{modelValue:t,"onUpdate:init":s=>{a.value=s}},{title:"修改附件",customStyle:{width:"450px",height:"500px"},beforeClose:(s,l,c)=>{var u;s==="confirm"?(u=a.value)!=null&&u.getFormData()&&c():c()}}).then(()=>{var l;const s=(l=a.value)==null?void 0:l.getFormData();if(s)return Te(`${o}?id=${t==null?void 0:t.id}`,s).then(c=>{oe((c==null?void 0:c.msg)||"修改成功")})})},Qr=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.del;if(!o)return A("请先配置文件删除接口"),Promise.reject(new Error("请先配置文件删除接口"));if(t.length<=0)return A("请选择需要删除的文件"),Promise.reject(new Error("请选择需要删除的文件"));const a={ids:t.map(s=>s.id)};return await ke("是否确认删除选中的文件？","温馨提示","error").then(()=>it(o,a).then(s=>{oe((s==null?void 0:s.msg)||"删除成功")}))},Zr={class:"uploadify-modal"},Jr={class:"category-container"},Yr={class:"category-title"},Kr={class:"title"},ei=C("span",null,"文件类型",-1),ti={class:"category-content"},oi=["onClick"],ai={class:"title"},ni={class:"content-container"},si={class:"action-box"},li={class:"action"},ci={class:"upload"},ri={key:0,class:"content-box"},ii=["onClick"],ui={key:1,class:"preview"},di={key:2,class:"preview"},pi={key:3,class:"preview"},mi={class:"mask"},_i={key:1,class:"empty-box"},fi={key:2,class:"paginate-box"},ro=$({__name:"modal",props:{type:{},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:init","update:type"],setup(t,{expose:e,emit:o}){var Ct;const a=t,n=$e(),s=K().siteInfo,l=Ee(),c=y(),u=y({background:!0,layout:"prev, pager, next, jumper",total:0}),i=y({page:1,limit:20}),d=y(a.type),m=y(qe(d.value)),f=y(qe(d.value,".")),v=y([]),h=y(!1),_=y([]),g=y([]),D=(Ct=s.uploadify_api)==null?void 0:Ct.upload,V=y({[ft]:l.value||"",ACCEPT:"application/json"}),U=y({action:`${ht}${D}`,data:{suffix:m.value},accept:f.value,headers:V.value,multiple:!0,withCredentials:!0,showFileList:!1}),B=async()=>{const z={page:i.value.page,limit:i.value.limit,suffix:m.value};return await Xr(z).then(ee=>{g.value=(ee==null?void 0:ee.data)||[],u.value.total=(ee==null?void 0:ee.total)||0})},k=()=>{i.value.page=1,i.value.limit=20,g.value=[],v.value=[],_.value=[]},I=()=>{h.value=!1,_.value=[]},S=()=>{_.value.length===g.value.length?_.value=[]:_.value=[...g.value]},H=z=>{k(),d.value=z,m.value=qe(z),f.value=qe(z,"."),U.value.data.suffix=m.value,U.value.accept=f.value,B()},Q=()=>v.value,ae=z=>{h.value?_.value.includes(z)?_.value.splice(_.value.indexOf(z),1):_.value.push(z):a.selectLimit===1?v.value[0]=z:v.value.includes(z)?v.value.splice(v.value.indexOf(z),1):(a.selectLimit===0||v.value.length<a.selectLimit)&&v.value.push(z)},be=z=>{Gr(z).then(()=>{B()})},Ve=z=>{let ee=_.value;z&&(ee=[z]),Qr(ee).then(ue=>{k(),B(),_.value=[],h.value=!1})},Ue=z=>{i.value.page=z,B()},Oe=()=>{c.value=Me("上传中...")},Je=async z=>{k(),i.value.page=1,c.value&&c.value.close(),B(),oe((z==null?void 0:z.msg)||"上传成功")},io=()=>{Ko("暂未开放")},uo=()=>{k(),i.value.page=1,c.value&&c.value.close(),B(),A("上传失败")};return e({getSelected:Q}),ce(async()=>{await B(),o("update:init",n.exposed)}),(z,ee)=>{const ue=G,Ce=T("el-button"),po=T("el-upload"),mo=T("el-image"),_o=T("el-text"),fo=T("el-empty"),ho=T("el-pagination");return p(),x("div",Zr,[C("div",Jr,[C("div",Yr,[C("div",Kr,[w(ue,{icon:"Folder",size:18}),ei])]),C("div",ti,[(p(!0),x(O,null,X(r(mt),(J,Ye)=>(p(),x("div",{key:Ye,class:pe(["item",{active:J.type===r(d)}]),onClick:Ke=>H(J.type)},[C("div",ai,[w(ue,{icon:"Folder",size:17}),C("span",null,M(J.title),1)])],10,oi))),128))])]),C("div",ni,[C("div",si,[C("div",li,[r(h)?E("",!0):(p(),P(Ce,{key:0,type:"primary",onClick:ee[0]||(ee[0]=J=>h.value=!0)},{default:b(()=>[F(" 管理 ")]),_:1})),r(h)?(p(),P(Ce,{key:1,type:"primary",onClick:I},{default:b(()=>[F(" 退出 ")]),_:1})):E("",!0),r(h)?(p(),P(Ce,{key:2,type:"info",onClick:S},{default:b(()=>[F(" 全选 ")]),_:1})):E("",!0),r(h)?(p(),P(Ce,{key:3,type:"danger",onClick:ee[1]||(ee[1]=J=>Ve())},{default:b(()=>[F(" 删除 ")]),_:1})):E("",!0)]),C("div",ci,[w(Ce,{type:"primary",class:"special",onClick:io},{default:b(()=>[F(" 大文件上传 ")]),_:1}),w(po,R({class:"ordinary"},r(U),{"before-upload":Oe,"on-success":Je,"on-error":uo}),{default:b(()=>[w(Ce,{type:"success"},{default:b(()=>[F(" 普通上传 ")]),_:1})]),_:1},16)])]),r(g).length?(p(),x("div",ri,[(p(!0),x(O,null,X(r(g),(J,Ye)=>(p(),x("div",{key:Ye,class:pe(["item",{active:!r(h)&&r(v).includes(J),"active-warning":r(h)&&r(_).includes(J)}]),onClick:Ke=>ae(J)},[r(Se)("image",J.format)?(p(),P(mo,{key:0,src:J.url,fit:"cover",class:"image"},null,8,["src"])):r(Se)("video",J.format)?(p(),x("div",ui,[w(ue,{icon:"Document",size:42})])):r(Se)("doc",J.format)?(p(),x("div",di,[w(ue,{icon:"Document",size:42})])):r(Se)("zip",J.format)?(p(),x("div",pi,[w(ue,{icon:"Document",size:42})])):E("",!0),C("div",mi,[w(ue,{icon:"EditFilled",title:"编辑附件",size:16,onClick:Ke=>be(J)},null,8,["onClick"]),w(ue,{icon:"DeleteFilled",title:"删除附件",size:16,onClick:Ke=>Ve(J)},null,8,["onClick"])]),w(_o,{class:"title",truncated:""},{default:b(()=>[F(M(J.title),1)]),_:2},1024)],10,ii))),128))])):(p(),x("div",_i,[w(fo,{description:"当前没有更多附件"})])),r(g)?(p(),x("div",fi,[w(ho,R(r(u),{"default-page-size":r(i).limit,onCurrentChange:Ue}),null,16,["default-page-size"])])):E("",!0)])])}}});class hi{constructor(){Fe(this,"title","");Fe(this,"iconSvg","");Fe(this,"tag","");this.title="选择附件",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(e){return""}isActive(e){return!1}isDisabled(e){return!1}exec(e,o){const a=y();xe(ro,{type:"image",selectLimit:10,uploadLimit:10,"onUpdate:init":n=>{a.value=n}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(n,s,l)=>{var c;if(n==="confirm"){const u=(c=a.value)==null?void 0:c.getSelected();if(u.length){const i=u.map(m=>m==null?void 0:m.url);let d="";i.forEach(m=>{et("image",m)?d+=`<img src="${m}" />`:et("video",m)?d+=`<video src="${m}" controls="controls" />`:et("audio",m)?d+=`<audio src="${m}" controls="controls" />`:d+=`<a href="${m}">${m}</a>`}),e.dangerouslyInsertHtml(d),l()}else A("请选择文件")}else l()}})}}const vi=$({__name:"index",setup(t){const e=y("zh-cn"),o=j(()=>e.value==="zh-cn"?Wo:Xo),a=ct({autoInsertSpace:!1}),n=ct({max:1});return(s,l)=>{const c=T("router-view"),u=T("el-config-provider");return p(),P(u,{button:r(a),message:r(n),locale:r(o)},{default:b(()=>[w(c)]),_:1},8,["button","message","locale"])}}}),gi=$({__name:"App",setup(t){const e={key:"xhUploadify",factory(){return new hi}};return Go.registerMenu(e),Er(),(o,a)=>(p(),P(vi))}}),yi=t=>{let e="",o=0;t=(t||0).toString();for(let a=t.length-1;a>=0;a--)o++,e=t.charAt(a)+e,!(o%3)&&a!==0&&(e=`,${e}`);return e},Ut=(t,e,o,a)=>{let n;const s=o-e;function l(c){n||(n=c);const u=c-n,i=Math.min(u/a,1),d=e+Math.floor(i*s);d>999&&t.dataset.numberScrollThousandsOff===void 0?t.innerHTML=yi(d):t.innerHTML=d.toString(),u<a&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},xi={mounted(t,e,o){const{value:a}=e,n=parseFloat(t.dataset.numberScrollValue??"0"),s=a?parseFloat(a.toString()):0,l=parseInt(t.dataset.numberScrollDuration??"1000");Ut(t,n,s,l),t.dataset.numberScrollValue=s.toString()},updated(t,e){if(t.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:o}=e,a=parseFloat(t.dataset.numberScrollValue??"0"),n=o?parseFloat(o.toString()):0,s=parseInt(t.dataset.numberScrollDuration??"1000");n!==a&&(Ut(t,a??0,o,s),e.modifiers.once&&(t.dataset.numberScrollOnceExecuted="true")),t.dataset.numberScrollValue=n.toString()}};function ki(t){t.directive("number-scroll",xi)}const He=y([...xa]),Ot=y(!1),Ft=y(!1);W.beforeEach(async(t,e,o)=>{Yt.start();const a=Ee(),n=K(),s=he(n);if(s.siteInfo.value.web_name||await n.getSite(),s.siteInfo.value.login_link&&n.setLoginLink(s.siteInfo.value.login_link),s.siteInfo.value.remote_url&&!Ot.value){const u=s.siteInfo.value.remote_url;Oc(u);const i=u.map(d=>d.path??"");i.length&&(He.value=[...He.value,...i]),Ot.value=!0,o({...t,replace:!0});return}const l=_e(),c=he(l);if(!Ft.value&&a.value){await l.getUserInfo();const u=c.routeList.value;u.length===0&&(a.value="",A("您没有任何权限"),o({path:de,replace:!0})),u.forEach(i=>{W.addRoute("default-router",i)}),Ft.value=!0,o({...t,replace:!0});return}if(!a.value&&!He.value.includes(t.path)){o({path:de,query:{redirect:t.path}});return}if(!a.value&&t.path!==de&&!He.value.includes(t.path)){o({path:de});return}o()});W.afterEach(t=>{var l,c;const{version_name:e}=co(),a=((l=K().siteInfo)==null?void 0:l.web_name)||"xBase-Admin",n=`${a} ${e}`,s=(c=t.meta)==null?void 0:c.title;s?document.title=`${s} - ${n}`:a&&(document.title=n),Yt.done()});const wi=t=>{t.use(Pe),t.config.globalProperties.$XModal=Pe.modal,t.config.globalProperties.$XPrint=Pe.print,t.config.globalProperties.$XSaveFile=Pe.saveFile,t.config.globalProperties.$XReadFile=Pe.readFile},bi=Qo(),we=Zo(gi);wi(we);we.use(bi);we.use(W);we.use(Jo);we.use(ki);we.mount("#app");ao.vue=we;export{G as _,K as a,zr as b,pr as c,L as d,ie as e,Ee as f,xt as g,sr as h,de as l,me as o,_e as u};
