import{u as i}from"./request.21b88d9f.js";import{d as h,r as y,p as v,a as c,o as n,l as m,e as l,w as a,u as s,c as k,m as u,q as r,x as b,y as g}from"./.pnpm.24c1b39d.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.dc625b78.js";const S="/install/assets/png/complete.8c934854.png",B=o=>(b("data-v-98a29bf9"),o=o(),g(),o),T={class:"complete"},w=["innerHTML"],C={key:0,class:"text-18px mt-10 text-center"},L=B(()=>u("div",null,"正在重启服务...",-1)),M=[L],N=h({__name:"index",setup(o){const e=y({lock:!0,text:""}),_=()=>{i("install/complete").then(t=>{e.value.lock=!1,e.value.text=(t==null?void 0:t.msg)??"",localStorage.setItem("xb_success","ok")})},p=()=>{i("install/reload").then(()=>{_()}).catch(()=>{setTimeout(()=>{p()},1e3)})};return v(()=>{localStorage.getItem("xb_success")?_():p()}),(t,V)=>{const x=c("a-empty"),d=c("a-button"),f=c("a-space");return n(),m("div",T,[l(x,{class:"complete-empty",image:s(S)},{description:a(()=>[u("div",{class:"mt-5",innerHTML:s(e).text},null,8,w)]),_:1},8,["image"]),s(e).lock?(n(),m("div",C,M)):(n(),k(f,{key:1,class:"pt-30px",size:35},{default:a(()=>[l(d,{href:"/",type:"primary",disabled:s(e).lock,class:"to-home"},{default:a(()=>[r(" 返回首页 ")]),_:1},8,["disabled"]),l(d,{href:"/admin/",type:"primary",disabled:s(e).lock,danger:"",class:"to-admin"},{default:a(()=>[r(" 登录后台 ")]),_:1},8,["disabled"])]),_:1}))])}}});const G=I(N,[["__scopeId","data-v-98a29bf9"]]);export{G as default};
