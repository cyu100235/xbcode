import{a as d,o as v}from"./request.f67eab9d.js";import{E as x,r,d as g,G as D,p as h,o as c,l as i,F as y,n as k,t as b,u as F}from"./.pnpm.1f1cfb31.js";import{_ as S}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.5a8313eb.js";const T=x("app",()=>{const n=r(null);return{setData:s=>{n.value=s},getData:()=>n.value}}),w=g({__name:"index",setup(n){const u=T().getData(),s=r([]),o=r(),p=(_,l=0)=>{let a=`install/install?step=${_}`;l&&(a+=`&total=${l}`),d(a,u).then(e=>{const f=(e==null?void 0:e.msg)??"",t=(e==null?void 0:e.data)??{};s.value.push(f??"安装错误"),t!=null&&t.next?setTimeout(()=>{p(t==null?void 0:t.next,(t==null?void 0:t.total)??0)},100):setTimeout(()=>{v("/complete")},2500)})};return D(s.value,()=>{o.value.scrollTo(0,o.value.scrollHeight)}),h(()=>{p("structure")}),(_,l)=>(c(),i("div",{ref_key:"installRef",ref:o,class:"install-box"},[(c(!0),i(y,null,k(F(s),(a,e)=>(c(),i("div",{key:e,class:"item"},b(a),1))),128))],512))}});const $=S(w,[["__scopeId","data-v-06454bad"]]);export{$ as default};
