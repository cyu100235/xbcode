import{o as C,a as S}from"./request.f67eab9d.js";import{d as w,r as o,k as $,p as q,b as I,o as i,l as u,m as a,g as v,w as f,s as d,t as c,x as r,u as n,q as g,y as z,B as E}from"./.pnpm.1f1cfb31.js";import{_ as M}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.5a8313eb.js";const h=m=>(z("data-v-d8fdd506"),m=m(),E(),m),P={class:"environment-container"},T={class:"environment"},W={class:"item"},j=h(()=>a("div",{class:"title"}," 扩展检测 ",-1)),A={class:"item"},F=h(()=>a("div",{class:"title"}," 目录权限 ",-1)),G={class:"item"},H=h(()=>a("div",{class:"title"}," 函数检测 ",-1)),J={class:"action"},K={class:"item"},L={class:"item"},O=w({__name:"index",setup(m){const b=o([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),y=o([]),V=o([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),p=o([]),D=o([{title:"目录名称",dataIndex:"dir",key:"dir"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"目录状态",dataIndex:"value",key:"value"}]),x=o([]),B=$(()=>{if(y.value.length<=0||p.value.length<=0)return!0;const k=y.value.filter(l=>l.status===!1),t=p.value.filter(l=>l.status===!1),_=x.value.filter(l=>l.status===!1);return!(k.length<=0&&t.length<=0&&_.length<=0)}),N=()=>{S("install/environment").then(k=>{const{data:t}=k;y.value=(t==null?void 0:t.fun)??[],p.value=(t==null?void 0:t.extra)??[],x.value=(t==null?void 0:t.dirData)??[]})};return q(()=>{N()}),(k,t)=>{const _=I("a-table"),l=I("a-button");return i(),u("div",P,[a("div",T,[a("div",W,[j,v(_,{columns:n(V),"data-source":n(p),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",A,[F,v(_,{columns:n(D),"data-source":n(x),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",G,[H,v(_,{columns:n(b),"data-source":n(y),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])])]),a("div",J,[a("div",K,[v(l,{onClick:t[0]||(t[0]=e=>n(C)("/"))},{default:f(()=>[g(" 上一步 ")]),_:1})]),a("div",L,[v(l,{type:"primary",danger:"",disabled:n(B),onClick:t[1]||(t[1]=e=>n(C)("/database"))},{default:f(()=>[g(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Y=M(O,[["__scopeId","data-v-d8fdd506"]]);export{Y as default};
