import{H as m,I as o}from"./.pnpm.1f1cfb31.js";import{r as p}from"./index.5a8313eb.js";const d=(r,e)=>{for(const s in e)if(e[s]===r)return!0;return!1},y=(r,e)=>{p.push({path:r,query:{...e}})},l="/",i=m.create({baseURL:l,timeout:6e4}),f=async r=>(r.headers.set("Content-Type","application/x-www-form-urlencoded"),r),g=r=>{var s;const e=r.data;return r.headers["content-type"]==="application/json"?d(e==null?void 0:e.code,[404,500])?((s=o)==null||s.error({message:"温馨提示",description:(e==null?void 0:e.msg)||"网络错误",duration:3}),Promise.reject(r.data)):(e==null?void 0:e.code)===200?e:Promise.reject(r.data):r.headers["content-type"]==="application/octet-stream"?Promise.resolve(e):Promise.resolve(r)},P=r=>{var e,s,u,a;if(r.response){const{data:t,status:c,statusText:n}=r.response;c===401?(e=o)==null||e.error({message:"请求错误",description:(t==null?void 0:t.msg)||n,duration:3}):c===403?(s=o)==null||s.error({message:"资源请求错误",description:(t==null?void 0:t.msg)||n,duration:3}):c===500?(u=o)==null||u.error({message:"服务器错误",description:(t==null?void 0:t.msg)||n,duration:3}):(a=o)==null||a.error({message:"系统错误",description:(t==null?void 0:t.msg)||n,duration:3})}return Promise.reject(r)};i.interceptors.request.use(f);i.interceptors.response.use(g,P);const j=(r,e,s)=>i.request({url:r,params:e,method:"GET",...s}),x=(r,e,s)=>i.request({url:r,data:e,method:"POST",...s});export{x as a,y as o,j as u};
