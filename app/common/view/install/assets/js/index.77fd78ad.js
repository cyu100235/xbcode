import{o as C,a as w}from"./request.21b88d9f.js";import{d as B,r as o,k as $,p as q,a as I,o as i,l as u,m as a,e as v,w as f,u as n,s as c,t as d,v as r,q as g,x as z,y as E}from"./.pnpm.24c1b39d.js";import{_ as M}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.dc625b78.js";const h=m=>(z("data-v-3c92440c"),m=m(),E(),m),P={class:"environment-container"},T={class:"environment"},W={class:"item"},j=h(()=>a("div",{class:"title"}," 扩展检测 ",-1)),A={class:"item"},F=h(()=>a("div",{class:"title"}," 目录权限 ",-1)),G={class:"item"},H=h(()=>a("div",{class:"title"}," 函数检测 ",-1)),J={class:"action"},K={class:"item"},L={class:"item"},O=B({__name:"index",setup(m){const b=o([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),y=o([]),V=o([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),p=o([]),D=o([{title:"目录名称",dataIndex:"dir",key:"dir"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"目录状态",dataIndex:"value",key:"value"}]),x=o([]),N=$(()=>{if(y.value.length<=0||p.value.length<=0)return!0;const k=y.value.filter(l=>l.status===!1),t=p.value.filter(l=>l.status===!1),_=x.value.filter(l=>l.status===!1);return!(k.length<=0&&t.length<=0&&_.length<=0)}),S=()=>{w("install/environment").then(k=>{const{data:t}=k;y.value=(t==null?void 0:t.fun)??[],p.value=(t==null?void 0:t.extra)??[],x.value=(t==null?void 0:t.dirData)??[]})};return q(()=>{S()}),(k,t)=>{const _=I("a-table"),l=I("a-button");return i(),u("div",P,[a("div",T,[a("div",W,[j,v(_,{columns:n(V),"data-source":n(p),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",A,[F,v(_,{columns:n(D),"data-source":n(x),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",G,[H,v(_,{columns:n(b),"data-source":n(y),pagination:!1},{bodyCell:f(({column:e,record:s})=>[e.key==="status"?(i(),u("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(i(),u("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])])]),a("div",J,[a("div",K,[v(l,{type:"primary",ghost:!1,onClick:t[0]||(t[0]=e=>n(C)("/"))},{default:f(()=>[g(" 上一步 ")]),_:1})]),a("div",L,[v(l,{type:"primary",danger:"",disabled:n(N),onClick:t[1]||(t[1]=e=>n(C)("/database"))},{default:f(()=>[g(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Y=M(O,[["__scopeId","data-v-3c92440c"]]);export{Y as default};
