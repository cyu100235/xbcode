var yo=Object.defineProperty;var xo=(t,e,o)=>e in t?yo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var He=(t,e,o)=>(xo(t,typeof e!="symbol"?e+"":e,o),o);import"./vue.0ccd830b.js";import{d as Nt,s as ye,c as ko}from"./pinia.b8763cbb.js";import{E as wo,a as Ao,b as se,c as bo,d as zt,z as Co,e as Po,i as Io}from"./element-plus.e83340c7.js";import{V as Bo,a as Pe}from"./vxe-table.081b4fc5.js";import{T as $o,E as Do,Z as Eo}from"./@wangeditor.4349ada4.js";import{N as lt}from"./@vicons.ae06c95f.js";import{Q as ct}from"./@element-plus.7ed7787a.js";import{e as I,d as $,h as S,o as p,$ as P,a0 as A,a1 as Wt,H as r,g as Ie,j as y,x as re,c as k,a as b,f as w,aD as Be,aE as $e,a4 as M,F as O,af as Q,a2 as U,a3 as F,C as To,J as ae,Y as _e,p as Qe,q as L,Z as Qt,aF as ke,B as Xt,a7 as Zt,a9 as mt,X as ce,k as Ve,a5 as Gt,ah as je,A as Jt,aj as q,aq as z,w as Yt,r as rt,v as So,W as Vo,l as jo}from"./@vue.eb378115.js";import{u as le,a as Kt,c as Uo,b as Ro}from"./vue-router.f33345e1.js";import{F as Pt}from"./@form-create.27caaeab.js";import{H as It,j as Mo,p as Lo,a as Fo,b as qo,c as Oo,x as Ho}from"./highlight.js.c00af322.js";import{a as No}from"./axios.4a70c6fc.js";import{n as zo,p as Wo,q as Qo,s as Xo}from"./@vueuse.af8a6820.js";import{D as eo}from"./dplayer.255caa4f.js";import{X as Bt}from"./xe-utils.023f6b2e.js";import{e as Zo}from"./echarts.4475d7d7.js";import{l as Go}from"./less.f5bc21e0.js";import{r as Jo,u as Yo}from"./xlsx.04f2268f.js";import{J as Ko}from"./jsencrypt.a25df808.js";import{N as _t}from"./nprogress.680a5b68.js";import"./vue-demi.0e50ee38.js";import"./lodash-es.36eb724a.js";import"./@sxzz.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.57387eb1.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./escape-html.73d2b788.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.d10d3e5d.js";import"./tslib.54e39b60.js";import"./zrender.122a678c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();const ft=[{title:"图片类型",type:"image",format:"jpg,jpeg,png,gif"},{title:"视频类型",type:"video",format:"mp4,avi,rmvb,mkv,flv"},{title:"文档类型",type:"doc",format:"doc,docx,xls,xlsx,ppt,pptx,pdf,txt"},{title:"音频类型",type:"audio",format:"mp3,wav,flac,ape,alac"},{title:"压缩包类",type:"zip",format:"zip,rar,7z,tar,gz,bz2"}],Ne=(t,e="")=>{var s;const o=(s=ft.find(n=>n.type===t))==null?void 0:s.format;if(!o)return"";if(e){const n=o.split(",");return n.forEach((a,l)=>{n[l]=`${e}${a}`}),n.join(",")}return o},ea=t=>{var o;const e=(o=ft.find(s=>s.type===t))==null?void 0:o.format;return e?e.split(","):null},Se=(t,e)=>{const o=ea(t);return o?o.includes(e):!1},tt=(t,e)=>{const o=new URL(e);if(!o||!o.pathname)return!1;const s=o.pathname.split(".")[1]??"";return s?Se(t,s):!1},X=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,o=$(()=>{if(ct[e.icon])return ct[e.icon];if(lt[e.icon])return lt[e.icon]});return(s,n)=>{const a=S("el-icon");return p(),P(a,{size:s.size,color:s.color},{default:A(()=>[(p(),P(Wt(r(o))))]),_:1},8,["size","color"])}}});const Xe=(t,e,o="",s)=>{wo({message:t,title:o,duration:2e3,type:e,...s})},ee=(t,e="温馨提示",o)=>{Xe(t,"success",e,o)},D=(t,e="温馨提示",o)=>{Xe(t,"error",e,o)},ta=(t,e="温馨提示",o)=>{Xe(t,"info",e,o)},we=t=>(Be("data-v-2e1df3e2"),t=t(),$e(),t),oa={class:"category-container"},aa={class:"item"},na=we(()=>b("div",{class:"title"}," 附件名称 ",-1)),sa={class:"item"},la=we(()=>b("div",{class:"title"}," 文件名称 ",-1)),ca={class:"item"},ra=we(()=>b("div",{class:"title"}," 文件路径 ",-1)),ia={class:"item"},ua=we(()=>b("div",{class:"title"}," 文件链接 ",-1)),da={class:"item"},pa=we(()=>b("div",{class:"title"}," 文件格式 ",-1)),ma={class:"item"},_a=we(()=>b("div",{class:"title"}," 文件大小（字节） ",-1)),fa={class:"item"},ha=we(()=>b("div",{class:"title"}," 附件选定器 ",-1)),ga=I({__name:"form",props:{modelValue:{}},emits:["update:init"],setup(t,{expose:e,emit:o}){const s=t,n=Ie(),a=y({...s.modelValue}),l=()=>a.value.title?a.value:(D("请输入附件名称"),!1);return re(()=>{o("update:init",n.exposed)}),e({getFormData:l}),(c,u)=>{const d=S("el-input");return p(),k("div",oa,[b("div",aa,[na,w(d,{modelValue:r(a).title,"onUpdate:modelValue":u[0]||(u[0]=i=>r(a).title=i),placeholder:"请输入附件名称"},null,8,["modelValue"])]),b("div",sa,[la,w(d,{modelValue:r(a).filename,"onUpdate:modelValue":u[1]||(u[1]=i=>r(a).filename=i),placeholder:"请输入文件名称",disabled:""},null,8,["modelValue"])]),b("div",ca,[ra,w(d,{modelValue:r(a).path,"onUpdate:modelValue":u[2]||(u[2]=i=>r(a).path=i),placeholder:"请输入文件路径",disabled:""},null,8,["modelValue"])]),b("div",ia,[ua,w(d,{modelValue:r(a).url,"onUpdate:modelValue":u[3]||(u[3]=i=>r(a).url=i),placeholder:"请输入文件链接",disabled:""},null,8,["modelValue"])]),b("div",da,[pa,w(d,{modelValue:r(a).format,"onUpdate:modelValue":u[4]||(u[4]=i=>r(a).format=i),placeholder:"请输入文件格式",disabled:""},null,8,["modelValue"])]),b("div",ma,[_a,w(d,{modelValue:r(a).size,"onUpdate:modelValue":u[5]||(u[5]=i=>r(a).size=i),placeholder:"请输入文件大小",disabled:""},null,8,["modelValue"])]),b("div",fa,[ha,w(d,{modelValue:r(a).adapter,"onUpdate:modelValue":u[6]||(u[6]=i=>r(a).adapter=i),placeholder:"请输入附件选定器",disabled:""},null,8,["modelValue"])])])}}});const R=(t,e)=>{const o=t.__vccOpts||t;for(const[s,n]of e)o[s]=n;return o},va=R(ga,[["__scopeId","data-v-2e1df3e2"]]),ya={web_name:"",web_title:""},xa="modulepreload",ka=function(t){return"/"+t},$t={},ve=function(e,o,s){if(!o||o.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(o.map(a=>{if(a=ka(a),a in $t)return;$t[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!s)for(let i=n.length-1;i>=0;i--){const m=n[i];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":xa,l||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),l)return new Promise((i,m)=>{d.addEventListener("load",i),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},me="/login",to="/Index/index",wa=[me,"/exception"],ht=I({__name:"menu-item",props:{menuData:{}},setup(t){const e=o=>{const s=o.path,n=y({});o.ajaxParams&&(n.value=Je(o.ajaxParams));const a={...n.value};fe(`/${s}`,a)};return(o,s)=>{const n=S("el-menu-item-group"),a=S("el-menu-item");return p(),k(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),P(n,{key:0},{title:A(()=>[b("span",null,M(o.menuData.title),1)]),default:A(()=>[(p(!0),k(O,null,Q(o.menuData.children,l=>(p(),P(ht,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1})):U("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),P(a,{key:1,index:o.menuData.activeId,onClick:s[0]||(s[0]=l=>e(o.menuData))},{default:A(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),Aa=I({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=o=>{const s=o.path,n=y({});o.ajaxParams&&(n.value=Je(o.ajaxParams));const a={...n.value};fe(`/${s}`,a)};return(o,s)=>{const n=S("el-sub-menu"),a=S("el-menu-item");return p(),k(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),P(n,{key:0,index:o.menuData.activeId},{title:A(()=>[b("span",null,M(o.menuData.title),1)]),default:A(()=>[(p(!0),k(O,null,Q(o.menuData.children,l=>(p(),P(ht,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1},8,["index"])):U("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),P(a,{key:1,index:o.menuData.activeId,onClick:s[0]||(s[0]=l=>e(o.menuData))},{default:A(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),ot={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Dt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},ba="data:image/png;base64,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",Ca={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{},upload:{props:{modalTitle:"图片预览",httpRequest:async t=>{const e=ne().Authorization;return e&&(t.headers={...t.headers,Authorization:e}),await Ao(t)},onSuccess(t,e,o){var n;let s=ba;(t==null?void 0:t.code)===200?s=((n=t==null?void 0:t.data)==null?void 0:n.url)??"":t!=null&&t.msg&&D(t.msg,"温馨提示"),e.url=s},onError(t){console.log("上传失败",t)}}}},submitBtn:!1,resetBtn:!1},Pa=t=>t.map(e=>(e.handle=o=>{if((e==null?void 0:e.where)==="==")return o===e.value;if((e==null?void 0:e.where)==="!=")return o!==e.value;if((e==null?void 0:e.where)==="in"){const s=e.value;return s instanceof Array&&s instanceof Object?pt(o,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Ia=t=>t.map(e=>(e!=null&&e.control&&(e.control=Pa(e.control)),e)),Ba={};function $a(t,e){return p(),k("div",null," 高德地图 ")}const Da=R(Ba,[["render",$a]]),Ea={};function Ta(t,e){return p(),k("div",null," 百度地图 ")}const Sa=R(Ea,[["render",Ta]]),Va={};function ja(t,e){return p(),k("div",null," 腾讯地图 ")}const Ua=R(Va,[["render",ja]]),Ra={javascript:Mo,php:Lo,python:Fo,java:qo,css:Oo,xml:Ho},Ma=t=>(It.registerLanguage(t,Ra[t]),It),La={class:"w-100%"},Fa=["innerHTML"],qa=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=Ma(e.language),s=y("");return To(()=>{s.value=o.highlight(e.modelValue,{language:e.language}).value}),(n,a)=>(p(),k("div",La,[b("pre",null,[F("    "),b("code",{class:"hljs",innerHTML:r(s)},null,8,Fa),F(`
    `)])]))}}),oo=t=>(Be("data-v-2c34f3fc"),t=t(),$e(),t),Oa={class:"xh-icons-modal"},Ha={class:"xh-icons"},Na={class:"search-container"},za=oo(()=>b("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Wa={class:"icon-list"},Qa={class:"tools"},Xa=oo(()=>b("div",{class:"title"}," 所有图标 ",-1)),Za={class:"options"},Ga={class:"list"},Ja=["onDblclick","onClick"],Ya={class:"icon-title"},Ka=I({__name:"modal",emits:["update:init"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y([{title:"Element-Plus",type:"element",icons:Object.keys(ct)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(lt)}]),a=y(""),l=y("element"),c=y(""),u=y([]),d=h=>{u.value=[];const v=n.value.find(_=>_.type===h);v&&i(v.icons)};function i(h){let v=0;function _(){globalThis.requestIdleCallback(C=>{for(;C.timeRemaining()>0&&v<h.length;)u.value.push(h[v++]);v<h.length&&_()})}_()}const m=h=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(h).then(v=>{});else{const v=document.createElement("input");v.value=h,document.body.appendChild(v),v.select(),document.execCommand("Copy"),v.remove()}ee("复制成功")},f=h=>{c.value=h===c.value?"":h};return e({confirm:()=>c.value}),re(()=>{i(n.value[0].icons),o("update:init",s.exposed)}),(h,v)=>{const _=X,C=S("el-button"),E=S("el-button-group"),j=S("el-input"),V=S("el-option"),x=S("el-select");return p(),k("div",Oa,[b("div",Ha,[b("div",Na,[w(j,{modelValue:r(a),"onUpdate:modelValue":v[1]||(v[1]=B=>ae(a)?a.value=B:null),placeholder:"图标名称"},{prepend:A(()=>[w(_,{icon:"Search",type:"element"})]),append:A(()=>[w(E,null,{default:A(()=>[w(C,{onClick:v[0]||(v[0]=B=>a.value="")},{default:A(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),za]),b("div",Wa,[b("div",Qa,[Xa,b("div",Za,[w(x,{modelValue:r(l),"onUpdate:modelValue":v[2]||(v[2]=B=>ae(l)?l.value=B:null),onChange:d},{default:A(()=>[(p(!0),k(O,null,Q(r(n),(B,T)=>(p(),P(V,{key:T,label:B.title,value:B.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),b("div",Ga,[(p(!0),k(O,null,Q(r(u).filter(B=>B.includes(r(a))),(B,T)=>(p(),k("div",{key:T,class:_e(["item",{active:B===r(c)}]),onDblclick:H=>m(B),onClick:H=>f(B)},[w(_,{icon:B,size:26,type:r(l),color:"#888"},null,8,["icon","type"]),b("div",Ya,M(B),1)],42,Ja))),128))])])])])}}});const en=R(Ka,[["__scopeId","data-v-2c34f3fc"]]),ie=(t,e,o)=>se({title:"通用模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,showConfirmButton:!1,...o,customClass:"xh-modal-mask",message:()=>Qe(t,e)}),Ae=(t,e,o)=>se({title:"可主动关闭的模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!1,closeOnClickModal:!1,showCancelButton:!0,showConfirmButton:!0,...o,customClass:"xh-modal-close-mask",message:()=>Qe(t,e)}),Et=()=>{se.close()},tn={class:"icons-container"},on={key:0,class:"icon"},an={key:1,class:"icon"},nn=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=()=>{const n=y();Ae(en,{"onUpdate:init":a=>{n.value=a}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"60%",height:"85vh"},beforeClose:(a,l,c)=>{var u;if(a==="confirm"){const d=(u=n.value)==null?void 0:u.confirm();if(!d){D("请选择图标");return}e("update:modelValue",d),c()}else c()}})},s=()=>{e("update:modelValue",""),ee("重置成功")};return(n,a)=>{const l=X,c=S("el-button");return p(),k("div",tn,[n.modelValue?(p(),k("div",on,[w(l,{icon:n.modelValue,size:18},null,8,["icon"])])):(p(),k("div",an)),n.modelValue?(p(),P(c,{key:2,onClick:s},{default:A(()=>[F(" 重置 ")]),_:1})):U("",!0),w(c,{type:"primary",onClick:o},{default:A(()=>[F(" 选择 ")]),_:1})])}}});const sn=R(nn,[["__scopeId","data-v-bba3d153"]]),ln=["innerHTML"],cn=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,o)=>(p(),k("div",L(e.style,{innerHTML:e.modelValue}),null,16,ln))}}),rn={};function un(t,e){return p(),k("div",null," 自定义输入框（未实现） ")}const dn=R(rn,[["render",un]]),pn=["innerHTML"],mn=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,o)=>{const s=X;return p(),k("div",{class:"form-prompt",style:Qt(e.style)},[e.icon?(p(),P(s,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):U("",!0),b("span",{class:"text",innerHTML:e.text},null,8,pn)],4)}}});const _n=R(mn,[["__scopeId","data-v-66a8f3ac"]]),fn=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=a=>{e("update:modelValue",a)},n=y(o.modelValue);return(a,l)=>(p(),P(r(ue),L({modelValue:r(n),"onUpdate:modelValue":l[0]||(l[0]=c=>ae(n)?n.value=c:null),file:a.file},{ajaxParams:a.ajaxParams},{"onUpdate:modelValue":s}),null,16,["modelValue","file"]))}}),hn={};function gn(t,e){return p(),k("div",null," 表格展示器 ")}const vn=R(hn,[["render",gn]]),yn=t=>{const e=t.lastIndexOf("?");return t.substring(0,t.includes("?")?e:t.length)},xn=t=>{const e=/\.(jpg|jpeg|png|gif|bmp|webp)$/,o=yn(t);return e.test(o)},kn={class:"upload-container"},wn={class:"xb-image-error",title:"加载失败"},An=["onClick"],bn=I({__name:"index",props:{modelValue:{default:[]},type:{default:"image"},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=()=>{const a=y(),l={uploadLimit:o.uploadLimit,selectLimit:o.selectLimit,type:o.type};Ae(uo,{...l,"onUpdate:init":c=>{a.value=c}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(c,u,d)=>{var i;if(c==="confirm"){const m=(i=a.value)==null?void 0:i.getSelected();if(m.length){const f=m.map(g=>g==null?void 0:g.url);e("update:modelValue",f),d()}else D("请选择文件")}else d()}})},n=a=>{const l=o.modelValue.filter((c,u)=>u!==a);e("update:modelValue",l)};return re(()=>{if(typeof o.modelValue=="string"){const a=o.modelValue===""?"":[o.modelValue];e("update:modelValue",a)}}),(a,l)=>{const c=X,u=S("el-image"),d=S("el-icon");return p(),k("div",kn,[(p(!0),k(O,null,Q(a.modelValue,(i,m)=>(p(),k("div",{key:m,class:"item"},[r(xn)(i)?(p(),P(u,{key:0,class:"image","preview-src-list":a.modelValue,"z-index":999,src:i,infinite:!1},{error:A(()=>[b("div",wn,[w(c,{icon:"Picture",type:"element",size:22})])]),_:2},1032,["preview-src-list","src"])):(p(),P(d,{key:1,class:"file-thumb"},{default:A(()=>[w(c,{icon:"Document",size:28,type:"element"})]),_:1})),b("div",{class:"del-file",onClick:f=>n(m)},[w(c,{icon:"Delete",size:15,type:"element"})],8,An)]))),128)),b("div",{class:"item",onClick:s},[w(c,{icon:"PlusOutlined",size:20,color:"#888"})])])}}});const Cn=R(bn,[["__scopeId","data-v-d00bca03"]]),Pn={class:"editor-container"},In=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t;ke(d=>({"72a18ad5":r(u)}));const s=Xt(),n=y(o.modelValue),a=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});Zt(()=>{s.value&&(s.value.destroy(),s.value=null)});const l=d=>{s.value=d},c=d=>{const i=d.getHtml();e("update:modelValue",i)},u=$(()=>`${o.editHeight}px`);return(d,i)=>(p(),k("div",Pn,[w(r($o),L({class:"toolbar",editor:r(s)},r(a)),null,16,["editor"]),w(r(Do),{modelValue:r(n),"onUpdate:modelValue":i[0]||(i[0]=m=>ae(n)?n.value=m:null),"default-config":d.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:c},null,8,["modelValue","default-config"])]))}});const Tt=R(In,[["__scopeId","data-v-957ed5c3"]]),gt="authorization",Me=zo(()=>{const t=Fe();return Wo(`${t}_${gt}`,null)});let ao="/api";ao=window.location.origin;const vt=ao,G=No.create({baseURL:vt,timeout:6e4}),Bn=async t=>{const e=Me();return e.value&&t.headers.set(gt,e.value),t},$n=t=>{var d,i,m,f;const e=Me(),o=t.data,s=t.headers["content-type"],n=s.includes("application/json"),a=s.includes("application/octet-stream"),l=s.includes("text/html"),c=s.includes("application/javascript"),u=s.includes("css");if(n){if((o==null?void 0:o.code)===301)return fe(((d=o==null?void 0:o.data)==null?void 0:d.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return D((o==null?void 0:o.msg)||"302.网络错误~"),fe(((i=o==null?void 0:o.data)==null?void 0:i.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return setTimeout(()=>{window.location.reload()},2e3),o;if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return D((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){e.value="";let g=(m=W.currentRoute.value)==null?void 0:m.fullPath;return(f=W.currentRoute.value.query)!=null&&f.redirect&&(g=W.currentRoute.value.query.redirect),g===me&&(g="/"),W.replace({path:me,query:{redirect:g}}),D((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&D((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return a||l||c||u?Promise.resolve(o):Promise.reject(o)},Dn=t=>{if(t.response){const{status:e}=t.response;[401,402,403,500,502].includes(e)&&fe("/exception",{code:e})}return Promise.reject(t)};G.interceptors.request.use(Bn);G.interceptors.response.use($n,Dn);const En=Object.freeze(Object.defineProperty({__proto__:null,baseURL:vt,default:G,instance:G},Symbol.toStringTag,{value:"Module"})),xe=(t,e,o)=>G.request({url:t,params:e,method:"GET",...o}),Ue=(t,e,o)=>G.request({url:t,data:e,method:"POST",...o}),it=(t,e,o)=>G.request({url:t,data:e,method:"PUT",...o}),ut=(t,e,o)=>G.request({url:t,data:e,method:"DELETE",...o}),Tn=I({__name:"index",props:{modelValue:{},api:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=le(),n=y(""),a=y(!1),l=y([]),c=d=>{if(d){a.value=!0;const i={...s.query,keyword:d};xe(o.api,i).then(m=>{l.value=m.data||[]}).finally(()=>{a.value=!1})}else l.value=[]},u=()=>{e("update:modelValue",n.value)};return(d,i)=>{const m=S("el-option"),f=S("el-select");return p(),P(f,{modelValue:r(n),"onUpdate:modelValue":i[0]||(i[0]=g=>ae(n)?n.value=g:null),"remote-method":c,filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",loading:r(a),onChange:u},{default:A(()=>[(p(!0),k(O,null,Q(r(l),(g,h)=>(p(),P(m,L({key:h},g),null,16))),128))]),_:1},8,["modelValue","loading"])}}}),Sn=I({__name:"index",props:{title:{},style:{default:{}}},setup(t){return(e,o)=>(p(),k("div",{class:"form-title",style:Qt(e.style)},M(e.title),5))}});const Vn=R(Sn,[["__scopeId","data-v-9233f703"]]),jn={id:"dplayer"},Un=I({__name:"index",props:{modelValue:{},style:{default:{}},player:{}},setup(t){const e=t;ke(a=>({"1bf71090":r(o),"491c079d":r(s)}));const o=$(()=>{var a;return((a=e==null?void 0:e.style)==null?void 0:a.width)??"100%"}),s=$(()=>{var a;return((a=e==null?void 0:e.style)==null?void 0:a.height)??"450px"}),n=$(()=>{var a;return e!=null&&e.player?{...e.player,video:{...((a=e.player)==null?void 0:a.video)??{},url:e.modelValue}}:{video:{url:e.modelValue}}});return re(()=>{const a=document.getElementById("dplayer");new eo({container:a,...n.value})}),(a,l)=>(p(),k("div",jn))}});const Rn=R(Un,[["__scopeId","data-v-604a1526"]]),Mn={class:"xb-alert"},Ln=I({__name:"index",props:{content:{},type:{default:"warning"},closable:{type:Boolean,default:!1},effect:{default:"dark"}},setup(t){return(e,o)=>{const s=S("el-alert");return p(),P(s,{type:e.type,closable:e.closable,effect:e.effect},{default:A(()=>[b("div",Mn,[(p(!0),k(O,null,Q(e.content,(n,a)=>(p(),k("div",{key:a},M(n),1))),128))])]),_:1},8,["type","closable","effect"])}}}),Fn={class:"select"},qn={class:"left"},On={class:"right"},Hn={key:0,class:"desc"},Nn={key:1,class:"value"},zn=I({__name:"select-text",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=mt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),a=l=>{e("update:modelValue",l)};return(l,c)=>{const u=S("el-option"),d=S("el-select");return p(),P(d,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=i=>ae(s)?s.value=i:null),onChange:a}),{default:A(()=>[(p(!0),k(O,null,Q(l.options,(i,m)=>(p(),P(u,L({key:m},i),{default:A(()=>[b("div",Fn,[b("div",qn,M(i.label),1),b("div",On,[i!=null&&i.desc?(p(),k("div",Hn,M(i.desc),1)):(p(),k("div",Nn,M(i.value),1))])])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Wn=R(zn,[["__scopeId","data-v-78c66a16"]]),Qn={class:"select"},Xn={class:"left"},Zn={class:"title"},Gn={key:0,class:"right"},Jn=I({__name:"select-image",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=mt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),a=l=>{e("update:modelValue",l)};return(l,c)=>{const u=S("el-image"),d=S("el-option"),i=S("el-select");return p(),P(i,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=m=>ae(s)?s.value=m:null),onChange:a}),{default:A(()=>[(p(!0),k(O,null,Q(l.options,(m,f)=>(p(),P(d,L({key:f},m),{default:A(()=>[b("div",Qn,[b("div",Xn,[w(u,{class:"image",src:m.url},null,8,["src"]),b("div",Zn,M(m.title?m.title:m.label),1)]),m!=null&&m.desc?(p(),k("div",Gn,M(m.desc),1)):U("",!0)])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Yn=R(Jn,[["__scopeId","data-v-acf0039b"]]),St={amap:Da,bmap:Sa,icons:sn,qmap:Ua,remote:fn,uploadify:Cn,info:cn,HCode:qa,PromptTip:_n,wangEditor:Tt,tinymceEditor:Tt,XInput:dn,XTable:vn,XSearch:Tn,XTitle:Vn,XVideo:Rn,XAlert:Ln,selectText:Wn,selectImage:Yn},Kn=t=>{Object.keys(St).forEach(e=>{t.component(e,St[e])})},yt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const s=t,n=le(),a=Ie(),l=y({}),c=y({api:"",method:"POST"}),u=y({}),d=y(),i=y(Ca),m=y("");Pt.use(Kn);const f=Pt.$form(),g=()=>{const _=y({method:s.method,params:{...s.ajaxParams},data:{...s.ajaxParams}});s.method==="GET"?delete _.value.data:delete _.value.params,o("update:init"),G(s.api,_.value).then(C=>{const{data:E}=C;if(!(E!=null&&E.http))return D("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(E!=null&&E.formRule))return D("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));c.value=E.http,d.value=Ia(E.formRule),i.value={...i.value,...E.config},m.value=(E==null?void 0:E.redirect)??"",o("update:init-ok",{response:E,exposed:a.exposed})}).catch(C=>{o("update:init-error",C)})},h=async()=>{var C,E,j;const _=y({method:((C=c.value)==null?void 0:C.method)??"GET",params:{...s.ajaxParams},data:{}});return((E=c.value)==null?void 0:E.method)==="GET"?_.value.params={..._.value.params,...u.value}:_.value.data={..._.value.data,...u.value},o("update:submit",{api:c.value.api,queryParams:_}),await G(((j=c.value)==null?void 0:j.api)??"",_.value).then(V=>{var x;return(x=n.query)!=null&&x.isBack&&!s.isModal&&!m.value?We():m.value&&fe(m.value),o("update:submit-ok",V),ee((V==null?void 0:V.msg)??"操作失败"),V}).catch(V=>(o("update:submit-error",V),V))},v=()=>{o("update:rest-ok")};return re(()=>g()),e({init:g,submit:h,reset:v}),(_,C)=>(p(),P(r(f),{api:r(l),"onUpdate:api":C[0]||(C[0]=E=>ae(l)?l.value=E:null),modelValue:r(u),"onUpdate:modelValue":C[1]||(C[1]=E=>ae(u)?u.value=E:null),modelModifiers:{lazy:!0},rule:r(d),option:r(i),title:""},null,8,["api","modelValue","rule","option"]))}}),es={class:"xh-modal-container"},ts=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),o=y({submitBtn:{},resetBtn:{}}),s=n=>{var l;const a=(l=n==null?void 0:n.response)==null?void 0:l.extraConfig;o.value=a};return(n,a)=>(p(),k("div",es,[w(r(yt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:n.api,method:n.method,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:initOk":s},null,8,["api","method","ajax-params"])]))}});const xt=R(ts,[["__scopeId","data-v-74729329"]]),os={class:"xh-modal-container"},as={class:"xh-modal-content"},ns=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y();y({submitBtn:{},resetBtn:{}});const a=f=>{o("update:init-ok",s.exposed)},l=f=>{o("update:init-error",s.exposed)},c=()=>{o("update:submit-ok")},u=()=>{o("update:submit-error")},d=()=>{o("update:rest-ok")};return e({hanldSubmit:async()=>await n.value.submit(),hanldReset:()=>{n.value.reset(),o("update:rest")}}),(f,g)=>(p(),k("div",os,[b("div",as,[w(r(yt),{ref_key:"formRef",ref:n,class:"xh-form-create",api:f.api,method:f.method,"ajax-params":f.ajaxParams,"is-modal":!0,"onUpdate:initOk":a,"onUpdate:submitOk":c,"onUpdate:submitError":u,"onUpdate:restOk":d,"onUpdate:initError":l},null,8,["api","method","ajax-params"])])]))}});const kt=R(ns,[["__scopeId","data-v-0f5776c7"]]),ss=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,o=$(()=>e.text?"":`xh-button-${e.type}`);return(s,n)=>(p(),k("button",{class:_e(["xh-button",r(o)])},[ce(s.$slots,"loading",{},void 0,!0),ce(s.$slots,"icon",{},void 0,!0),ce(s.$slots,"default",{},void 0,!0)],2))}});const ls=R(ss,[["__scopeId","data-v-2360f940"]]),wt=I({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,o=["error","purple","cyan"],s=$(()=>o.includes(e.type));return(n,a)=>{const l=S("el-button");return r(s)?(p(),P(ls,{key:0,type:n.type},{default:A(()=>[ce(n.$slots,"loading"),ce(n.$slots,"icon"),ce(n.$slots,"default")]),_:3},8,["type"])):(p(),P(l,{key:1,type:n.type},{default:A(()=>[ce(n.$slots,"loading"),ce(n.$slots,"icon"),ce(n.$slots,"default")]),_:3},8,["type"]))}}}),cs=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y(!1),a=u=>{n.value=u},l=()=>{a(!0),o("update:submit")},c=()=>{a(!0),o("update:rest")};return re(()=>{o("update:init",{exposed:s.exposed})}),e({setDisabled:a}),(u,d)=>{var f;const i=wt,m=S("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(p(),P(m,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:A(()=>{var g,h,v,_;return[(g=u.extraConfig.submitBtn)!=null&&g.show?(p(),P(i,L({key:0,type:"primary",class:"xh-extra-button"},((h=u.extraConfig)==null?void 0:h.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:l}),{default:A(()=>{var C;return[F(M(r(n)?"请求中...":((C=u.extraConfig.submitBtn)==null?void 0:C.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):U("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(p(),P(i,L({key:1,type:"warning",class:"xh-extra-button"},((_=u.extraConfig)==null?void 0:_.resetBtn)??{},{disabled:r(n),onClick:c}),{default:A(()=>{var C;return[F(M(((C=u.extraConfig.resetBtn)==null?void 0:C.content)??"重置"),1)]}),_:1},16,["disabled"])):U("",!0)]}),_:1})):U("",!0)}}});const rs=R(cs,[["__scopeId","data-v-c923fedc"]]),Y=(t,e)=>{const o=t.field;let s=e[o];if(o.includes(".")){const n=o.split(".");let a=e;n.forEach(l=>{a=a[l]}),s=a}return s},De=(t,e,o,s=!0)=>{if(!t){D("请设置请求API接口"),o==null||o.commitProxy("query");return}it(t,e).then(n=>{o==null||o.commitProxy("query"),s&&ee((n==null?void 0:n.msg)??"操作成功")})},is=(t,e,o,s)=>{var c,u;const n=((c=o==null?void 0:o.rowConfig)==null?void 0:c.keyField)??"id",a=e[t==null?void 0:t.field],l={[n]:e[n],keyField:n,field:t==null?void 0:t.field,value:a};De((u=t==null?void 0:t.params)==null?void 0:u.api,l,s)},us=["innerHTML"],ds=["innerHTML"],ps=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c,u,d,i,m;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.prefix)??""),n=y(((d=(u=e.column)==null?void 0:u.params)==null?void 0:d.suffix)??""),a=y(((m=(i=e.column)==null?void 0:i.params)==null?void 0:m.props)??{});return(f,g)=>(p(),k("div",L(r(a),{class:"flex items-center"}),[r(s)?(p(),k("div",{key:0,innerHTML:r(s)},null,8,us)):U("",!0),b("div",null,M(r(o)),1),r(n)?(p(),k("div",{key:1,innerHTML:r(n)},null,8,ds)):U("",!0)],16))}}),ms=(t,e,o,s,n)=>{var m,f;o==null||o.xGrid;const a=o==null?void 0:o.form,l=o==null?void 0:o.page,c=o==null?void 0:o.sort,u=o==null?void 0:o.filters;o!=null&&o.code&&((m=s.screenConfig)!=null&&m.api)&&(t=(f=s.screenConfig)==null?void 0:f.api);const d=W.currentRoute.value,i=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...n??{},...a,...(d==null?void 0:d.query)??{}}});return JSON.stringify(c)!=="{}"&&i.value.params&&(i.value.params={...i.value.params,field:c.field,order:c.order}),u.length>0&&i.value.params&&u.forEach(({field:g,values:h})=>{i.value.params={...i.value.params,[g]:h.join(",")}}),new Promise((g,h)=>{G(t,i.value).then(v=>{g(v)}).catch(v=>{h(v)})})},_s=(t,e,o)=>{G(o.file,{responseType:"blob"}).then(s=>{Bo.saveFile({filename:t,type:e,content:s.data})})},fs=(t,e,o)=>new Promise((s,n)=>{var c;if(!((c=e.exportConfig)!=null&&c.api))return D("请设置请求API"),Promise.reject(new Error("请设置请求API"));const a=o==null?void 0:o.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:a?a.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var m;const d={method:"POST",data:{...l}},i=((m=e.exportConfig)==null?void 0:m.api)??"";G(i,d).then(f=>{const{data:g}=f;if(!(g!=null&&g.file))return D("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));_s(l.filename,l.format,g),u(f)})})}),hs=(t,e,o)=>{const s=new FormData;return s.append("file",t.file),new Promise(n=>{var c;const a=((c=e.importConfig)==null?void 0:c.api)??"";G(a,{method:"POST",data:s}).then(u=>{const{msg:d}=u;ee(d||"操作成功"),o==null||o.commitProxy("query"),n(u)}).catch(u=>{console.error("导入失败",u)})})},gs=(t,e,o)=>new Promise(s=>{const n=new FileReader;n.onload=a=>{const l=a.target?a.target.result:"",c=Jo(l,{type:"binary"}),u=Yo.sheet_to_json(c.Sheets.Sheet1);t.$table.loadData(u),ee("已将数据导入至本地表格"),s(u)},n.readAsBinaryString(t.file)}),vs=(t,e,o)=>{var s,n;return(s=e.importConfig)!=null&&s.api&&((n=e.importConfig)!=null&&n.isRemote)?hs(t,e,o):gs(t)},ys=(t,e,o,s,n)=>{const a={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=a,a!=null&&a.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>vs(l,o,n)}),a!=null&&a.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>fs(l,o,n)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>ms(t,e,l,o,s)}},o},xs=(t,e)=>{let o={};for(const s in t){const n=t[s]||"id";o={...o,[n]:e[s]||""}}return o},Le=(t,e,o)=>{var l,c;const s=W.currentRoute.value;let a={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...s.query};return(c=t.pageData)!=null&&c.isBack&&(a={...a,isBack:1}),a},ks=(t,e,o,s,n)=>{var d,i,m,f,g;const a=W.currentRoute.value,l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??{},c=y({...a.query}),u=y({...c.value});if(l instanceof Object&&(u.value={...u.value,...l}),o&&!["[]","{}"].includes(JSON.stringify((i=t==null?void 0:t.pageData)==null?void 0:i.aliasParams)))u.value={...u.value,...xs((m=t==null?void 0:t.pageData)==null?void 0:m.aliasParams,o)};else{const h=((f=s==null?void 0:s.rowConfig)==null?void 0:f.keyField)??"id";if(!o[h]){D("当前数据错误");return}const v=o[h];u.value={...u.value,[h]:v}}return(g=t.pageData)!=null&&g.isBack&&(u.value={...u.value,isBack:1}),u.value},ws=(t,e,o)=>{var n,a;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){D("缺少跳转地址");return}const s=Le(t);W.push({path:(a=t==null?void 0:t.pageData)==null?void 0:a.path,query:{...s}})},As=(t,e,o,s)=>{var n,a;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){D("缺少跳转地址");return}W.push({path:(a=t==null?void 0:t.pageData)==null?void 0:a.path,query:{...e}})},Re=t=>{bt(t)||(t=`${window.location.origin}/${t}`),window.open(t)},bs=(t,e,o)=>{var u,d,i;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((d=t.pageData)==null?void 0:d.method)??"GET";let a=((i=t.pageData)==null?void 0:i.path)??"";const l=Le(t),c={method:n,params:{},data:{}};if(n==="GET"?c.params=l:c.data=l,a){Re(a);return}G(s,c).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){D("缺少目标跳转地址");return}a=f.url,Re(a)})},Cs=(t,e,o,s)=>{var i,m,f,g,h;const n=((i=t==null?void 0:t.pageData)==null?void 0:i.api)??"",a=((m=t.pageData)==null?void 0:m.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((g=e==null?void 0:e.rowConfig)==null?void 0:g.keyField)??"id");let c=((h=t.pageData)==null?void 0:h.path)??"";const u=Le(t),d={method:a,params:{},data:{}};if(a==="GET"?d.params={...u,[l]:o}:d.data={...u,[l]:o},c){Re(c);return}G(n,d).then(v=>{const{data:_}=v;if(!(_!=null&&_.url)){D("缺少目标跳转地址");return}c=_.url,Re(c)})},Ps=(t,e,o,s)=>{var u,d,i;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",a=((d=t.pageData)==null?void 0:d.method)??"GET";let l=((i=t.pageData)==null?void 0:i.path)??"";const c=y({method:a,params:{...e},data:{...e}});if(a==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}G(n,c.value).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){D("缺少目标跳转地址");return}l=f.url,Re(l)})},Ee=(t,e)=>bo.service({text:t,lock:!0,background:"rgba(0, 0, 0, 0.7)",...e}),Is=(t,e,o)=>{var l,c,u,d;if(!(((l=t.message)==null?void 0:l.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const n=y(),a={api:((c=t.pageData)==null?void 0:c.api)||"",method:((u=t.pageData)==null?void 0:u.method)||"GET",ajaxParams:((d=t.pageData)==null?void 0:d.queryParams)||{},"onUpdate:init-ok":i=>{n.value=i}};Ae(kt,a,{...t.message,beforeClose:(i,m,f)=>{var g;if(i==="confirm"){const h=Ee("正在提交中...");(g=n.value)==null||g.hanldSubmit().then(v=>{(v==null?void 0:v.code)===200&&(f(),o==null||o.commitProxy("reload"))}).finally(()=>{h.close()})}i==="cancel"&&(f(),o==null||o.commitProxy("reload"))}})},Bs=(t,e,o,s)=>{var u,d,i,m,f;if(!(((u=t.message)==null?void 0:u.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const a=y(),l=y({api:((d=t.pageData)==null?void 0:d.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e},"onUpdate:init-ok":g=>{a.value=g}}),c=((m=t.pageData)==null?void 0:m.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),(f=l.value.ajaxParams)!=null&&f.isBack&&delete l.value.ajaxParams.isBack,Ae(kt,l.value,{...t.message,beforeClose:(g,h,v)=>{var _;if(g==="confirm"){const C=Ee("正在提交中...");(_=a.value)==null||_.hanldSubmit().then(E=>{(E==null?void 0:E.code)===200&&(v(),s==null||s.commitProxy("reload"))}).finally(()=>{C.close()})}g==="cancel"&&(v(),s==null||s.commitProxy("reload"))}})},$s=(t,e,o,s)=>{var c,u,d,i,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(i=t.pageData)==null?void 0:i.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[a]:o},"onUpdate:submit-ok":()=>{Et(),s==null||s.commitProxy("reload")},"onUpdate:rest-ok":()=>{Et(),s==null||s.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),Ae(kt,l.value,{...t.message,beforeClose:(h,v,_)=>{_(),s==null||s.commitProxy("reload")}})},be=(t,e="温馨提示",o="",s)=>se.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...s}),Ze=(t,e,o,s)=>{let n=null;o&&(n=Ee(o)),G(t,e).then(a=>{var d,i,m;n&&n.close();const l=((d=a==null?void 0:a.data)==null?void 0:d.url)??"",c=((i=a==null?void 0:a.data)==null?void 0:i.query)??{},u=((m=a==null?void 0:a.data)==null?void 0:m.loading)??"正在处理中...";l?(e.method==="GET"?e.params={...(e==null?void 0:e.params)??{},...c}:e.data={...(e==null?void 0:e.data)??{},...c},Ze(l,e,u,s)):(s==null||s.commitProxy("reload"),ee((a==null?void 0:a.msg)??"操作成功"))}).catch(()=>{n&&n.close()})},Ds=(t,e,o)=>{var i,m,f,g,h;const s=((i=t.pageData)==null?void 0:i.method)??"GET",n=Le(t);n!=null&&n.isBack&&delete n.isBack;const a=y({method:s,params:{...n},data:{...n}});s==="GET"&&delete a.value.data;const l=(m=t.pageData)==null?void 0:m.api;if(!l){D("请设置接口地址");return}const c=((f=t.message)==null?void 0:f.title)??"",u=((g=t.message)==null?void 0:g.type)??"",d=((h=t.message)==null?void 0:h.content)??"";be(d,c,u).then(()=>{var v;Ze(l,a.value,((v=t.message)==null?void 0:v.loading)??"",o)})},Es=(t,e,o,s)=>{var f,g,h,v,_,C,E;const n=((f=t.pageData)==null?void 0:f.method)??"GET",a=Le(t);a!=null&&a.isBack&&delete a.isBack;let l=((g=e.checkboxConfig)==null?void 0:g.labelField)??"";l||(l=((h=e==null?void 0:e.rowConfig)==null?void 0:h.keyField)??"id");const c=y({method:n,params:{...a,[l]:o},data:{...a,[l]:o}});n==="GET"&&delete c.value.data;const u=(v=t.pageData)==null?void 0:v.api;if(!u){D("请设置接口地址");return}const d=((_=t.message)==null?void 0:_.type)??"",i=((C=t.message)==null?void 0:C.title)??"",m=((E=t.message)==null?void 0:E.content)??"";be(m,i,d).then(()=>{var j;Ze(u,c.value,((j=t.message)==null?void 0:j.loading)??"",s)})},Ts=(t,e,o,s)=>{var m,f,g,h,v,_,C;const n=((m=t.pageData)==null?void 0:m.method)??"GET";let a=((f=o.checkboxConfig)==null?void 0:f.labelField)??"";a||(a=((g=o==null?void 0:o.rowConfig)==null?void 0:g.keyField)??"id");const l=y({method:n,params:{...e},data:{...e}});n==="GET"&&delete l.value.data;const c=(h=t.pageData)==null?void 0:h.api;if(!c){D("请设置接口地址");return}const u=((v=t.message)==null?void 0:v.title)??"",d=((_=t.message)==null?void 0:_.type)??"",i=((C=t.message)==null?void 0:C.content)??"";be(i,u,d).then(()=>{var E;Ze(c,l.value,((E=t.message)==null?void 0:E.loading)??"",s)})},Ss=(t,e,o)=>{var a,l,c;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}const n={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((c=t.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{se.close(),o==null||o.commitProxy("reload")}};ie(Ge,n,{...t.message,beforeClose:(u,d,i)=>{i(),o==null||o.commitProxy("reload")}})},Vs=(t,e,o,s)=>{var c,u,d,i,m,f;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({file:(i=t.pageData)==null?void 0:i.path,ajaxParams:{[a]:o},"onUpdate:close":()=>{se.close(),s==null||s.commitProxy("reload")}});((m=t.pageData)==null?void 0:m.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),ie(Ge,l.value,{...t.message,beforeClose:(g,h,v)=>{v(),s==null||s.commitProxy("reload")}})},js=(t,e,o,s)=>{var l,c;if(!(((l=t.message)==null?void 0:l.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}e!=null&&e.isBack&&delete e.isBack;const a=y({file:(c=t.pageData)==null?void 0:c.path,ajaxParams:e,"onUpdate:close":()=>{se.close(),s==null||s.commitProxy("reload")}});ie(Ge,a.value,{...t.message,beforeClose:(u,d,i)=>{i(),s==null||s.commitProxy("reload")}})},Us=(t,e,o)=>{var a,l,c,u;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供信息模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(xt,n,{...t.message,beforeClose:(d,i,m)=>{m(),o==null||o.commitProxy("reload")}})},Rs=(t,e,o,s)=>{var u,d,i,m,f,g;if(!(((u=t.message)==null?void 0:u.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((d=e.checkboxConfig)==null?void 0:d.labelField)??"";a||(a=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(m=t.pageData)==null?void 0:m.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[a]:o}}),c=((g=t==null?void 0:t.pageData)==null?void 0:g.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),ie(xt,l.value,{...t.message,beforeClose:(h,v,_)=>{_(),s==null||s.commitProxy("reload")}})},Ms=(t,e,o,s)=>{var c,u,d,i,m;if(!(((c=t.message)==null?void 0:c.title)||"")){D("信息模态框标题不能为空");return}if(!t.pageData.api){D("请提供信息模态框接口");return}const a=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((d=t.pageData)==null?void 0:d.method)||"GET",ajaxParams:{...e}}),l=((i=t.pageData)==null?void 0:i.queryParams)??"";l instanceof Object&&(a.value.ajaxParams={...a.value.ajaxParams,...l}),(m=a.value.ajaxParams)!=null&&m.isBack&&delete a.value.ajaxParams.isBack,ie(xt,a.value,{...t.message,beforeClose:(f,g,h)=>{h(),s==null||s.commitProxy("reload")}})},Ls=(t,e,o)=>{var a,l,c,u;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供表格模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(At,n,{...t.message,beforeClose:(d,i,m)=>{m(),o==null||o.commitProxy("reload")}})},Fs=(t,e,o,s)=>{var c,u,d,i,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(i=t.pageData)==null?void 0:i.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[a]:o}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),ie(At,l.value,{...t.message,beforeClose:(h,v,_)=>{_(),s==null||s.commitProxy("reload")}})},qs=(t,e,o,s)=>{var c,u,d,i;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const a=y({api:(u=t.pageData)==null?void 0:u.api,method:((d=t.pageData)==null?void 0:d.method)||"GET",ajaxParams:{...e}}),l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??"";l instanceof Object&&(a.value.ajaxParams={...a.value.ajaxParams,...l}),ie(At,a.value,{...t.message,beforeClose:(m,f,g)=>{g(),s==null||s.commitProxy("reload")}})},Os=(t,e,o,s)=>{},Hs=(t,e,o)=>{var s;switch((s=e.pageData)==null?void 0:s.type){case"page":ws(e);break;case"link":bs(e);break;case"down":break;case"confirm":Ds(e,t,o);break;case"modal":Is(e,t,o);break;case"info":Us(e,t,o);break;case"table":Ls(e,t,o);break;case"remote":Ss(e,t,o);break;default:D("按钮类型错误");break}},Ns=(t,e,o)=>{var c,u,d,i;const s=(c=t.columns)==null?void 0:c.filter(m=>m.type==="checkbox");if(!(s!=null&&s.length)){D("请先开启批量操作");return}const n=(o==null?void 0:o.getCheckboxRecords())??[];if(n.length<=0){D("请选择数据");return}let a=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id");const l=n.map(m=>m[a]);switch((i=e.pageData)==null?void 0:i.type){case"link":Cs(e,t,l);break;case"down":break;case"confirm":Es(e,t,l,o);break;case"remote":Vs(e,t,l,o);break;case"modal":$s(e,t,l,o);break;case"info":Rs(e,t,l,o);break;case"table":Fs(e,t,l,o);break;default:D("按钮类型错误");break}},Vt=(t,e,o,s,n)=>{var c,u;if(!s){D("行参数出错");return}const a=y({}),l=((c=e.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(a.value={...l}),a.value={...a.value,...ks(e,o,s,t)},(u=e.pageData)==null?void 0:u.type){case"page":As(e,a.value);break;case"link":Ps(e,a.value);break;case"down":Os(e,a.value);break;case"confirm":Ts(e,a.value,t,n);break;case"modal":Bs(e,a.value,t,n);break;case"info":Ms(e,a.value,t,n);break;case"table":qs(e,a.value,t,n);break;case"remote":js(e,a.value,t,n);break;default:D("按钮类型错误");break}};const zs=()=>{const t=ne();return((t==null?void 0:t.routeList)??[]).map(s=>s.path)},Ws=t=>zs().includes(t),Qs={class:"button-group"},Xs={class:"pr-1"},Zs={class:"no-group-buttons"},Gs=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var g;const e=t,o=$(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIcon)??"Operation"}),s=$(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},a=y(((g=e.column.params)==null?void 0:g.buttonStyle)??n),l=$(()=>e.rightButtonList.filter(h=>{var _,C,E,j,V,x,B,T,H,Z;const v=((_=h.pageData)==null?void 0:_.group)||((C=e.column.params)==null?void 0:C.group);return(j=(E=h.pageData)==null?void 0:E.params)!=null&&j.field&&((x=(V=h.pageData)==null?void 0:V.params)!=null&&x.value)&&v?(e.row[(T=(B=h.pageData)==null?void 0:B.params)==null?void 0:T.field]||"")===((Z=(H=h.pageData)==null?void 0:H.params)==null?void 0:Z.value):v})),c=$(()=>e.rightButtonList.filter(h=>{var v;return!((v=h.pageData)!=null&&v.group)})),u=$(()=>{var h;return((h=e.column.params)==null?void 0:h.groupText)||"更多"}),d=$(()=>h=>{var x,B,T,H,Z,te,de;const v=((x=h.pageData)==null?void 0:x.api)??"";if(!Ws(v))return!1;const C=(((T=(B=h==null?void 0:h.pageData)==null?void 0:B.params)==null?void 0:T.where)??"").toLowerCase(),E=(Z=(H=h==null?void 0:h.pageData)==null?void 0:H.params)==null?void 0:Z.field,j=(de=(te=h==null?void 0:h.pageData)==null?void 0:te.params)==null?void 0:de.value;if(E===void 0&&j===void 0)return!0;if(E===void 0||E===""||E&&(j===void 0||j===""))return!1;const V=e.row[E];switch(C){case"!=":return j!==V;case"in":return j instanceof Array&&pt(V,j);case"notIn":return j instanceof Array&&!pt(V,j);default:return j===V}}),i=$(()=>h=>{const v={...h};return v!=null&&v.icon&&delete v.icon,v}),m=h=>{Vt(e.gridConfig,h,e.column,e.row,e.xGrid)},f=h=>{Vt(e.gridConfig,h,e.column,e.row,e.xGrid)};return(h,v)=>{const _=X,C=S("el-button"),E=S("el-dropdown-item"),j=S("el-dropdown-menu"),V=S("el-dropdown");return p(),k("div",Qs,[r(l).length?(p(),P(V,{key:0,class:"mr-2",onCommand:m},{dropdown:A(()=>[w(j,null,{default:A(()=>[(p(!0),k(O,null,Q(r(l),(x,B)=>(p(),k(O,{key:B},[r(d)(x)?(p(),P(E,{key:0,command:x},{default:A(()=>{var T,H,Z;return[(T=x==null?void 0:x.button)!=null&&T.icon?(p(),P(_,{key:0,icon:(H=x==null?void 0:x.button)==null?void 0:H.icon,type:(Z=x==null?void 0:x.button)==null?void 0:Z.iconType},null,8,["icon","type"])):U("",!0),b("span",null,M(x.title),1)]}),_:2},1032,["command"])):U("",!0)],64))),128))]),_:1})]),default:A(()=>[w(C,L({type:"danger"},r(a)),{default:A(()=>[b("span",Xs,M(r(u)),1),r(o)?(p(),P(_,{key:0,icon:r(o),type:r(s)},null,8,["icon","type"])):U("",!0)]),_:1},16)]),_:1})):U("",!0),b("div",Zs,[(p(!0),k(O,null,Q(r(c),(x,B)=>{var T;return Ve((p(),k("div",{key:B,class:"item"},[(p(),P(C,L({key:B},r(i)((x==null?void 0:x.button)??{}),{onClick:H=>f(x)}),je({default:A(()=>[F(" "+M(x.title),1)]),_:2},[(T=x==null?void 0:x.button)!=null&&T.icon?{name:"icon",fn:A(()=>{var H,Z,te;return[(H=x==null?void 0:x.button)!=null&&H.icon?(p(),P(_,{key:0,icon:(Z=x==null?void 0:x.button)==null?void 0:Z.icon,type:((te=x==null?void 0:x.button)==null?void 0:te.iconType)??""},null,8,["icon","type"])):U("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Gt,r(d)(x)]])}),128))])])}}});const Js=R(Gs,[["__scopeId","data-v-24f14bce"]]),Ys={class:"flex space-x-2"},Ks={class:"flex gap-2"},el=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,o=y(),s=ne(),n=$(()=>e.topButtonList.filter(i=>{var m;return!((m=i.pageData)!=null&&m.group)})),a=i=>i,l=i=>{const m=a(i.pageData.api??"");return y({action:m,showFileList:!1,headers:{Authorization:s.Authorization,"X-Requested-With":"XMLHttpRequest"},...i.message}).value},c=()=>{o.value=Ee("上传中...")},u=i=>{var m,f;if((m=o.value)==null||m.close(),(i==null?void 0:i.code)!==200)return D((i==null?void 0:i.msg)??"上传失败","温馨提示");(f=e.xGrid)==null||f.commitProxy("reload"),ee("上传成功","温馨提示")},d=()=>{var i;(i=o.value)==null||i.close(),D("上传失败","温馨提示")};return(i,m)=>{const f=X,g=S("el-button"),h=S("el-upload"),v=Jt("auth");return p(),k("div",Ys,[b("div",Ks,[(p(!0),k(O,null,Q(r(n),(_,C)=>{var E,j;return p(),k("div",{key:C,class:"flex items-center"},[_.pageData.type==="upload"?(p(),P(h,L({key:0,class:"flex items-center"},l(_),{"before-upload":c,"on-success":u,"on-error":d}),{trigger:A(()=>{var V,x;return[Ve((p(),P(g,q(z((_==null?void 0:_.button)??{})),je({default:A(()=>[F(" "+M(_.title),1)]),_:2},[(V=_==null?void 0:_.button)!=null&&V.icon?{name:"icon",fn:A(()=>{var B,T;return[w(f,{icon:(B=_==null?void 0:_.button)==null?void 0:B.icon,type:(T=_==null?void 0:_.button)==null?void 0:T.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040)),[[v,(x=_.pageData)==null?void 0:x.api]])]}),_:2},1040)):Ve((p(),P(g,L({key:1},(_==null?void 0:_.button)??{},{onClick:V=>r(Hs)(e.gridConfig,_,i.xGrid)}),je({default:A(()=>[F(" "+M(_.title),1)]),_:2},[(E=_==null?void 0:_.button)!=null&&E.icon?{name:"icon",fn:A(()=>{var V,x;return[w(f,{icon:(V=_==null?void 0:_.button)==null?void 0:V.icon,type:(x=_==null?void 0:_.button)==null?void 0:x.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])),[[v,(j=_.pageData)==null?void 0:j.api]])])}),128))])])}}}),tl={class:"flex space-x-2"},ol=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,o=$(()=>{var n;return((n=e.selectButtonList)==null?void 0:n.filter(a=>{var l;return!((l=a.pageData)!=null&&l.group)}))||[]}),s=$(()=>n=>{const a={...n};return a!=null&&a.icon&&delete a.icon,a});return(n,a)=>{const l=X,c=wt,u=S("el-space"),d=Jt("auth");return p(),k("div",tl,[r(o).length?(p(),P(u,{key:0},{default:A(()=>[(p(!0),k(O,null,Q(r(o),(i,m)=>{var f,g;return Ve((p(),P(c,L({key:m,type:"primary"},r(s)((i==null?void 0:i.button)??{}),{onClick:h=>r(Ns)(e.gridConfig,i,n.xGrid)}),je({default:A(()=>[F(" "+M(i.title),1)]),_:2},[(f=i==null?void 0:i.button)!=null&&f.icon?{name:"icon",fn:A(()=>{var h,v;return[w(l,{icon:(h=i==null?void 0:i.button)==null?void 0:h.icon,type:(v=i==null?void 0:i.button)==null?void 0:v.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])),[[d,(g=i.pageData)==null?void 0:g.api]])}),128))]),_:1})):U("",!0)])}}}),al={class:"flex space-x-3"},nl={key:1,class:"flex space-x-1"},sl=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=le();return(o,s)=>{var a,l,c;const n=wt;return p(),k("div",al,[(a=r(e).query)!=null&&a.isBack?(p(),P(n,{key:0,type:"primary",onClick:r(We)},{default:A(()=>[F(" 返回 ")]),_:1},8,["onClick"])):U("",!0),o.topButtonList.length||(l=o.selectButtonList)!=null&&l.length?(p(),k("div",nl,[o.topButtonList.length?(p(),P(el,q(L({key:0},{xGrid:o.xGrid,gridConfig:o.gridConfig,topButtonList:o.topButtonList})),null,16)):U("",!0),(c=o.selectButtonList)!=null&&c.length?(p(),P(ol,q(L({key:1},{xGrid:o.xGrid,gridConfig:o.gridConfig,selectButtonList:o.selectButtonList})),null,16)):U("",!0)])):U("",!0)])}}}),ll=t=>(Be("data-v-1bc20016"),t=t(),$e(),t),cl=ll(()=>b("div",null,null,-1)),rl={class:"assets-container"},il={class:"item"},ul=["src"],dl=["src"],pl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o="",s=$(()=>{var a,l;return((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.resource)??[]}),n=$(()=>Y(e.column,e.row));return(a,l)=>{const c=X,u=S("el-tooltip");return p(),k(O,null,[cl,b("div",rl,[(p(!0),k(O,null,Q(r(s),(d,i)=>(p(),P(u,{key:i,show:d==null?void 0:d.isUpdate,trigger:"hover",placement:"top"},{content:A(()=>[F(M((d==null?void 0:d.title)??"错误"),1)]),default:A(()=>[b("div",il,[(d==null?void 0:d.type)==="url"&&r(bt)(d==null?void 0:d.icon)?(p(),k("img",{key:0,class:"logo",src:d==null?void 0:d.icon},null,8,ul)):(d==null?void 0:d.type)==="path"?(p(),k("img",{key:1,class:"logo",src:`${r(o)}${d==null?void 0:d.icon}`},null,8,dl)):(p(),P(c,{key:2,icon:d.icon},null,8,["icon"])),b("span",null,M(r(n)[d.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const ml=R(pl,[["__scopeId","data-v-1bc20016"]]),_l=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l,c)=>{const u=X;return p(),P(u,L({icon:r(o)},r(s)),null,16,["icon"])}}}),fl={class:"xh-image-error"},hl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,a,l,c;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l=s.value)!=null&&l.style||(s.value.style={width:"30px",height:"30px"}),(c=s.value)!=null&&c.preview&&(s.value.previewSrcList=[o.value],delete s.value.preview),(u,d)=>{const i=X,m=S("el-image");return p(),P(m,L(r(s),{src:r(o),class:"xh-table-image"}),{error:A(()=>[b("div",fl,[w(i,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const gl=R(hl,[["__scopeId","data-v-398d169c"]]),vl=t=>(Be("data-v-68b0b463"),t=t(),$e(),t),yl={class:"xh-image-error"},xl=vl(()=>b("span",null,"加载失败",-1)),kl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,c,u;const e=t,o=$(()=>{var d;return((d=e.column.params)==null?void 0:d.previewDisabled)??!0}),s=$(()=>{const d=Y(e.column,e.row);return d instanceof Array?d.map(i=>i.url):[]}),n=$(()=>{const d=Y(e.column,e.row);return d instanceof Array&&d.length>0?d:[]}),a=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=a.value)!=null&&u.style||(a.value.style={width:"30px",height:"30px"}),(d,i)=>{const m=X,f=S("el-image");return p(!0),k(O,null,Q(r(n),(g,h)=>(p(),P(f,L(r(a),{key:h,src:g==null?void 0:g.url,"preview-src-list":r(o)?[]:r(s)}),{error:A(()=>[b("div",yl,[w(m,{icon:"Picture",type:"element"}),xl])]),_:2},1040,["src","preview-src-list"]))),128)}}});const wl=R(kl,[["__scopeId","data-v-68b0b463"]]),Al=t=>(Be("data-v-fe26ffb0"),t=t(),$e(),t),bl={class:"xh-image-error"},Cl=Al(()=>b("span",null,"加载失败",-1)),Pl=I({__name:"index",props:{column:{},row:{}},setup(t){var l,c,u;const e=t,o=$(()=>{var d;return((d=e.column.params)==null?void 0:d.previewDisabled)??!0}),s=$(()=>{const d=Y(e.column,e.row);return d instanceof Array?d.map(i=>i.url):[]}),n=$(()=>{const d=Y(e.column,e.row);return d instanceof Array&&d.length>0?d[0]:[]}),a=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=a.value)!=null&&u.style||(a.value.style={width:"30px",height:"30px"}),(d,i)=>{var g;const m=X,f=S("el-image");return p(),P(f,L(r(a),{src:(g=r(n))==null?void 0:g.url,"preview-src-list":r(o)?[]:r(s)}),{error:A(()=>[b("div",bl,[w(m,{icon:"Picture",type:"element"}),Cl])]),_:1},16,["src","preview-src-list"])}}});const Il=R(Pl,[["__scopeId","data-v-fe26ffb0"]]),Bl=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;ke(s=>({"93ae0726":r(o)}));const o=$(()=>e.isBorder?e.border:"");return(s,n)=>{const a=S("el-input");return p(),P(a,{class:_e({"xh-input":s.isBorder})},null,8,["class"])}}});const $l=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c;const e=t,o=$(()=>Y(e.column,e.row)),s=y(""),n=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{}),a=u=>{var g,h,v,_;const d=Te("rowEdit",!0),i=((g=e.column.params)==null?void 0:g.api)??d,m=((v=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:v.keyField)??"id",f={[m]:e.row[m],keyField:m,field:(_=e.column)==null?void 0:_.field,value:u};De(i,f,e.xGrid)};return(u,d)=>{const i=Bl;return p(),P(i,L({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=m=>ae(s)?s.value=m:null),value:r(o),placeholder:"请输入"},r(n),{"is-border":!0,onChange:a}),null,16,["modelValue","value"])}}}),Dl=I({__name:"index",setup(t){return(e,o)=>{const s=S("el-input-number");return p(),P(s)}}}),El=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var c,u;const e=t,o=$(()=>Y(e.column,e.row)),s=$(()=>{var d;return((d=e.column.params)==null?void 0:d.isMessage)??!1}),n=y(o),a=y(((u=(c=e.column)==null?void 0:c.params)==null?void 0:u.props)??{}),l=d=>{var h,v,_,C;const i=Te("rowEdit",!0),m=((h=e.column.params)==null?void 0:h.api)??i,f=((_=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:_.keyField)??"id",g={[f]:e.row[f],keyField:f,field:(C=e.column)==null?void 0:C.field,value:d};De(m,g,e.xGrid,s.value)};return(d,i)=>{const m=Dl;return p(),P(m,L({modelValue:r(n),"onUpdate:modelValue":i[0]||(i[0]=f=>ae(n)?n.value=f:null),value:r(o)},r(a),{onChange:l}),null,16,["modelValue","value"])}}}),Tl=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>{var l;const a=((l=e.column)==null?void 0:l.params)??{};return a!=null&&a.type||delete a.type,a}),s=$(()=>{var a,l;return((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.format)??"￥"}),n=$(()=>Y(e.column,e.row));return(a,l)=>(p(),k("div",q(z(r(o))),M(r(s))+M(r(Bt).commafy(r(Bt).toNumber(r(n)),{digits:2})),17))}}),no=async(t,e)=>{let o="";e&&(o=Jr(e));const s=`${t}?${o}&t=${Date.now()}`;return await xe(s)},Sl=async(t,e,o)=>{for(let s=0;s<t.length;s++){const n=t[s],a=await no(n),l=n.includes(".js");if(!e&&l)e=a.toString();else if(e&&l){const u=a.toString();e+=`
${u}`}const c=n.includes(".css")||n.includes(".scss");if(!o&&c)o=a.toString();else if(o&&c){const u=a.toString();o+=`
${u}`}}return{jsContent:e,cssContent:o}},dt=(t,e="el-icon-warning",o="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${e}" style="${o}"></div>
            <div class="mt-5px">${t}</div>
        </div>
        `}),Vl=t=>{const e=/<link[^>]*src="(.*?)"[^>]*>/g,o=Array.from(t.matchAll(e),i=>i[1]),s=Yr(),n=Fe(),a=o.map(i=>(i=`${s}${i}`,i.replace("{moduleName}",n))),l=t==null?void 0:t.match(/<template>([\s\S]*)<\/template>/),c=t==null?void 0:t.match(/<script.*>([\s\S]*)<\/script>/),u=t==null?void 0:t.match(/<style.*>([\s\S]*)<\/style>/);return{templates:l?l[1]:"",sctipts:c?c[1]:"",styles:u?u[1]:"",stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null,links:a}},so={vue:null},jl=(t,e,o)=>se.alert(t,{confirmButtonText:"确定",type:e,...o}),Ul=(t,e,o)=>{zt({message:t,type:e,...o})},Rl=(t,e,o)=>se({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Qe(Ge,{file:t,ajaxParams:e,"onUpdate:close":()=>{se.close()}})}),Ml=async t=>{const e=Vl(t);if(!e.sctipts||!e.templates)return Promise.resolve({ponentObj:dt("远程代码格式解析失败"),tplData:e});let o={jsContent:"",cssContent:""};e.links.length>0&&(o=await Sl(e.links,o.jsContent,o.cssContent)),o.cssContent&&(e.styles=o.cssContent+e.styles);const s=e.sctipts.indexOf("{"),n=e.sctipts.lastIndexOf("}");if(s===-1||n===-1)return Promise.resolve({ponentObj:dt("解析代码错误"),tplData:e});const a=e.sctipts.slice(s,n+1),l=`${o.jsContent}
return ${a}`,c=new Function(l)();return c.template=e==null?void 0:e.templates,Promise.resolve({ponentObj:c,tplData:e})},Ll=()=>{const t=so.vue,e=ne(),o=K(),s=Fe();t.config.globalProperties.$moduleName=s,t.config.globalProperties.$userApp=e,t.config.globalProperties.$siteApp=o,t.config.globalProperties.$axios=En,t.config.globalProperties.$http={useGet:xe,usePost:Ue,usePut:it,useDelete:ut},t.config.globalProperties.$useGet=xe,t.config.globalProperties.$usePost=Ue,t.config.globalProperties.$usePut=it,t.config.globalProperties.$useDelete=ut,t.config.globalProperties.$dplayer=eo,t.config.globalProperties.$echarts=Zo,t.config.globalProperties.$useKeyCodeEvent=Gr,t.component("XRemote")===void 0&&t.component("XRemote",ue),t.component("AppIcons")===void 0&&t.component("AppIcons",X),t.config.globalProperties.$useAlert=jl,t.config.globalProperties.$useConfirm=be,t.config.globalProperties.$useMessage=Ul,t.config.globalProperties.$useNotify=Xe,t.config.globalProperties.$useLoading=Ee,t.config.globalProperties.$useRemote=Rl},Fl=(t,e)=>{Go.render(t).then(o=>{const s=document.createElement("style");if(s.setAttribute("type","text/css"),s.setAttribute("id",`css${e}`),s.styleSheet)s.styleSheet.cssText=o.css;else{const a=document.createTextNode(o.css);s.appendChild(a)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(s):document.documentElement.appendChild(s)})},ql=(t,e,o)=>{if(t.setAttribute("class",`remote css${e}`),!document.querySelector(`style[id=css${e}]`)){let s="";o.stylesHasScoped?s=`
            .css${e}{
                ${o.styles}
            }
        `:s=o.styles,Fl(s,e)}},Ol=I({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const o=t,s=mt(),n=y(),a=y(st()),l=y(o.isApi),c=y(o.file),u=async h=>await no(h,o.ajaxParams).then(async v=>{const _=v.toString(),C=await Ml(_);return ql(n.value,a.value,C.tplData),C.ponentObj}).catch(v=>{e("update:error",v),console.error("解析组件内容出错",v)}),d=Qo(async()=>c.value?await u(`${c.value}.vue`).then(h=>(Ll(),e("update:init",h),h)):dt("请先配置远程文件")),i=h=>{e("update:modelValue",h)},m=h=>{l.value=!1,c.value=h,a.value=st(),u(c.value)},f=()=>{a.value=st(),u(c.value)},g=()=>{o!=null&&o.isModal&&e("update:close")};return(h,v)=>(p(),k("div",{ref_key:"remoteRef",ref:n},[(p(),P(Wt(r(d)),L({...r(s),...h.ajaxParams},{"onUpdate:modelValue":i,"onUpdate:openWin":m,"onUpdate:reloadWin":f,"onUpdate:closeWin":g}),null,16))],512))}});const ue=R(Ol,[["__scopeId","data-v-f9d92600"]]),Hl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,o=$(()=>{var c,u;return(u=(c=e.column)==null?void 0:c.params)==null?void 0:u.file}),s=((l=e.column)==null?void 0:l.field)??"",n=$(()=>Y(e.column,e.row)),a=c=>{var f,g,h,v;const u=Te("rowEdit",!0),d=((f=e.column.params)==null?void 0:f.api)??u,i=((h=(g=e.gridConfig)==null?void 0:g.rowConfig)==null?void 0:h.keyField)??"id",m={[i]:e.row[i],keyField:i,field:(v=e.column)==null?void 0:v.field,value:c};De(d,m,e.xGrid)};return(c,u)=>{const d=ue;return p(),P(d,L({modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=i=>ae(n)?n.value=i:null),file:r(o)},{column:c.column,field:r(s),row:c.row},{"onUpdate:value":a}),null,16,["modelValue","file"])}}}),Nl={key:0,class:"tabs-container"},zl={class:"tabs-list"},Wl=["onClick"],Ql={class:"pl-1"},Xl=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var d;const e=t,o=y();$(()=>o.value.wrapRef);const s=le(),n=Kt(),a=((d=e.tabsConfig)==null?void 0:d.field)??"",l=s==null?void 0:s.query[a],c=$(()=>{var i;return l??((i=e.tabsConfig)==null?void 0:i.active)}),u=i=>{n.push({query:{[a]:i.value}})};return(i,m)=>{var h,v;const f=X,g=S("el-space");return(v=(h=i.tabsConfig)==null?void 0:h.list)!=null&&v.length?(p(),k("div",Nl,[b("div",zl,[w(g,null,{default:A(()=>[(p(!0),k(O,null,Q(i.tabsConfig.list,(_,C)=>(p(),k("div",{key:C,class:_e(["item",{active:r(c)===(_==null?void 0:_.value)}]),onClick:E=>u(_)},[_!=null&&_.icon?(p(),P(f,{key:0,icon:_==null?void 0:_.icon},null,8,["icon"])):U("",!0),b("span",Ql,M((_==null?void 0:_.label)??"错误"),1)],10,Wl))),128))]),_:1})])])):U("",!0)}}});const Zl=R(Xl,[["__scopeId","data-v-2e206a2c"]]),Gl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){const e=Kt(),o=le(),s=n=>{e.push({path:o.fullPath,query:{...o.query,...n.data}})};return(n,a)=>{var c;const l=S("vxeForm");return p(),P(l,{items:n.formScreen.items,data:(c=n.formScreen)==null?void 0:c.data,onSubmit:s},null,8,["items","data"])}}}),Jl=I({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(t){return(e,o)=>{var n,a;const s=ue;return p(),P(s,L({file:((n=e.formRemote)==null?void 0:n.file)||""},{ajaxParams:(a=e.formRemote)==null?void 0:a.ajaxParams}),null,16,["file"])}}}),Yl={class:"form-tabs-container"},Kl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,o)=>{var l,c,u,d;const s=Jl,n=Gl,a=Zl;return p(),k("div",Yl,[(l=e.formRemote)!=null&&l.file?(p(),P(s,q(L({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):U("",!0),(c=e.formScreen)!=null&&c.data?(p(),P(n,q(L({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):U("",!0),(d=(u=e.tabsConfig)==null?void 0:u.list)!=null&&d.length?(p(),P(a,q(L({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):U("",!0)])}}});const ec=R(Kl,[["__scopeId","data-v-af978fb7"]]),tc=["innerHTML"],oc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n,a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l,c)=>(p(),k("div",L(r(s),{innerHTML:r(o)}),null,16,tc))}}),ac=I({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,o=$(()=>e.value);return(s,n)=>{const a=S("el-option"),l=S("el-select");return p(),P(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=c=>ae(o)?o.value=c:null),placeholder:"请选择"},{default:A(()=>[(p(!0),k(O,null,Q(s.options,c=>(p(),P(a,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),nc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=e.column)==null?void 0:a.params)??{}),n=l=>{var m,f,g,h;const c=Te("rowEdit",!0),u=((m=e.column.params)==null?void 0:m.api)??c,d=((g=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:g.keyField)??"id",i={[d]:e.row[d],keyField:d,field:(h=e.column)==null?void 0:h.field,value:l};De(u,i,e.xGrid)};return(l,c)=>{var d,i;const u=ac;return(i=(d=r(s))==null?void 0:d.options)!=null&&i.length?(p(),P(u,L({key:0,value:r(o)},r(s),{onChange:n}),null,16,["value"])):U("",!0)}}}),sc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o=$(()=>Y(e.column,e.row)),s=n=>{var d,i,m,f;const a=Te("rowEdit",!0),l=((d=e.column.params)==null?void 0:d.api)??a,c=((m=(i=e.gridConfig)==null?void 0:i.rowConfig)==null?void 0:m.keyField)??"id",u={[c]:e.row[c],keyField:c,field:(f=e.column)==null?void 0:f.field,value:n};De(l,u,e.xGrid)};return(n,a)=>{var c,u,d,i,m,f,g,h,v,_,C,E,j,V,x,B,T,H,Z,te,de,ge,qe,Oe;const l=S("el-switch");return p(),P(l,{modelValue:r(o),"onUpdate:modelValue":a[0]||(a[0]=Ye=>ae(o)?o.value=Ye:null),"active-action-icon":((d=(u=(c=n.column)==null?void 0:c.params)==null?void 0:u.checked)==null?void 0:d.icon)??"","active-color":((f=(m=(i=n.column)==null?void 0:i.params)==null?void 0:m.checked)==null?void 0:f.color)??"#13ce66","active-text":(v=(h=(g=n.column)==null?void 0:g.params)==null?void 0:h.checked)==null?void 0:v.text,"active-value":(E=(C=(_=n.column)==null?void 0:_.params)==null?void 0:C.checked)==null?void 0:E.value,"inactive-action-icon":((x=(V=(j=n.column)==null?void 0:j.params)==null?void 0:V.unchecked)==null?void 0:x.icon)??"","inactive-color":((H=(T=(B=n.column)==null?void 0:B.params)==null?void 0:T.unchecked)==null?void 0:H.color)??"#ff4949","inactive-text":(de=(te=(Z=n.column)==null?void 0:Z.params)==null?void 0:te.unchecked)==null?void 0:de.text,"inactive-value":(Oe=(qe=(ge=n.column)==null?void 0:ge.params)==null?void 0:qe.unchecked)==null?void 0:Oe.value,"inline-prompt":"",onChange:s},null,8,["modelValue","active-action-icon","active-color","active-text","active-value","inactive-action-icon","inactive-color","inactive-text","inactive-value"])}}}),lc=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>Y(e.column,e.row)),s=$(()=>{var l,c;if(!((l=e.column.params)!=null&&l.options))return"选项错误";const a=((c=e.column.params)==null?void 0:c.defaultText)??"标签错误";return e.column.params.options[o.value]||a}),n=$(()=>{var c;const a=y({style:{},...e.column.params??{}});(c=a.value)!=null&&c.type&&delete a.value.type;const l=$(()=>{var u,d;if((u=e.column.params)!=null&&u.style)return((d=e.column.params)==null?void 0:d.style[o.value])||void 0});return a.value.style=l.value,a.value});return(a,l)=>{const c=S("el-tag");return p(),P(c,q(z(r(n).style)),{default:A(()=>[F(M(r(s)),1)]),_:1},16)}}}),cc={class:"flex"},rc=["href","target"],ic=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var a,l;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.props)??{}),n=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.value).then(c=>{});else{const c=document.createElement("input");c.value=o.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}ee("链接复制成功")};return(c,u)=>{var m;const d=X,i=S("el-button");return p(),k("div",cc,[b("a",{href:r(o),target:r(s).target??"_blank"},M(r(s).text?r(s).text:r(o)),9,rc),(m=r(s))!=null&&m.copy?(p(),P(i,{key:0,type:"primary",size:"small",text:"",onClick:n},{icon:A(()=>[w(d,{icon:"CopyDocument",size:14})]),default:A(()=>[F(" 复制 ")]),_:1})):U("",!0)])}}}),uc={class:"xb-pictuer"},dc={key:0,class:"info"},pc=["innerHTML"],mc=["innerHTML"],_c=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>{var d,i;return((i=(d=e.column)==null?void 0:d.params)==null?void 0:i.props)??{}}),s=$(()=>{var d,i;return((i=(d=e.column)==null?void 0:d.params)==null?void 0:i.image)??"avatar"}),n=$(()=>{var d,i;return((i=(d=e.column)==null?void 0:d.params)==null?void 0:i.title)??"title"}),a=$(()=>{var d,i;return((i=(d=e.column)==null?void 0:d.params)==null?void 0:i.desc)??"desc"}),l=$(()=>e.row[s.value]),c=$(()=>e.row[n.value]),u=$(()=>e.row[a.value]);return(d,i)=>{const m=X,f=S("el-image");return p(),k("div",uc,[w(f,L({class:"pictuer",src:r(l),"preview-src-list":[r(l)]},r(o)),{error:A(()=>[w(m,{icon:"Picture",type:"element",size:26})]),_:1},16,["src","preview-src-list"]),r(c)||r(u)?(p(),k("div",dc,[r(c)?(p(),k("div",{key:0,class:"title",innerHTML:r(c)},null,8,pc)):U("",!0),r(u)?(p(),k("div",{key:1,class:"desc",innerHTML:r(u)},null,8,mc)):U("",!0)])):U("",!0)])}}});const fc=R(_c,[["__scopeId","data-v-f08d7252"]]),hc=(t,e,o,s)=>{if(e.length<=0){D("请先导入数据");return}if(!t){D("请设置导入API接口");return}Ue(t,{import:o,data:e}).then(a=>{var l;(l=s.xGrid)==null||l.commitProxy("query"),ee((a==null?void 0:a.msg)??"操作成功")})},gc=t=>{Pe.commands.add("importAllData",{commandMethod:e=>{var a;const{$table:o}=e,s=o==null?void 0:o.getTableData(),n=s==null?void 0:s.fullData;hc(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",n,"all",t)}})},lo=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const o=t,s=y(),n=y(),a=y(),l=y(),c=y([]),u=y([]),d=y([]),i=async()=>{const f=y({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?f.value.params=o.ajaxParams:f.value.data=o.ajaxParams),e("update:init",f.value);const g=`${o.api}Table`;return await G(g,f.value).then(h=>{const v=h.data;a.value=v==null?void 0:v.realTable,l.value=v==null?void 0:v.tabsConfig,n.value=ys(o.api,o.method,v.tableConfig,o.ajaxParams,s.value),c.value=v.topButtonList,u.value=v.rightButtonList,d.value=v.selectButtonList,gc({xGrid:s.value,vxeTableConfig:n.value}),e("update:init-ok",v)}).catch(h=>{e("update:init-error",h)})},m=()=>{var f,g,h;if((f=a.value)!=null&&f.enable&&((g=a.value)!=null&&g.time_interval)){const v=((h=a.value)==null?void 0:h.time_interval)*1e3;setInterval(()=>{var _;(_=s.value)==null||_.commitProxy("reload")},v)}};return re(async()=>{await i(),await m()}),(f,g)=>{var _,C,E,j,V;const h=ps,v=S("vxe-grid");return(_=r(n))!=null&&_.id?(p(),P(v,L({key:0,ref_key:"xGrid",ref:s,class:"xh-table"},r(n),{onEditClosed:g[0]||(g[0]=({column:x,row:B})=>r(is)(x,B,r(n),r(s)))}),je({topButtonList:A(({$grid:x})=>[w(r(sl),q(z({gridConfig:r(n),topButtonList:r(c),selectButtonList:r(d),xGrid:x})),null,16)]),rightButtonList:A(({row:x,column:B,$grid:T})=>[w(r(Js),q(z({gridConfig:r(n),rightButtonList:r(u),row:x,column:B,xGrid:T})),null,16)]),pictuer:A(({row:x,column:B,$grid:T})=>[w(r(fc),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),unit:A(({row:x,column:B,$grid:T})=>[w(h,q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),html:A(({row:x,column:B,$grid:T})=>[w(r(oc),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),remote:A(({row:x,column:B,$grid:T})=>[w(r(Hl),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),tags:A(({row:x,column:B,$grid:T})=>[w(r(lc),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),link:A(({row:x,column:B,$grid:T})=>[w(r(ic),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),input:A(({row:x,column:B,$grid:T})=>[w(r($l),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),InputNumber:A(({row:x,column:B,$grid:T})=>[w(r(El),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),assets:A(({row:x,column:B,$grid:T})=>[w(r(ml),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),money:A(({row:x,column:B,$grid:T})=>[w(r(Tl),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),image:A(({row:x,column:B,$grid:T})=>[w(r(gl),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),images:A(({row:x,column:B,$grid:T})=>[w(r(wl),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),photos:A(({row:x,column:B,$grid:T})=>[w(r(Il),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),icons:A(({row:x,column:B,$grid:T})=>[w(r(_l),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),switch:A(({row:x,column:B,$grid:T})=>[w(r(sc),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),select:A(({row:x,column:B,$grid:T})=>[w(r(nc),q(z({gridConfig:r(n),row:x,column:B,xGrid:T})),null,16)]),_:2},[(E=(C=r(n))==null?void 0:C.screenRemote)!=null&&E.file||(V=(j=r(l))==null?void 0:j.list)!=null&&V.length?{name:"form",fn:A(({$grid:x})=>{var B,T,H;return[w(r(ec),q(z({gridConfig:r(n),xGrid:x,formScreen:{...(B=r(n))==null?void 0:B.formConfig,screenConfig:(T=r(n))==null?void 0:T.screenConfig},formRemote:(H=r(n))==null?void 0:H.screenRemote,tabsConfig:r(l)})),null,16)]}),key:"0"}:void 0]),1040)):U("",!0)}}}),vc={class:"xhadmin-table-pro"},yc=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,o)=>(p(),k("div",vc,[w(r(lo),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const At=R(yc,[["__scopeId","data-v-0f49a084"]]),xc={class:"xh-modal-container"},kc=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const o=()=>{e("update:close")};return(s,n)=>(p(),k("div",xc,[w(r(ue),{file:s.file,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:close":o},null,8,["file","ajax-params"])]))}});const Ge=R(kc,[["__scopeId","data-v-e633f214"]]),wc={class:"xhadmin-table-pro"},Ac=I({name:"/table"}),bc=I({...Ac,setup(t){const e=le(),o=e.path,s=e.meta.method,n=e.query??{};return(a,l)=>(p(),k("div",wc,[w(r(lo),{api:r(o),method:r(s),"ajax-params":r(n)},null,8,["api","method","ajax-params"])]))}});const Cc=R(bc,[["__scopeId","data-v-3e0e8d62"]]),Pc=t=>(Be("data-v-7e665031"),t=t(),$e(),t),Ic={class:"xhadmin-page-pro"},Bc={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},$c=Pc(()=>b("span",{class:"pl-1 text-[16px]"},"返回",-1)),Dc={key:0,class:"pl-20px text-[16px] select-none"},Ec={class:"form-pro flex-1"},Tc=I({name:"/form"}),Sc=I({...Tc,setup(t){const e=le(),o=y(),s=y(),n=e.path,a=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),u=y({submitBtn:{},resetBtn:{}}),d=h=>{var _;const v=(_=h==null?void 0:h.response)==null?void 0:_.extraConfig;u.value=v},i=()=>{o.value.submit()},m=()=>{o.value.reset(),ee("数据重置完成")},f=()=>{s.value.setDisabled(!0)},g=()=>{s.value.setDisabled(!1)};return(h,v)=>{var C,E,j;const _=X;return p(),k("div",Ic,[(C=r(e).query)!=null&&C.isBack?(p(),k("div",Bc,[b("div",{class:"flex items-center cursor-pointer select-none",onClick:v[0]||(v[0]=(...V)=>r(We)&&r(We)(...V))},[w(_,{icon:"ArrowLeftOutlined",size:16}),$c]),(E=r(e).meta)!=null&&E.title?(p(),k("div",Dc,M((j=r(e).meta)==null?void 0:j.title),1)):U("",!0)])):U("",!0),b("div",Ec,[w(r(yt),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(n),method:r(a),"ajax-params":r(c),"onUpdate:initOk":d,"onUpdate:submit":f,"onUpdate:submitOk":g,"onUpdate:submitError":g,"onUpdate:restOk":g,"onUpdate:initError":g},null,8,["api","method","ajax-params"])]),w(r(rs),{ref_key:"buttonRef",ref:s,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":i,"onUpdate:rest":m},null,8,["extra-config"])])}}});const Vc=R(Sc,[["__scopeId","data-v-7e665031"]]),jc={class:"h-100%"},Uc=I({name:"remote"}),Rc=I({...Uc,setup(t){const o=le().meta.ajaxParams;return(s,n)=>(p(),k("div",jc,[w(r(ue),{file:r(o)},null,8,["file"])]))}}),Mc={};function Lc(t,e){return p(),k("div",null," Html内容文件 ")}const Fc=R(Mc,[["render",Lc]]),qc={class:"h-100%"},Oc=I({name:"remote"}),Hc=I({...Oc,setup(t){const e=Te();return(o,s)=>(p(),k("div",qc,[w(r(ue),{file:r(e),"is-api":!0},null,8,["file"])]))}}),Nc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Vc,htmlIndex:Fc,remoteIndex:Rc,tableIndex:Cc,vueIndex:Hc},Symbol.toStringTag,{value:"Module"})),at={routeView:()=>ve(()=>import("./index.d5cfa43e.js"),["xbase/js/index.d5cfa43e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"]),exceptionView:()=>ve(()=>import("./exception.6d9f75a2.js"),["xbase/js/exception.6d9f75a2.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},zc=t=>{if(!t)return at.blankView;if(t in at)return at[t];const e=Zr(t??"");return Nc[e]},Wc=t=>{for(const e of t){const o=e.remote,s=o.replace("/","_"),n=()=>Qe(ue,{file:o});n.displayName=s;const a={path:e==null?void 0:e.path,name:s,component:n,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};W.addRoute(a)}},Qc=t=>{const e=[];for(const o of t)if(o.path){const s={path:`/${o.path}`,name:o.path.replace("/","_"),component:Xt(zc(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,ajaxParams:o.params},children:[]};(!s.children||s.children.length<1)&&delete s.children,e.push(s)}return e},co=new Map,ro=(t,e,o)=>{var a;const s=[];let n=[];e?n=t.filter(l=>(l==null?void 0:l.pid)===e):n=t.filter(l=>!l.pid);for(const l of n){const c=o?`${o}-${l.id}`:`${l.id}`;let u=`/${l.path}`;if(l!=null&&l.params&&(l!=null&&l.params.includes("group"))){const m=Je(`?${l==null?void 0:l.params}`);u+=`_group=${m==null?void 0:m.group}`}else l!=null&&l.params&&(u+=`_${l==null?void 0:l.params}`);co.set(u,c);const d={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.params,path:l.path,show:(l==null?void 0:l.show)??!0,target:l.target??"_blank",isGroup:!1,children:ro(t,l.id,c)},i=(a=d.children)==null?void 0:a.some(m=>m.show);d.show&&i&&(d.isGroup=!0),s.push(d)}return s},jt=co,Xc=y("OS");matchMedia("(prefers-color-scheme: dark)");function Zc(){return{theme:Xc}}const ne=Nt("user",()=>{const t=Me(),e=y({...Dt}),o=y([]),s=y([]),n=y([]),a=y({...ot}),l=_=>{if(!_){D("令牌数据错误","温馨提示");return}_.includes("Bearer")||(_=`Bearer ${_}`),t.value=_},c=_=>{if(!(_!=null&&_.menus)){D("用户信息缺少Menus字段参数");return}if(_.menus instanceof Array&&_.menus.length>0){o.value=Qc(_.menus),n.value=ro(_.menus);const C=_.menus.map(E=>`/${E.path}`);s.value=C}_!=null&&_.theme&&(a.value={...a.value,..._.theme}),e.value=_};return{layoutInfo:a,userInfo:e,Authorization:t,setToken:l,login:async(_,C=!0,E=!0)=>{var B,T,H,Z,te;const V=(T=(B=K().siteInfo)==null?void 0:B.public_api)==null?void 0:T.login;if(!V){D("请配置登录接口");return}const x=await Ue(V,_);if(!((H=x==null?void 0:x.data)!=null&&H.access_token)){D("登录错误，没有获取到令牌","温馨提示");return}if(l(x.data.access_token),C&&ee((x==null?void 0:x.msg)??"登录成功","温馨提示"),E){const ge=((Z=W.currentRoute.value.query)==null?void 0:Z.redirect)??x.data.url;W.push(ge)}return(te=x==null?void 0:x.data)==null?void 0:te.access_token},loginOut:()=>{be("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",c({...Dt}),W.push(me)})},getUserInfo:async()=>{var j;const C=(j=K().siteInfo.public_api)==null?void 0:j.user;if(!C){D("请配置用户信息接口");return}const{data:E}=await xe(C);E&&c(E)},permissions:s,routeList:o,menuList:n,setTheme:_=>{a.value.theme=_,Zc().theme.value=_},setLayout:_=>{a.value.layout=_},setLayoutMenu:_=>{a.value.layoutMenu=_},hanldCollapse:_=>{let C=0;_?C=ot.sideWidth:C=a.value.sideMenuWidth,a.value.sideMenuCollapse=_,a.value.sideWidth=C},setLayoutMenuCollapse:()=>{let _=0,C=!1;a.value.sideMenuCollapse?(_=ot.sideWidth,C=!1):(_=a.value.sideMenuWidth,C=!0),a.value.sideMenuCollapse=C,a.value.sideWidth=_}}}),Gc={class:"xhadmin-menus-pro"},Jc=["onClick"],Yc={class:"text"},Kc={key:0,class:"mask"},er=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;ke(f=>({"0e8c3132":r(a),"3c472ee6":r(l)}));const o=ye(ne()).layoutInfo,s=$(()=>{var f;return((f=o.value)==null?void 0:f.layoutMenu)||"group"}),n=$(()=>{var f;return((f=o.value)==null?void 0:f.layoutTabsTheme)||"radius"}),a=$(()=>`${e.sideWidth}px`),l=$(()=>`${e.sideMenuWidth}px`),c=y(""),u=y(""),d=f=>{c.value=f;const g=c.value.split("-");u.value=g[0]},i=f=>{var v;const g=f[0],h=(v=g==null?void 0:g.children)==null?void 0:v.find(_=>_.show===!0);return g!=null&&g.children&&h?i((g==null?void 0:g.children)??[]):g},m=f=>{var j;const g=(j=f==null?void 0:f.children)==null?void 0:j.find(V=>V.show===!0);let h=f;f!=null&&f.children&&g&&(h=i((f==null?void 0:f.children)??[]));const v=h.path,_=y({});h.ajaxParams&&(_.value=Je(h.ajaxParams));const C=h.activeId;d(C);const E={..._.value};fe(`/${v}`,E)};return re(()=>{d(e.active)}),(f,g)=>{const h=X,v=S("el-menu");return p(),k("div",Gc,[(p(!0),k(O,null,Q(f.menus,_=>(p(),k("div",{key:_.id,class:"item"},[_.show?(p(),k("div",{key:0,class:_e({"item-triangle":r(n)==="triangle","item-radius":r(n)==="radius",active:r(u)===_.activeId}),onClick:C=>m(_)},[w(h,{icon:_.icon,size:"22",type:(_==null?void 0:_.iconType)||""},null,8,["icon","type"]),b("div",Yc,M(_.title),1),r(n)==="triangle"?(p(),k("div",Kc)):U("",!0)],10,Jc)):U("",!0),b("div",{class:_e(["item-children",{active:r(u)===_.activeId}])},[w(v,{"default-active":f.active,"unique-opened":r(s)==="level"},{default:A(()=>[(p(!0),k(O,null,Q(_.children,C=>(p(),k(O,{key:C.activeId},[r(s)==="level"?(p(),P(Aa,{key:0,"menu-data":C},null,8,["menu-data"])):(p(),P(ht,{key:1,"menu-data":C},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const tr=R(er,[["__scopeId","data-v-99a75008"]]),Ut="data:image/png;base64,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",or=["src"],ar=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;ke(n=>({60906162:r(s)}));const o=$(()=>e.logoSrc?e.logoSrc:Ut),s=$(()=>`${e.logoHeight}px`);return(n,a)=>{const l=S("el-image");return p(),P(l,{src:r(o),class:"logo"},{error:A(()=>[b("img",{src:r(Ut),class:"logo"},null,8,or)]),_:1},8,["src"])}}});const nr=R(ar,[["__scopeId","data-v-f27819c1"]]),sr=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,o)=>(p(),k("span",null,M(e.sideName),1))}}),lr={class:"xhadmin-logo-pro"},cr={class:"logo-image"},rr={class:"logo-text"},ir=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;ke(c=>({"158bbf71":r(n),"4b9b774c":r(l),"6cf9f1f0":r(a)}));const o=ne(),{layoutInfo:s}=ye(o),n=$(()=>`${e.sideWidth}px`),a=$(()=>`${e.sideMenuWidth}px`),l=$(()=>`${e.headerHeight}px`);return(c,u)=>(p(),k("div",lr,[b("div",cr,[w(nr,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),Ve(b("div",rr,[w(sr,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[Gt,!r(s).sideMenuCollapse]])]))}});const ur=R(ir,[["__scopeId","data-v-6f19ca7d"]]),dr=I({__name:"index",setup(t){const e=le(),o=()=>`${new Date().getTime()}${Math.random()}`,s=y("");return Yt(()=>e.fullPath,()=>{s.value=o()}),(n,a)=>{const l=S("router-view");return p(),P(l,{key:r(s)})}}}),Rt="2kxPLLhPzHvGV679nhjvx+7/Q6ejL3e/AUj0GGpKBzYMdXt7w3JImKWHUvOxWRwpxFrLh3DdPakGMtK5kIH+/G8LI/FGqrN3Ki2UpfG4d4dcs8WaQcZFAzQO9pYogwPcVaQDdXPcVbujAoEL7NAXDw4HgorRNyA3p+0+zVy/s/lADXLyXHNfsen/btV61qzfvD3EetLa/9wJHUvnL4+UHU6j/sZU7PxkxkVmbJxFcMBmZvJ0Ye7+ruLcfQPV7f8fbm7W/cMQGEFVxRsi73EyRrMT6zU9NnnuVW7MhC09yAZxFqLvsHCqu+qbh+V2y4X7zEdbUw2iDEfc+z/bSAPtsg==EmuytNQXOysbgaAl6gv2eTR/RPp3d3s+9M8/P6Up6GiCoNHNoYhhokC1L8m38Dp/tqElx+t1zbjQ05edoeC2FuYtR670VhtJ43+d6IW31l0VJiUlspqOxDNYEM6Svp9QR/68LOywfXSSrnO107+VifdaDA2pnc6+XLkIczMCAA5+ZPzGc8asiGUAPHXjGpOId7AE/x1owdIvWKKwcNitnAMbrw/Z8WHaL8VIxQo1Yd+AMqyH28iffk51OzwCO0X7WU1u6BWRcvshdOCVlT15J8//cqCskRcVxXZ70x7lj14biLzkrCpILzV7dcMzOYzT+/XtTIegCc9hCIPWoHuGxQ==kGlzZmVLYqKBkDfhdOclX966XBaO2tuC/1eFi7AsXwyb9x5qQYfF3WUR8h3tBcK3XcFtTu667R+vMD+N2CUye0hm0ZdxZmWC82qiieyVQfpqKyyTWfXjL0u1bBz0I10iKkmBfz2N4UP+oEzXA8PFldRrpJXWHayhbYpCN7xl30tNLdT19xqClThF5qHl1gOdMR/pZby5ZFYav+lDfzNO2RT2xVG5Xv06ScgsxLy4chNPJNL9FzlA4Pww+HvpdAm6FLFx2JqRUkonVGrrSn96ZHQdRqMQNUAi8M2JZC/0HWpnZXFPX6CY6y+9q+e3BuWjDMN+Mkf/RrYo2mlqWZHP3g==",Mt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDugQywjOCeu+GQ
b3/KAFUSrU7YXw23WBNo9c6aNsIu2JkEGWiXSWMlJ+QYVlGU+zTeiJbb3EK6r8/W
COarDDC92Qfbr3vztUG4vPbBYPewxaMrjCfbJ/9iut+Xjzd5Cci+FiD+Hcjne7wt
pYUmiOV2e0JpWX9OyI3QY+MkhddLaWHvzoJfxBf1vwDbBZbDME/byk4Zm5h7davE
rgFngEC1BoOqUn9T25thaYIa+oLq5jenkKVx0ztVe4sf/XxG18L7ZFuzYRR5kJ4o
VJfSwj3pwOWkvdLSyj72MtrR+9kvRfXpgB5Zcrp4UN7Gw4aU+cLcSwm6ZpsU4+8c
2oVCBpe9AgMBAAECggEAcueti2lz1kXCOGnfcRyT3/mrIMc6vngqccjrDpUPHK6x
ma38G9b5cy8yzx7XEyWrpQK9W5NUesi1IvMK3qFy4iQriwWSfCl5Tl2LrELhUkMF
h7dwhD9S5OgPTN9s5F14X0wd/Q+weQW99WfnLFeL5Xcg2cyKbxRkbl+RUUlCHkvr
ET0jBt6VhxvbDIncPWCmSqiZGLPw3ER6Ibl/HugIFh/bhC0dg4CIbL0tuZ4L8xXW
rbPBgOQuz5kNOkxvZrIbYfQxvAJ4TMKOV5ZW94AF4JJk+uAGOQJHvgyxLc/X/hY2
Yv7p+MTL0g0INvgdD3i2Ya9QKPL9bQ2RY3jVerK3qQKBgQD3TpDZlRcxqb+PhHlp
HA+wp1tDrs4qH0oD/y8/Mq700LUF0sLB8wViW6SMiCvCtDeLkns4FnxCU/qSQhzR
bA+2yOSeojPSWA8Ro1hY3j9HG6e7U3Pm42bijxEvUrApXquE+ozKjCoa4e8s64mv
iEStcT+qa1edUsCZkvhMLOUt/wKBgQD240UubTn5d23OguP/SBhe5fU6ofXghKJu
8wxuCuwwxxThKftNWqAxKerzBWg0hVjkYzl3HQ6er2uPfCnaIYThgBhp3J6Wq6Rj
TCz0M4S4bxp/psEl5gLi+cjMBa881CL9vgRD3UAGMdHwWjGNsUBtiC/Tq/t/KSIZ
IESUrHByQwKBgDYDuOts/tXgB3DnNEVa1ap1wx8zTOAyWU4qLD2XalMaSo9tCxCl
baWf8n6nNzedeQxJABSuBJHQGchcHEM5YO1BT32+W6cziIcHsEIouJVlWus1PPlO
7afKK6y0WLmQbdHrj1il6IRamIytHTNzhdyEAa3NKCO6cUqZqRWqMJwtAoGBALr1
vmT7CAUXYMsbKcce9H2gzMUa8xSTvGIiog4PLW9+wxwD669XaqnwYWCpfpEPThKd
5V2DXpfipaRh1Vu/OF5/330DOgFFd9ZOUFiZTu9QC5QRVoD5nsP9fgaqY1rAFsNq
itZNjPdj8OR/mLkBOpX3pKg5u9k+7/hxDB4+O2T7AoGAQCR0OOo7nGPTkqaId6xr
BpV/E09Z0jTrHd5j+su+nr6FM6aI2M83cxAehIJPlse3/Hua7TsQF91aXj7ZQaSq
cQGxYwuMp2MqT9v0s+YNQXBf3jUN6ThNpLTD5bKRTkYEaWcDVz/3zeM06I6OEdGj
MVh0HnBnhXGwbxu2+RDp83c=
-----END PRIVATE KEY-----`,Lt=window.location.hostname,nt=(t,e)=>{const o=new Ko;o.setPrivateKey(e);const s=t.match(/.{1,344}/g);if(!s)throw new Error("令牌表单解密失败");let n="";if(s==null||s.forEach(a=>{const l=o.decrypt(a);l&&(n+=l)}),!n)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(n),a=>a.charCodeAt(0))))},pr=()=>{const e=K().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const o=nt(e.empower_token,e.empower_private_key);return console.log("当前域名",Lt),o.systemUrl.includes(Lt)||o!=null&&o.isChannels?(console.log("使用自定义版权"),console.log("版权数据",o),o):(console.log("使用原生版权"),nt(Rt,Mt))}catch(o){console.error("服务端授权失败",o)}try{return nt(Rt,Mt)}catch(o){console.error("系统授权错误",o)}},io=()=>{const e=K().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},mr={class:"copyright-set"},_r={key:0},fr=["href"],hr=["href"],gr=I({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:o,systemName:s,systemUrl:n}=pr(),{version_name:a}=io(),l=window.location.protocol;return(c,u)=>(p(),k("div",mr,[F(" copyright © 2023 "),r(o)==="#"?(p(),k("span",_r,M(r(e)),1)):(p(),k("a",{key:1,href:`${r(l)}//${r(o)}`,target:"_blank",class:"pl-10px"},M(r(e)),9,fr)),F(" All Rights Reserved "),b("a",{href:`${r(l)}//${r(n)}`,target:"_blank",class:"pl-10px"},M(r(s))+" "+M(r(a)),9,hr)]))}});const vr=R(gr,[["__scopeId","data-v-33559064"]]),yr={class:"flex items-center"},xr={class:"xhadmin-header-breadcrumb"},kr=I({__name:"side",setup(t){K();const e=ne(),{layoutInfo:o}=ye(e);return(s,n)=>{const a=X;return p(),k("div",yr,[b("div",xr,[b("div",{class:"side-action",onClick:n[0]||(n[0]=l=>r(e).setLayoutMenuCollapse())},[w(a,{icon:r(o).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])])])}}});const wr=R(kr,[["__scopeId","data-v-81a0eeaf"]]),Ar={class:"xh-dropdown-link"},br={class:"text"},Cr=I({__name:"index",setup(t){const e=K(),o=ne(),{userInfo:s}=ye(o),n=()=>{var c,u;if(!((c=e.siteInfo.public_api)!=null&&c.user_edit_path)){be("当前系统未开启个人资料修改功能","温馨提示");return}fe((u=e.siteInfo.public_api)==null?void 0:u.user_edit_path)},a=()=>{o.loginOut()},l=c=>{switch(c){case"hanldProfile":n();break;case"loginout":a();break}};return(c,u)=>{const d=X,i=S("el-dropdown-item"),m=S("el-dropdown-menu"),f=S("el-dropdown");return p(),P(f,{class:"xh-dropdown",onCommand:l},{dropdown:A(()=>[w(m,null,{default:A(()=>[w(i,{command:"hanldProfile"},{default:A(()=>[F(" 个人中心 ")]),_:1}),w(i,{command:"loginout"},{default:A(()=>[F(" 退出登录 ")]),_:1})]),_:1})]),default:A(()=>{var g;return[b("div",Ar,[b("span",br,M((g=r(s))==null?void 0:g.nickname),1),w(d,{icon:"ArrowUp",size:14})])]}),_:1})}}});const Pr=R(Cr,[["__scopeId","data-v-1914cb64"]]),Ir={class:"flex-1 flex items-center justify-end"},Br=I({__name:"tools",setup(t){var s;const o=((s=K().siteInfo.public_api)==null?void 0:s.header_file)??"";return(n,a)=>(p(),k("div",Ir,[r(o)?(p(),P(r(ue),{key:0,file:r(o)},null,8,["file"])):U("",!0),w(Pr)]))}}),$r={class:"flex justify-between"},Dr=I({__name:"index",setup(t){return(e,o)=>(p(),k("div",$r,[w(wr),w(Br)]))}});const Er={class:"xhadmin-mix-layout"},Tr={class:"xhadmin-header-pro"},Sr={class:"xhadmin-main-pro"},Vr={class:"xhadmin-side-pro"},jr={class:"xhadmin-content-pro"},Ur={class:"xhadmin-content pt-4 pl-4 pr-4"},Rr={class:"xhadmin-copyright-pro"},Mr=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;ke(n=>({e2247afa:r(o),e11fcc30:r(s)}));const o=$(()=>`${e.headerHeight}px`),s=$(()=>e.sideWidth);return(n,a)=>(p(),k("div",Er,[b("div",Tr,[w(ur,{"header-height":n.headerHeight,"side-width":n.sideWidth,"logo-src":n.sideLogo,"side-name":n.sideName,"logo-height":n.logoHeight,"side-menu-width":n.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),w(Dr,{class:"xhadmin-toolbar"})]),b("div",Sr,[b("div",Vr,[w(tr,{"side-width":n.sideWidth,"side-menu-width":n.sideMenuWidth,active:n.active,menus:n.menus},null,8,["side-width","side-menu-width","active","menus"])]),b("div",jr,[b("div",Ur,[w(dr)]),b("div",Rr,[w(vr)])])])]))}});const Lr=R(Mr,[["__scopeId","data-v-6d21c9b9"]]);const Fr=()=>{const t=le(),e=rt({active:""}),o=s=>{let n=jt.get(s);n||(n=jt.get(to)),e.active=n??""};return Yt(()=>t.fullPath,()=>{var n,a,l,c;let s="";(n=t==null?void 0:t.query)!=null&&n.group&&((a=t==null?void 0:t.meta)!=null&&a.ajaxParams.includes("group"))?s=`${t.path}_group=${(l=t.query)==null?void 0:l.group}`:(c=t==null?void 0:t.meta)!=null&&c.ajaxParams&&!s?s=`${t.path}_${t.meta.ajaxParams}`:s=(t==null?void 0:t.path)??"",o(s)}),{...So(e),updateActive:o}},[qr,Or]=Xo(Fr),Hr=()=>Or()??{active:y(""),updateActive:()=>{}},Nr=I({__name:"index",setup(t){const e=K(),o=ne(),{active:s}=Hr(),{layoutInfo:n}=ye(o),a=e.siteInfo,l=o.menuList;return(c,u)=>{var d,i;return r(n).layout==="mix"?(p(),P(r(Lr),{key:0,"header-height":r(n).headerHeight,"side-width":r(n).sideWidth,"side-menu-width":r(n).sideMenuWidth,"side-logo":(d=r(a))==null?void 0:d.web_logo,"side-name":(i=r(a))==null?void 0:i.web_name,"logo-height":r(n).logoHeight,active:r(s),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):U("",!0)}}}),zr={path:"/",name:"default-router",component:Nr,redirect:to,children:[]},Wr=[{path:"/workspace/exception",name:"workspaceException",component:()=>ve(()=>import("./index.059ee92e.js"),["xbase/js/index.059ee92e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"]),meta:{title:"出现错误啦~"}}],Qr=[{...zr,children:[...Wr]},{path:"/login",name:"Login",component:()=>ve(()=>import("./index.3a62f6aa.js"),["xbase/js/index.3a62f6aa.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css","xbase/css/index.4adb1822.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>ve(()=>import("./index.30528e3e.js"),["xbase/js/index.30528e3e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>ve(()=>import("./index.059ee92e.js"),["xbase/js/index.059ee92e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},{path:"/:pathMatch(.*)",component:()=>ve(()=>import("./index.059ee92e.js"),["xbase/js/index.059ee92e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])}],Xr=Uo({routes:[...Qr],history:Ro("/")}),W=Xr,Fe=()=>location.pathname.replace(/^\/+|\/+$/g,""),Te=(t="",e=!1)=>{const o=W.currentRoute.value,s=Fe(),n=y(o.path);if(e){const a=n.value.indexOf("/",1);n.value=n.value.substring(0,a),n.value=`${n.value}/`}return`${s}${n.value}${t}`},bt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},fe=(t,e)=>{bt(t)?location.href=t:W.push({path:t,query:e})};function st(t=6){let e="";for(let o=0;o<t;o++)e+=Math.floor(Math.random()*10);return e}const pt=(t,e)=>{for(const o in e)if(e[o]===t)return!0;return!1},We=()=>{var e;(e=W.currentRoute.value.query)!=null&&e.isBack||D("返回上次页面错误"),W.back()},Zr=t=>t.replace(/\/(\w)/g,(e,o)=>o.toUpperCase()),Gr=(t,e="Enter")=>{const o=s=>{s.key===e&&(t(),s.preventDefault())};Vo(()=>document.addEventListener("keydown",o)),Zt(()=>document.removeEventListener("keydown",o))},Je=t=>{let e;const o={},s=t.slice(t.indexOf("?")+1).split("&");for(let n=0;n<s.length;n++)e=s[n].split("="),o[e[0]]=e[1];return o},Jr=t=>{const e=new URLSearchParams;for(const[s,n]of Object.entries(t))e.append(s,n);return e.toString()},Yr=()=>window.location.origin,K=Nt("app",()=>{const t=Fe(),o=`${t?`/${t}`:""}/Index/site`,s=y({...ya}),n=y(),a=u=>{s.value=u};return{siteInfo:s,getSite:async()=>{const{data:u}=await xe(o);return a(u),u},setSiteInfo:a,setLoginLink:u=>{n.value=u}}}),Kr=async t=>{var s;const e=K().siteInfo,o=((s=e==null?void 0:e.uploadify_api)==null?void 0:s.index)||"";return await xe(o,t).then(n=>n==null?void 0:n.data)},ei=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.edit;if(!o)return D("请先配置附件修改接口"),!1;const s=y();return await Ae(va,{modelValue:t,"onUpdate:init":a=>{s.value=a}},{title:"修改附件",customStyle:{width:"450px",height:"500px"},beforeClose:(a,l,c)=>{var u;a==="confirm"?(u=s.value)!=null&&u.getFormData()&&c():c()}}).then(()=>{var l;const a=(l=s.value)==null?void 0:l.getFormData();if(a)return Ue(`${o}?id=${t==null?void 0:t.id}`,a).then(c=>{ee((c==null?void 0:c.msg)||"修改成功")})})},ti=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.del;if(!o)return D("请先配置文件删除接口"),Promise.reject(new Error("请先配置文件删除接口"));if(t.length<=0)return D("请选择需要删除的文件"),Promise.reject(new Error("请选择需要删除的文件"));const s={ids:t.map(a=>a.id)};return await be("是否确认删除选中的文件？","温馨提示","error").then(()=>ut(o,s).then(a=>{ee((a==null?void 0:a.msg)||"删除成功")}))},oi={class:"uploadify-modal"},ai={class:"category-container"},ni={class:"category-title"},si={class:"title"},li=b("span",null,"文件类型",-1),ci={class:"category-content"},ri=["onClick"],ii={class:"title"},ui={class:"content-container"},di={class:"action-box"},pi={class:"action"},mi={class:"upload"},_i={key:0,class:"content-box"},fi=["onClick"],hi={key:1,class:"preview"},gi={key:2,class:"preview"},vi={key:3,class:"preview"},yi={class:"mask"},xi={key:1,class:"empty-box"},ki={key:2,class:"paginate-box"},uo=I({__name:"modal",props:{type:{},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:init","update:type"],setup(t,{expose:e,emit:o}){var Ct;const s=t,n=Ie(),a=K().siteInfo,l=Me(),c=y(),u=y({background:!0,layout:"prev, pager, next, jumper",total:0}),d=y({page:1,limit:20}),i=y(s.type),m=y(Ne(i.value)),f=y(Ne(i.value,".")),g=y([]),h=y(!1),v=y([]),_=y([]),C=(Ct=a.uploadify_api)==null?void 0:Ct.upload,E=y({[gt]:l.value||"",ACCEPT:"application/json"}),j=y({action:`${vt}${C}`,data:{suffix:m.value},accept:f.value,headers:E.value,multiple:!0,withCredentials:!0,showFileList:!1}),V=async()=>{const N={page:d.value.page,limit:d.value.limit,suffix:m.value};return await Kr(N).then(oe=>{_.value=(oe==null?void 0:oe.data)||[],u.value.total=(oe==null?void 0:oe.total)||0})},x=()=>{d.value.page=1,d.value.limit=20,_.value=[],g.value=[],v.value=[]},B=()=>{h.value=!1,v.value=[]},T=()=>{v.value.length===_.value.length?v.value=[]:v.value=[..._.value]},H=N=>{x(),i.value=N,m.value=Ne(N),f.value=Ne(N,"."),j.value.data.suffix=m.value,j.value.accept=f.value,V()},Z=()=>g.value,te=N=>{h.value?v.value.includes(N)?v.value.splice(v.value.indexOf(N),1):v.value.push(N):s.selectLimit===1?g.value[0]=N:g.value.includes(N)?g.value.splice(g.value.indexOf(N),1):(s.selectLimit===0||g.value.length<s.selectLimit)&&g.value.push(N)},de=N=>{ei(N).then(()=>{V()})},ge=N=>{let oe=v.value;N&&(oe=[N]),ti(oe).then(pe=>{x(),V(),v.value=[],h.value=!1})},qe=N=>{d.value.page=N,V()},Oe=()=>{c.value=Ee("上传中...")},Ye=async N=>{x(),d.value.page=1,c.value&&c.value.close(),V(),ee((N==null?void 0:N.msg)||"上传成功")},po=()=>{ta("暂未开放")},mo=()=>{x(),d.value.page=1,c.value&&c.value.close(),V(),D("上传失败")};return e({getSelected:Z}),re(async()=>{await V(),o("update:init",n.exposed)}),(N,oe)=>{const pe=X,Ce=S("el-button"),_o=S("el-upload"),fo=S("el-image"),ho=S("el-text"),go=S("el-empty"),vo=S("el-pagination");return p(),k("div",oi,[b("div",ai,[b("div",ni,[b("div",si,[w(pe,{icon:"Folder",size:18}),li])]),b("div",ci,[(p(!0),k(O,null,Q(r(ft),(J,Ke)=>(p(),k("div",{key:Ke,class:_e(["item",{active:J.type===r(i)}]),onClick:et=>H(J.type)},[b("div",ii,[w(pe,{icon:"Folder",size:17}),b("span",null,M(J.title),1)])],10,ri))),128))])]),b("div",ui,[b("div",di,[b("div",pi,[r(h)?U("",!0):(p(),P(Ce,{key:0,type:"primary",onClick:oe[0]||(oe[0]=J=>h.value=!0)},{default:A(()=>[F(" 管理 ")]),_:1})),r(h)?(p(),P(Ce,{key:1,type:"primary",onClick:B},{default:A(()=>[F(" 退出 ")]),_:1})):U("",!0),r(h)?(p(),P(Ce,{key:2,type:"info",onClick:T},{default:A(()=>[F(" 全选 ")]),_:1})):U("",!0),r(h)?(p(),P(Ce,{key:3,type:"danger",onClick:oe[1]||(oe[1]=J=>ge())},{default:A(()=>[F(" 删除 ")]),_:1})):U("",!0)]),b("div",mi,[w(Ce,{type:"primary",class:"special",onClick:po},{default:A(()=>[F(" 大文件上传 ")]),_:1}),w(_o,L({class:"ordinary"},r(j),{"before-upload":Oe,"on-success":Ye,"on-error":mo}),{default:A(()=>[w(Ce,{type:"success"},{default:A(()=>[F(" 普通上传 ")]),_:1})]),_:1},16)])]),r(_).length?(p(),k("div",_i,[(p(!0),k(O,null,Q(r(_),(J,Ke)=>(p(),k("div",{key:Ke,class:_e(["item",{active:!r(h)&&r(g).includes(J),"active-warning":r(h)&&r(v).includes(J)}]),onClick:et=>te(J)},[r(Se)("image",J.format)?(p(),P(fo,{key:0,src:J.url,fit:"cover",class:"image"},null,8,["src"])):r(Se)("video",J.format)?(p(),k("div",hi,[w(pe,{icon:"Document",size:42})])):r(Se)("doc",J.format)?(p(),k("div",gi,[w(pe,{icon:"Document",size:42})])):r(Se)("zip",J.format)?(p(),k("div",vi,[w(pe,{icon:"Document",size:42})])):U("",!0),b("div",yi,[w(pe,{icon:"EditFilled",title:"编辑附件",size:16,onClick:et=>de(J)},null,8,["onClick"]),w(pe,{icon:"DeleteFilled",title:"删除附件",size:16,onClick:et=>ge(J)},null,8,["onClick"])]),w(ho,{class:"title",truncated:""},{default:A(()=>[F(M(J.title),1)]),_:2},1024)],10,fi))),128))])):(p(),k("div",xi,[w(go,{description:"当前没有更多附件"})])),r(_)?(p(),k("div",ki,[w(vo,L(r(u),{"default-page-size":r(d).limit,onCurrentChange:qe}),null,16,["default-page-size"])])):U("",!0)])])}}});class wi{constructor(){He(this,"title","");He(this,"iconSvg","");He(this,"tag","");this.title="选择附件",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(e){return""}isActive(e){return!1}isDisabled(e){return!1}exec(e,o){const s=y();Ae(uo,{type:"image",selectLimit:10,uploadLimit:10,"onUpdate:init":n=>{s.value=n}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(n,a,l)=>{var c;if(n==="confirm"){const u=(c=s.value)==null?void 0:c.getSelected();if(u.length){const d=u.map(m=>m==null?void 0:m.url);let i="";d.forEach(m=>{tt("image",m)?i+=`<img src="${m}" />`:tt("video",m)?i+=`<video src="${m}" controls="controls" />`:tt("audio",m)?i+=`<audio src="${m}" controls="controls" />`:i+=`<a href="${m}">${m}</a>`}),e.dangerouslyInsertHtml(i),l()}else D("请选择文件")}else l()}})}}const Ai=I({__name:"index",setup(t){const e=y("zh-cn"),o=$(()=>e.value==="zh-cn"?Co:Po),s=rt({autoInsertSpace:!1}),n=rt({max:1});return(a,l)=>{const c=S("router-view"),u=S("el-config-provider");return p(),P(u,{button:r(s),message:r(n),locale:r(o)},{default:A(()=>[w(c)]),_:1},8,["button","message","locale"])}}}),bi=I({__name:"App",setup(t){const e={key:"xhUploadify",factory(){return new wi}};return Eo.registerMenu(e),qr(),(o,s)=>(p(),P(Ai))}}),Ci=t=>{let e="",o=0;t=(t||0).toString();for(let s=t.length-1;s>=0;s--)o++,e=t.charAt(s)+e,!(o%3)&&s!==0&&(e=`,${e}`);return e},Ft=(t,e,o,s)=>{let n;const a=o-e;function l(c){n||(n=c);const u=c-n,d=Math.min(u/s,1),i=e+Math.floor(d*a);i>999&&t.dataset.numberScrollThousandsOff===void 0?t.innerHTML=Ci(i):t.innerHTML=i.toString(),u<s&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},Pi={mounted(t,e,o){const{value:s}=e,n=parseFloat(t.dataset.numberScrollValue??"0"),a=s?parseFloat(s.toString()):0,l=parseInt(t.dataset.numberScrollDuration??"1000");Ft(t,n,a,l),t.dataset.numberScrollValue=a.toString()},updated(t,e){if(t.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:o}=e,s=parseFloat(t.dataset.numberScrollValue??"0"),n=o?parseFloat(o.toString()):0,a=parseInt(t.dataset.numberScrollDuration??"1000");n!==s&&(Ft(t,s??0,o,a),e.modifiers.once&&(t.dataset.numberScrollOnceExecuted="true")),t.dataset.numberScrollValue=n.toString()}};function Ii(t){t.directive("number-scroll",Pi)}_t.configure({easing:"ease",speed:500,showSpinner:!0,trickleSpeed:200,minimum:.3});const ze=y([...wa]),qt=y(!1),Ot=y(!1);W.beforeEach(async(t,e,o)=>{_t.start();const s=Me(),n=K(),a=ye(n);if(a.siteInfo.value.web_name||await n.getSite(),a.siteInfo.value.login_link&&n.setLoginLink(a.siteInfo.value.login_link),a.siteInfo.value.remote_url&&!qt.value){const u=a.siteInfo.value.remote_url;Wc(u);const d=u.map(i=>i.path??"");d.length&&(ze.value=[...ze.value,...d]),qt.value=!0,o({...t,replace:!0});return}const l=ne(),c=ye(l);if(!Ot.value&&s.value){await l.getUserInfo();const u=c.routeList.value;u.length===0&&(s.value="",D("您没有任何权限"),o({path:me,replace:!0})),u.forEach(d=>{W.addRoute("default-router",d)}),Ot.value=!0,o({...t,replace:!0});return}if(!s.value&&!ze.value.includes(t.path)){o({path:me,query:{redirect:t.path}});return}if(!s.value&&t.path!==me&&!ze.value.includes(t.path)){o({path:me});return}o()});W.afterEach(t=>{var l,c;const{version_name:e}=io(),s=((l=K().siteInfo)==null?void 0:l.web_name)||"xBase-Admin",n=`${s} ${e}`,a=(c=t.meta)==null?void 0:c.title;a?document.title=`${a} - ${n}`:s&&(document.title=n),_t.done()});const Bi={mounted(t,e){const{value:o}=e,n=ne().permissions;o instanceof Array&&o.length?o.every(l=>n.includes(l))||t.remove():n.includes(o)||t.remove()}},$i={mounted(t,e){t.copyData=e.value,t.addEventListener("click",Di)},updated(t,e){t.copyData=e.value},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}};async function Di(){try{await navigator.clipboard.writeText(this.copyData),zt({type:"success",message:"复制成功"})}catch(t){console.error("复制操作不被支持或失败: ",t)}}const Ei=(t,e,o,s)=>{const n=document.createElement("canvas");e.appendChild(n),n.width=205,n.height=140,n.style.display="none";const a=n.getContext("2d");a.rotate(-20*Math.PI/180),a.font=o||"16px Microsoft JhengHei",a.fillStyle=s||"rgba(180, 180, 180, 0.3)",a.textAlign="left",a.textBaseline="Middle",a.fillText(t,n.width/10,n.height/2),e.style.backgroundImage=`url(${n.toDataURL("image/png")})`},Ti={mounted(t,e){Ei(e.value.text,t,e.value.font,e.value.textColor)}},Si={mounted(t){t.style.cursor="move",t.style.position="absolute",t.onmousedown=function(e){const o=e.pageX-t.offsetLeft,s=e.pageY-t.offsetTop;document.onmousemove=function(n){let a=n.pageX-o,l=n.pageY-s;const c=t.parentNode.offsetWidth-t.offsetWidth,u=t.parentNode.offsetHeight-t.offsetHeight;a<0?a=0:a>c&&(a=c),l<0?l=0:l>u&&(l=u),t.style.left=`${a}px`,t.style.top=`${l}px`},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},Vi={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;t.__handleClick__=function(){o&&clearInterval(o),o=setTimeout(()=>{e.value()},500)},t.addEventListener("click",t.__handleClick__)},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}},ji={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;t.__handleClick__=function(){o&&clearTimeout(o),t.disabled||(t.disabled=!0,e.value(),o=setTimeout(()=>{t.disabled=!1},1e3))},t.addEventListener("click",t.__handleClick__)},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}},Ui={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;const s=l=>{l.button&&l.type==="click"&&l.button!==0||o===null&&(o=setTimeout(()=>{a(l)},1e3))},n=()=>{o!==null&&(clearTimeout(o),o=null)},a=l=>{e.value(l)};t.addEventListener("mousedown",s),t.addEventListener("touchstart",s),t.addEventListener("click",n),t.addEventListener("mouseout",n),t.addEventListener("touchend",n),t.addEventListener("touchcancel",n)}},Ht={auth:Bi,copy:$i,waterMarker:Ti,draggable:Si,debounce:Vi,throttle:ji,longpress:Ui},Ri={install(t){Object.keys(Ht).forEach(e=>{t.directive(e,Ht[e])})}},Mi=t=>{t.use(Pe),t.config.globalProperties.$XModal=Pe.modal,t.config.globalProperties.$XPrint=Pe.print,t.config.globalProperties.$XSaveFile=Pe.saveFile,t.config.globalProperties.$XReadFile=Pe.readFile},Li=ko(),he=jo(bi);Mi(he);he.use(Li);he.use(W);he.use(Io);he.use(Ri);he.use(Ii);he.mount("#app");so.vue=he;export{R as _,K as a,Gr as b,vr as c,X as d,ue as e,Me as f,wt as g,dr as h,me as l,fe as o,ne as u};
