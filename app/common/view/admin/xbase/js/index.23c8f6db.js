var yo=Object.defineProperty;var xo=(t,e,o)=>e in t?yo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var qe=(t,e,o)=>(xo(t,typeof e!="symbol"?e+"":e,o),o);import"./vue.0ccd830b.js";import{d as Nt,s as ye,c as ko}from"./pinia.b8763cbb.js";import{E as wo,a as Ao,b as ne,c as bo,d as Wt,z as Co,e as Po,i as Io}from"./element-plus.e83340c7.js";import{V as Bo,a as Pe}from"./vxe-table.081b4fc5.js";import{T as $o,E as Do,Z as Eo}from"./@wangeditor.4349ada4.js";import{N as lt}from"./@vicons.ae06c95f.js";import{Q as ct}from"./@element-plus.7ed7787a.js";import{e as I,d as $,h as S,o as p,$ as C,a0 as A,a1 as zt,H as r,g as Ie,j as y,x as re,c as x,a as b,f as w,aD as Be,aE as $e,a4 as M,F as O,af as Q,a2 as T,a3 as F,C as Vo,J as oe,Y as _e,p as We,q as L,Z as Qt,aF as ke,B as Zt,a7 as Xt,a9 as mt,X as ce,k as ze,a5 as Gt,ah as Qe,A as Jt,aj as q,aq as W,w as Yt,r as rt,v as So,W as To,l as jo}from"./@vue.eb378115.js";import{u as se,a as Kt,c as Uo,b as Ro}from"./vue-router.f33345e1.js";import{F as Pt}from"./@form-create.27caaeab.js";import{H as It,j as Mo,p as Lo,a as Fo,b as qo,c as Oo,x as Ho}from"./highlight.js.c00af322.js";import{a as No}from"./axios.4a70c6fc.js";import{n as Wo,p as zo,q as Qo,s as Zo}from"./@vueuse.af8a6820.js";import{D as eo}from"./dplayer.255caa4f.js";import{X as Bt}from"./xe-utils.023f6b2e.js";import{e as Xo}from"./echarts.4475d7d7.js";import{l as Go}from"./less.f5bc21e0.js";import{r as Jo,u as Yo}from"./xlsx.04f2268f.js";import{J as Ko}from"./jsencrypt.a25df808.js";import{N as _t}from"./nprogress.680a5b68.js";import"./vue-demi.0e50ee38.js";import"./lodash-es.36eb724a.js";import"./@sxzz.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.57387eb1.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./escape-html.73d2b788.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.d10d3e5d.js";import"./tslib.54e39b60.js";import"./zrender.122a678c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();const ft=[{title:"图片类型",type:"image",format:"jpg,jpeg,png,gif"},{title:"视频类型",type:"video",format:"mp4,avi,rmvb,mkv,flv"},{title:"文档类型",type:"doc",format:"doc,docx,xls,xlsx,ppt,pptx,pdf,txt"},{title:"音频类型",type:"audio",format:"mp3,wav,flac,ape,alac"},{title:"压缩包类",type:"zip",format:"zip,rar,7z,tar,gz,bz2"}],Oe=(t,e="")=>{var s;const o=(s=ft.find(n=>n.type===t))==null?void 0:s.format;if(!o)return"";if(e){const n=o.split(",");return n.forEach((a,l)=>{n[l]=`${e}${a}`}),n.join(",")}return o},ea=t=>{var o;const e=(o=ft.find(s=>s.type===t))==null?void 0:o.format;return e?e.split(","):null},Ve=(t,e)=>{const o=ea(t);return o?o.includes(e):!1},tt=(t,e)=>{const o=new URL(e);if(!o||!o.pathname)return!1;const s=o.pathname.split(".")[1]??"";return s?Ve(t,s):!1},Z=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,o=$(()=>{if(ct[e.icon])return ct[e.icon];if(lt[e.icon])return lt[e.icon]});return(s,n)=>{const a=S("el-icon");return p(),C(a,{size:s.size,color:s.color},{default:A(()=>[(p(),C(zt(r(o))))]),_:1},8,["size","color"])}}});const Ze=(t,e,o="",s)=>{wo({message:t,title:o,duration:2e3,type:e,...s})},ae=(t,e="温馨提示",o)=>{Ze(t,"success",e,o)},D=(t,e="温馨提示",o)=>{Ze(t,"error",e,o)},ta=(t,e="温馨提示",o)=>{Ze(t,"info",e,o)},we=t=>(Be("data-v-75672c9f"),t=t(),$e(),t),oa={class:"category-container"},aa={class:"item"},na=we(()=>b("div",{class:"title"}," 附件名称 ",-1)),sa={class:"item"},la=we(()=>b("div",{class:"title"}," 文件名称 ",-1)),ca={class:"item"},ra=we(()=>b("div",{class:"title"}," 文件路径 ",-1)),ia={class:"item"},ua=we(()=>b("div",{class:"title"}," 文件链接 ",-1)),da={class:"item"},pa=we(()=>b("div",{class:"title"}," 文件格式 ",-1)),ma={class:"item"},_a=we(()=>b("div",{class:"title"}," 文件大小（字节） ",-1)),fa={class:"item"},ha=we(()=>b("div",{class:"title"}," 附件选定器 ",-1)),ga=I({__name:"form",props:{modelValue:{}},emits:["update:init"],setup(t,{expose:e,emit:o}){const s=t,n=Ie(),a=y({...s.modelValue}),l=()=>a.value.title?a.value:(D("请输入附件名称"),!1);return re(()=>{o("update:init",n.exposed)}),e({getFormData:l}),(c,u)=>{const i=S("el-input");return p(),x("div",oa,[b("div",aa,[na,w(i,{modelValue:r(a).title,"onUpdate:modelValue":u[0]||(u[0]=d=>r(a).title=d),placeholder:"请输入附件名称"},null,8,["modelValue"])]),b("div",sa,[la,w(i,{modelValue:r(a).filename,"onUpdate:modelValue":u[1]||(u[1]=d=>r(a).filename=d),placeholder:"请输入文件名称",disabled:""},null,8,["modelValue"])]),b("div",ca,[ra,w(i,{modelValue:r(a).path,"onUpdate:modelValue":u[2]||(u[2]=d=>r(a).path=d),placeholder:"请输入文件路径",disabled:""},null,8,["modelValue"])]),b("div",ia,[ua,w(i,{modelValue:r(a).url,"onUpdate:modelValue":u[3]||(u[3]=d=>r(a).url=d),placeholder:"请输入文件链接",disabled:""},null,8,["modelValue"])]),b("div",da,[pa,w(i,{modelValue:r(a).format,"onUpdate:modelValue":u[4]||(u[4]=d=>r(a).format=d),placeholder:"请输入文件格式",disabled:""},null,8,["modelValue"])]),b("div",ma,[_a,w(i,{modelValue:r(a).size,"onUpdate:modelValue":u[5]||(u[5]=d=>r(a).size=d),placeholder:"请输入文件大小",disabled:""},null,8,["modelValue"])]),b("div",fa,[ha,w(i,{modelValue:r(a).adapter,"onUpdate:modelValue":u[6]||(u[6]=d=>r(a).adapter=d),placeholder:"请输入附件选定器",disabled:""},null,8,["modelValue"])])])}}});const R=(t,e)=>{const o=t.__vccOpts||t;for(const[s,n]of e)o[s]=n;return o},va=R(ga,[["__scopeId","data-v-75672c9f"]]),ya={web_name:"",web_title:""},xa="modulepreload",ka=function(t){return"/"+t},$t={},ve=function(e,o,s){if(!o||o.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(o.map(a=>{if(a=ka(a),a in $t)return;$t[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!s)for(let d=n.length-1;d>=0;d--){const m=n[d];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":xa,l||(i.as="script",i.crossOrigin=""),i.href=a,document.head.appendChild(i),l)return new Promise((d,m)=>{i.addEventListener("load",d),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},me="/login",to="/Index/index",wa=[me,"/exception"],ht=I({__name:"menu-item",props:{menuData:{}},setup(t){const e=o=>{const s=o.path,n=y({});o.ajaxParams&&(n.value=Je(o.ajaxParams));const a={...n.value};fe(`/${s}`,a)};return(o,s)=>{const n=S("el-menu-item-group"),a=S("el-menu-item");return p(),x(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),C(n,{key:0},{title:A(()=>[b("span",null,M(o.menuData.title),1)]),default:A(()=>[(p(!0),x(O,null,Q(o.menuData.children,l=>(p(),C(ht,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1})):T("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),C(a,{key:1,index:o.menuData.activeId,onClick:s[0]||(s[0]=l=>e(o.menuData))},{default:A(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):T("",!0)],64)}}}),Aa=I({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=o=>{const s=o.path,n=y({});o.ajaxParams&&(n.value=Je(o.ajaxParams));const a={...n.value};fe(`/${s}`,a)};return(o,s)=>{const n=S("el-sub-menu"),a=S("el-menu-item");return p(),x(O,null,[o.menuData.isGroup&&o.menuData.show?(p(),C(n,{key:0,index:o.menuData.activeId},{title:A(()=>[b("span",null,M(o.menuData.title),1)]),default:A(()=>[(p(!0),x(O,null,Q(o.menuData.children,l=>(p(),C(ht,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1},8,["index"])):T("",!0),!o.menuData.isGroup&&o.menuData.show?(p(),C(a,{key:1,index:o.menuData.activeId,onClick:s[0]||(s[0]=l=>e(o.menuData))},{default:A(()=>[F(M(o.menuData.title),1)]),_:1},8,["index"])):T("",!0)],64)}}}),ot={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Dt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},ba="data:image/png;base64,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",Ca={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{},upload:{props:{modalTitle:"图片预览",httpRequest:async t=>{const e=le().Authorization;return e&&(t.headers={...t.headers,Authorization:e}),await Ao(t)},onSuccess(t,e,o){var n;let s=ba;(t==null?void 0:t.code)===200?s=((n=t==null?void 0:t.data)==null?void 0:n.url)??"":t!=null&&t.msg&&D(t.msg,"温馨提示"),e.url=s},onError(t){console.log("上传失败",t)}}}},submitBtn:!1,resetBtn:!1},Pa=t=>t.map(e=>(e.handle=o=>{if((e==null?void 0:e.where)==="==")return o===e.value;if((e==null?void 0:e.where)==="!=")return o!==e.value;if((e==null?void 0:e.where)==="in"){const s=e.value;return s instanceof Array&&s instanceof Object?pt(o,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Ia=t=>t.map(e=>(e!=null&&e.control&&(e.control=Pa(e.control)),e)),Ba={};function $a(t,e){return p(),x("div",null," 高德地图 ")}const Da=R(Ba,[["render",$a]]),Ea={};function Va(t,e){return p(),x("div",null," 百度地图 ")}const Sa=R(Ea,[["render",Va]]),Ta={};function ja(t,e){return p(),x("div",null," 腾讯地图 ")}const Ua=R(Ta,[["render",ja]]),Ra={javascript:Mo,php:Lo,python:Fo,java:qo,css:Oo,xml:Ho},Ma=t=>(It.registerLanguage(t,Ra[t]),It),La={class:"w-100%"},Fa=["innerHTML"],qa=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=Ma(e.language),s=y("");return Vo(()=>{s.value=o.highlight(e.modelValue,{language:e.language}).value}),(n,a)=>(p(),x("div",La,[b("pre",null,[F("    "),b("code",{class:"hljs",innerHTML:r(s)},null,8,Fa),F(`
    `)])]))}}),oo=t=>(Be("data-v-71347fa8"),t=t(),$e(),t),Oa={class:"xh-icons-modal"},Ha={class:"xh-icons"},Na={class:"search-container"},Wa=oo(()=>b("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),za={class:"icon-list"},Qa={class:"tools"},Za=oo(()=>b("div",{class:"title"}," 所有图标 ",-1)),Xa={class:"options"},Ga={class:"list"},Ja=["onDblclick","onClick"],Ya={class:"icon-title"},Ka=I({__name:"modal",emits:["update:init"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y([{title:"Element-Plus",type:"element",icons:Object.keys(ct)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(lt)}]),a=y(""),l=y("element"),c=y(""),u=y([]),i=_=>{u.value=[];const v=n.value.find(h=>h.type===_);v&&d(v.icons)};function d(_){let v=0;function h(){globalThis.requestIdleCallback(P=>{for(;P.timeRemaining()>0&&v<_.length;)u.value.push(_[v++]);v<_.length&&h()})}h()}const m=_=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(_).then(v=>{});else{const v=document.createElement("input");v.value=_,document.body.appendChild(v),v.select(),document.execCommand("Copy"),v.remove()}ae("复制成功")},f=_=>{c.value=_===c.value?"":_};return e({confirm:()=>c.value}),re(()=>{d(n.value[0].icons),o("update:init",s.exposed)}),(_,v)=>{const h=Z,P=S("el-button"),E=S("el-button-group"),j=S("el-input"),U=S("el-option"),k=S("el-select");return p(),x("div",Oa,[b("div",Ha,[b("div",Na,[w(j,{modelValue:r(a),"onUpdate:modelValue":v[1]||(v[1]=B=>oe(a)?a.value=B:null),placeholder:"图标名称"},{prepend:A(()=>[w(h,{icon:"Search",type:"element"})]),append:A(()=>[w(E,null,{default:A(()=>[w(P,{onClick:v[0]||(v[0]=B=>a.value="")},{default:A(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Wa]),b("div",za,[b("div",Qa,[Za,b("div",Xa,[w(k,{modelValue:r(l),"onUpdate:modelValue":v[2]||(v[2]=B=>oe(l)?l.value=B:null),onChange:i},{default:A(()=>[(p(!0),x(O,null,Q(r(n),(B,V)=>(p(),C(U,{key:V,label:B.title,value:B.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),b("div",Ga,[(p(!0),x(O,null,Q(r(u).filter(B=>B.includes(r(a))),(B,V)=>(p(),x("div",{key:V,class:_e(["item",{active:B===r(c)}]),onDblclick:H=>m(B),onClick:H=>f(B)},[w(h,{icon:B,size:26,type:r(l),color:"#888"},null,8,["icon","type"]),b("div",Ya,M(B),1)],42,Ja))),128))])])])])}}});const en=R(Ka,[["__scopeId","data-v-71347fa8"]]),ie=(t,e,o)=>ne({title:"通用模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,showConfirmButton:!1,...o,customClass:"xh-modal-mask",message:()=>We(t,e)}),Ae=(t,e,o)=>ne({title:"可主动关闭的模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!1,closeOnClickModal:!1,showCancelButton:!0,showConfirmButton:!0,...o,customClass:"xh-modal-close-mask",message:()=>We(t,e)}),Et=()=>{ne.close()},tn={class:"icons-container"},on={key:0,class:"icon"},an={key:1,class:"icon"},nn=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=()=>{const n=y();Ae(en,{"onUpdate:init":a=>{n.value=a}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"60%",height:"85vh"},beforeClose:(a,l,c)=>{var u;if(a==="confirm"){const i=(u=n.value)==null?void 0:u.confirm();if(!i){D("请选择图标");return}e("update:modelValue",i),c()}else c()}})},s=()=>{e("update:modelValue",""),ae("重置成功")};return(n,a)=>{const l=Z,c=S("el-button");return p(),x("div",tn,[n.modelValue?(p(),x("div",on,[w(l,{icon:n.modelValue,size:18},null,8,["icon"])])):(p(),x("div",an)),n.modelValue?(p(),C(c,{key:2,onClick:s},{default:A(()=>[F(" 重置 ")]),_:1})):T("",!0),w(c,{type:"primary",onClick:o},{default:A(()=>[F(" 选择 ")]),_:1})])}}});const sn=R(nn,[["__scopeId","data-v-784ef829"]]),ln=["innerHTML"],cn=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,o)=>(p(),x("div",L(e.style,{innerHTML:e.modelValue}),null,16,ln))}}),rn={};function un(t,e){return p(),x("div",null," 自定义输入框（未实现） ")}const dn=R(rn,[["render",un]]),pn=["innerHTML"],mn=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,o)=>{const s=Z;return p(),x("div",{class:"form-prompt",style:Qt(e.style)},[e.icon?(p(),C(s,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):T("",!0),b("span",{class:"text",innerHTML:e.text},null,8,pn)],4)}}});const _n=R(mn,[["__scopeId","data-v-05bcd7b9"]]),fn=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=a=>{e("update:modelValue",a)},n=y(o.modelValue);return(a,l)=>(p(),C(r(ue),L({modelValue:r(n),"onUpdate:modelValue":l[0]||(l[0]=c=>oe(n)?n.value=c:null),file:a.file},{ajaxParams:a.ajaxParams},{"onUpdate:modelValue":s}),null,16,["modelValue","file"]))}}),hn={};function gn(t,e){return p(),x("div",null," 表格展示器 ")}const vn=R(hn,[["render",gn]]),yn=t=>{const e=t.lastIndexOf("?");return t.substring(0,t.includes("?")?e:t.length)},xn=t=>{const e=/\.(jpg|jpeg|png|gif|bmp|webp)$/,o=yn(t);return e.test(o)},kn={class:"upload-container"},wn=["onClick"],An=I({__name:"index",props:{modelValue:{default:[]},type:{default:"image"},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=()=>{const a=y(),l={uploadLimit:o.uploadLimit,selectLimit:o.selectLimit,type:o.type};Ae(uo,{...l,"onUpdate:init":c=>{a.value=c}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(c,u,i)=>{var d;if(c==="confirm"){const m=(d=a.value)==null?void 0:d.getSelected();if(m.length){const f=m.map(g=>g==null?void 0:g.url);e("update:modelValue",f),i()}else D("请选择文件")}else i()}})},n=a=>{const l=o.modelValue.filter((c,u)=>u!==a);e("update:modelValue",l)};return re(()=>{if(typeof o.modelValue=="string"){const a=o.modelValue===""?"":[o.modelValue];e("update:modelValue",a)}}),(a,l)=>{const c=S("el-image"),u=Z,i=S("el-icon");return p(),x("div",kn,[(p(!0),x(O,null,Q(a.modelValue,(d,m)=>(p(),x("div",{key:m,class:"item"},[r(xn)(d)?(p(),C(c,{key:0,class:"image","preview-src-list":a.modelValue,"z-index":999,src:d,infinite:!1},null,8,["preview-src-list","src"])):(p(),C(i,{key:1,class:"file-thumb"},{default:A(()=>[w(u,{icon:"Document",size:28,type:"element"})]),_:1})),b("div",{class:"del-file",onClick:f=>n(m)},[w(u,{icon:"Delete",size:15,type:"element"})],8,wn)]))),128)),b("div",{class:"item",onClick:s},[w(u,{icon:"PlusOutlined",size:20,color:"#888"})])])}}});const bn=R(An,[["__scopeId","data-v-abb4b44b"]]),Cn={class:"editor-container"},Pn=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t;ke(i=>({"4dbdd5bb":r(u)}));const s=Zt(),n=y(o.modelValue),a=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});Xt(()=>{s.value&&(s.value.destroy(),s.value=null)});const l=i=>{s.value=i},c=i=>{const d=i.getHtml();e("update:modelValue",d)},u=$(()=>`${o.editHeight}px`);return(i,d)=>(p(),x("div",Cn,[w(r($o),L({class:"toolbar",editor:r(s)},r(a)),null,16,["editor"]),w(r(Do),{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=m=>oe(n)?n.value=m:null),"default-config":i.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:c},null,8,["modelValue","default-config"])]))}});const Vt=R(Pn,[["__scopeId","data-v-274068df"]]),gt="authorization",je=Wo(()=>{const t=Me();return zo(`${t}_${gt}`,null)});let ao="/api";ao=window.location.origin;const vt=ao,G=No.create({baseURL:vt,timeout:6e4}),In=async t=>{const e=je();return e.value&&t.headers.set(gt,e.value),t},Bn=t=>{var i,d,m,f;const e=je(),o=t.data,s=t.headers["content-type"],n=s.includes("application/json"),a=s.includes("application/octet-stream"),l=s.includes("text/html"),c=s.includes("application/javascript"),u=s.includes("css");if(n){if((o==null?void 0:o.code)===301)return fe(((i=o==null?void 0:o.data)==null?void 0:i.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return D((o==null?void 0:o.msg)||"302.网络错误~"),fe(((d=o==null?void 0:o.data)==null?void 0:d.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return setTimeout(()=>{window.location.reload()},2e3),o;if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return D((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){e.value="";let g=(m=z.currentRoute.value)==null?void 0:m.fullPath;return(f=z.currentRoute.value.query)!=null&&f.redirect&&(g=z.currentRoute.value.query.redirect),g===me&&(g="/"),z.replace({path:me,query:{redirect:g}}),D((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&D((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return a||l||c||u?Promise.resolve(o):Promise.reject(o)},$n=t=>{if(t.response){const{status:e}=t.response;[401,402,403,500,502].includes(e)&&fe("/exception",{code:e})}return Promise.reject(t)};G.interceptors.request.use(In);G.interceptors.response.use(Bn,$n);const Dn=Object.freeze(Object.defineProperty({__proto__:null,baseURL:vt,default:G,instance:G},Symbol.toStringTag,{value:"Module"})),xe=(t,e,o)=>G.request({url:t,params:e,method:"GET",...o}),Se=(t,e,o)=>G.request({url:t,data:e,method:"POST",...o}),it=(t,e,o)=>G.request({url:t,data:e,method:"PUT",...o}),ut=(t,e,o)=>G.request({url:t,data:e,method:"DELETE",...o}),En=I({__name:"index",props:{modelValue:{},api:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=se(),n=y(""),a=y(!1),l=y([]),c=i=>{if(i){a.value=!0;const d={...s.query,keyword:i};xe(o.api,d).then(m=>{l.value=m.data||[]}).finally(()=>{a.value=!1})}else l.value=[]},u=()=>{e("update:modelValue",n.value)};return(i,d)=>{const m=S("el-option"),f=S("el-select");return p(),C(f,{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=g=>oe(n)?n.value=g:null),"remote-method":c,filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",loading:r(a),onChange:u},{default:A(()=>[(p(!0),x(O,null,Q(r(l),(g,_)=>(p(),C(m,L({key:_},g),null,16))),128))]),_:1},8,["modelValue","loading"])}}}),Vn=I({__name:"index",props:{title:{},style:{default:{}}},setup(t){return(e,o)=>(p(),x("div",{class:"form-title",style:Qt(e.style)},M(e.title),5))}});const Sn=R(Vn,[["__scopeId","data-v-2aa60f17"]]),Tn={id:"dplayer"},jn=I({__name:"index",props:{modelValue:{},style:{default:{}},player:{}},setup(t){const e=t;ke(a=>({"50bc16b3":r(o),a610744c:r(s)}));const o=$(()=>{var a;return((a=e==null?void 0:e.style)==null?void 0:a.width)??"100%"}),s=$(()=>{var a;return((a=e==null?void 0:e.style)==null?void 0:a.height)??"450px"}),n=$(()=>{var a;return e!=null&&e.player?{...e.player,video:{...((a=e.player)==null?void 0:a.video)??{},url:e.modelValue}}:{video:{url:e.modelValue}}});return re(()=>{const a=document.getElementById("dplayer");new eo({container:a,...n.value})}),(a,l)=>(p(),x("div",Tn))}});const Un=R(jn,[["__scopeId","data-v-2f3aa562"]]),Rn={class:"xb-alert"},Mn=I({__name:"index",props:{content:{},type:{default:"warning"},closable:{type:Boolean,default:!1},effect:{default:"dark"}},setup(t){return(e,o)=>{const s=S("el-alert");return p(),C(s,{type:e.type,closable:e.closable,effect:e.effect},{default:A(()=>[b("div",Rn,[(p(!0),x(O,null,Q(e.content,(n,a)=>(p(),x("div",{key:a},M(n),1))),128))])]),_:1},8,["type","closable","effect"])}}}),Ln={class:"select"},Fn={class:"left"},qn={class:"right"},On={key:0,class:"desc"},Hn={key:1,class:"value"},Nn=I({__name:"select-text",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=mt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),a=l=>{e("update:modelValue",l)};return(l,c)=>{const u=S("el-option"),i=S("el-select");return p(),C(i,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=d=>oe(s)?s.value=d:null),onChange:a}),{default:A(()=>[(p(!0),x(O,null,Q(l.options,(d,m)=>(p(),C(u,L({key:m},d),{default:A(()=>[b("div",Ln,[b("div",Fn,M(d.label),1),b("div",qn,[d!=null&&d.desc?(p(),x("div",On,M(d.desc),1)):(p(),x("div",Hn,M(d.value),1))])])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Wn=R(Nn,[["__scopeId","data-v-9abe9200"]]),zn={class:"select"},Qn={class:"left"},Zn={class:"title"},Xn={key:0,class:"right"},Gn=I({__name:"select-image",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=mt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),a=l=>{e("update:modelValue",l)};return(l,c)=>{const u=S("el-image"),i=S("el-option"),d=S("el-select");return p(),C(d,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=m=>oe(s)?s.value=m:null),onChange:a}),{default:A(()=>[(p(!0),x(O,null,Q(l.options,(m,f)=>(p(),C(i,L({key:f},m),{default:A(()=>[b("div",zn,[b("div",Qn,[w(u,{class:"image",src:m.url},null,8,["src"]),b("div",Zn,M(m.title?m.title:m.label),1)]),m!=null&&m.desc?(p(),x("div",Xn,M(m.desc),1)):T("",!0)])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Jn=R(Gn,[["__scopeId","data-v-2e11a9a9"]]),St={amap:Da,bmap:Sa,icons:sn,qmap:Ua,remote:fn,uploadify:bn,info:cn,HCode:qa,PromptTip:_n,wangEditor:Vt,tinymceEditor:Vt,XInput:dn,XTable:vn,XSearch:En,XTitle:Sn,XVideo:Un,XAlert:Mn,selectText:Wn,selectImage:Jn},Yn=t=>{Object.keys(St).forEach(e=>{t.component(e,St[e])})},yt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const s=t,n=se(),a=Ie(),l=y({}),c=y({api:"",method:"POST"}),u=y({}),i=y(),d=y(Ca),m=y("");Pt.use(Yn);const f=Pt.$form(),g=()=>{const h=y({method:s.method,params:{...s.ajaxParams},data:{...s.ajaxParams}});s.method==="GET"?delete h.value.data:delete h.value.params,o("update:init"),G(s.api,h.value).then(P=>{const{data:E}=P;if(!(E!=null&&E.http))return D("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(E!=null&&E.formRule))return D("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));c.value=E.http,i.value=Ia(E.formRule),d.value={...d.value,...E.config},m.value=(E==null?void 0:E.redirect)??"",o("update:init-ok",{response:E,exposed:a.exposed})}).catch(P=>{o("update:init-error",P)})},_=async()=>{var P,E,j;const h=y({method:((P=c.value)==null?void 0:P.method)??"GET",params:{...s.ajaxParams},data:{}});return((E=c.value)==null?void 0:E.method)==="GET"?h.value.params={...h.value.params,...u.value}:h.value.data={...h.value.data,...u.value},o("update:submit",{api:c.value.api,queryParams:h}),await G(((j=c.value)==null?void 0:j.api)??"",h.value).then(U=>{var k;return(k=n.query)!=null&&k.isBack&&!s.isModal&&!m.value?Ne():m.value&&fe(m.value),o("update:submit-ok",U),ae((U==null?void 0:U.msg)??"操作失败"),U}).catch(U=>(o("update:submit-error",U),U))},v=()=>{o("update:rest-ok")};return re(()=>g()),e({init:g,submit:_,reset:v}),(h,P)=>(p(),C(r(f),{api:r(l),"onUpdate:api":P[0]||(P[0]=E=>oe(l)?l.value=E:null),modelValue:r(u),"onUpdate:modelValue":P[1]||(P[1]=E=>oe(u)?u.value=E:null),modelModifiers:{lazy:!0},rule:r(i),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),Kn={class:"xh-modal-container"},es=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),o=y({submitBtn:{},resetBtn:{}}),s=n=>{var l;const a=(l=n==null?void 0:n.response)==null?void 0:l.extraConfig;o.value=a};return(n,a)=>(p(),x("div",Kn,[w(r(yt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:n.api,method:n.method,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:initOk":s},null,8,["api","method","ajax-params"])]))}});const xt=R(es,[["__scopeId","data-v-be00eddc"]]),ts={class:"xh-modal-container"},os={class:"xh-modal-content"},as=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y();y({submitBtn:{},resetBtn:{}});const a=f=>{o("update:init-ok",s.exposed)},l=f=>{o("update:init-error",s.exposed)},c=()=>{o("update:submit-ok")},u=()=>{o("update:submit-error")},i=()=>{o("update:rest-ok")};return e({hanldSubmit:async()=>await n.value.submit(),hanldReset:()=>{n.value.reset(),o("update:rest")}}),(f,g)=>(p(),x("div",ts,[b("div",os,[w(r(yt),{ref_key:"formRef",ref:n,class:"xh-form-create",api:f.api,method:f.method,"ajax-params":f.ajaxParams,"is-modal":!0,"onUpdate:initOk":a,"onUpdate:submitOk":c,"onUpdate:submitError":u,"onUpdate:restOk":i,"onUpdate:initError":l},null,8,["api","method","ajax-params"])])]))}});const kt=R(as,[["__scopeId","data-v-283ef23e"]]),ns=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,o=$(()=>e.text?"":`xh-button-${e.type}`);return(s,n)=>(p(),x("button",{class:_e(["xh-button",r(o)])},[ce(s.$slots,"loading",{},void 0,!0),ce(s.$slots,"icon",{},void 0,!0),ce(s.$slots,"default",{},void 0,!0)],2))}});const ss=R(ns,[["__scopeId","data-v-5baade3e"]]),wt=I({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,o=["error","purple","cyan"],s=$(()=>o.includes(e.type));return(n,a)=>{const l=S("el-button");return r(s)?(p(),C(ss,{key:0,type:n.type},{default:A(()=>[ce(n.$slots,"loading"),ce(n.$slots,"icon"),ce(n.$slots,"default")]),_:3},8,["type"])):(p(),C(l,{key:1,type:n.type},{default:A(()=>[ce(n.$slots,"loading"),ce(n.$slots,"icon"),ce(n.$slots,"default")]),_:3},8,["type"]))}}}),ls=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:o}){const s=Ie(),n=y(!1),a=u=>{n.value=u},l=()=>{a(!0),o("update:submit")},c=()=>{a(!0),o("update:rest")};return re(()=>{o("update:init",{exposed:s.exposed})}),e({setDisabled:a}),(u,i)=>{var f;const d=wt,m=S("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(p(),C(m,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:A(()=>{var g,_,v,h;return[(g=u.extraConfig.submitBtn)!=null&&g.show?(p(),C(d,L({key:0,type:"primary",class:"xh-extra-button"},((_=u.extraConfig)==null?void 0:_.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:l}),{default:A(()=>{var P;return[F(M(r(n)?"请求中...":((P=u.extraConfig.submitBtn)==null?void 0:P.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):T("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(p(),C(d,L({key:1,type:"warning",class:"xh-extra-button"},((h=u.extraConfig)==null?void 0:h.resetBtn)??{},{disabled:r(n),onClick:c}),{default:A(()=>{var P;return[F(M(((P=u.extraConfig.resetBtn)==null?void 0:P.content)??"重置"),1)]}),_:1},16,["disabled"])):T("",!0)]}),_:1})):T("",!0)}}});const cs=R(ls,[["__scopeId","data-v-c3072cde"]]),Y=(t,e)=>{const o=t.field;let s=e[o];if(o.includes(".")){const n=o.split(".");let a=e;n.forEach(l=>{a=a[l]}),s=a}return s},De=(t,e,o,s=!0)=>{if(!t){D("请设置请求API接口"),o==null||o.commitProxy("query");return}it(t,e).then(n=>{o==null||o.commitProxy("query"),s&&ae((n==null?void 0:n.msg)??"操作成功")})},rs=(t,e,o,s)=>{var c,u;const n=((c=o==null?void 0:o.rowConfig)==null?void 0:c.keyField)??"id",a=e[t==null?void 0:t.field],l={[n]:e[n],keyField:n,field:t==null?void 0:t.field,value:a};De((u=t==null?void 0:t.params)==null?void 0:u.api,l,s)},is=["innerHTML"],us=["innerHTML"],ds=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c,u,i,d,m;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.prefix)??""),n=y(((i=(u=e.column)==null?void 0:u.params)==null?void 0:i.suffix)??""),a=y(((m=(d=e.column)==null?void 0:d.params)==null?void 0:m.props)??{});return(f,g)=>(p(),x("div",L(r(a),{class:"flex items-center"}),[r(s)?(p(),x("div",{key:0,innerHTML:r(s)},null,8,is)):T("",!0),b("div",null,M(r(o)),1),r(n)?(p(),x("div",{key:1,innerHTML:r(n)},null,8,us)):T("",!0)],16))}}),ps=(t,e,o,s,n)=>{var m,f;o==null||o.xGrid;const a=o==null?void 0:o.form,l=o==null?void 0:o.page,c=o==null?void 0:o.sort,u=o==null?void 0:o.filters;o!=null&&o.code&&((m=s.screenConfig)!=null&&m.api)&&(t=(f=s.screenConfig)==null?void 0:f.api);const i=z.currentRoute.value,d=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...n??{},...a,...(i==null?void 0:i.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),u.length>0&&d.value.params&&u.forEach(({field:g,values:_})=>{d.value.params={...d.value.params,[g]:_.join(",")}}),new Promise((g,_)=>{G(t,d.value).then(v=>{g(v)}).catch(v=>{_(v)})})},ms=(t,e,o)=>{G(o.file,{responseType:"blob"}).then(s=>{Bo.saveFile({filename:t,type:e,content:s.data})})},_s=(t,e,o)=>new Promise((s,n)=>{var c;if(!((c=e.exportConfig)!=null&&c.api))return D("请设置请求API"),Promise.reject(new Error("请设置请求API"));const a=o==null?void 0:o.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:a?a.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var m;const i={method:"POST",data:{...l}},d=((m=e.exportConfig)==null?void 0:m.api)??"";G(d,i).then(f=>{const{data:g}=f;if(!(g!=null&&g.file))return D("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));ms(l.filename,l.format,g),u(f)})})}),fs=(t,e,o)=>{const s=new FormData;return s.append("file",t.file),new Promise(n=>{var c;const a=((c=e.importConfig)==null?void 0:c.api)??"";G(a,{method:"POST",data:s}).then(u=>{const{msg:i}=u;ae(i||"操作成功"),o==null||o.commitProxy("query"),n(u)}).catch(u=>{console.error("导入失败",u)})})},hs=(t,e,o)=>new Promise(s=>{const n=new FileReader;n.onload=a=>{const l=a.target?a.target.result:"",c=Jo(l,{type:"binary"}),u=Yo.sheet_to_json(c.Sheets.Sheet1);t.$table.loadData(u),ae("已将数据导入至本地表格"),s(u)},n.readAsBinaryString(t.file)}),gs=(t,e,o)=>{var s,n;return(s=e.importConfig)!=null&&s.api&&((n=e.importConfig)!=null&&n.isRemote)?fs(t,e,o):hs(t)},vs=(t,e,o,s,n)=>{const a={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=a,a!=null&&a.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>gs(l,o,n)}),a!=null&&a.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>_s(l,o,n)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>ps(t,e,l,o,s)}},o},ys=(t,e)=>{let o={};for(const s in t){const n=t[s]||"id";o={...o,[n]:e[s]||""}}return o},Ue=(t,e,o)=>{var l,c;const s=z.currentRoute.value;let a={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...s.query};return(c=t.pageData)!=null&&c.isBack&&(a={...a,isBack:1}),a},xs=(t,e,o,s,n)=>{var i,d,m,f,g;const a=z.currentRoute.value,l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??{},c=y({...a.query}),u=y({...c.value});if(l instanceof Object&&(u.value={...u.value,...l}),o&&!["[]","{}"].includes(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams)))u.value={...u.value,...ys((m=t==null?void 0:t.pageData)==null?void 0:m.aliasParams,o)};else{const _=((f=s==null?void 0:s.rowConfig)==null?void 0:f.keyField)??"id";if(!o[_]){D("当前数据错误");return}const v=o[_];u.value={...u.value,[_]:v}}return(g=t.pageData)!=null&&g.isBack&&(u.value={...u.value,isBack:1}),u.value},ks=(t,e,o)=>{var n,a;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){D("缺少跳转地址");return}const s=Ue(t);z.push({path:(a=t==null?void 0:t.pageData)==null?void 0:a.path,query:{...s}})},ws=(t,e,o,s)=>{var n,a;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){D("缺少跳转地址");return}z.push({path:(a=t==null?void 0:t.pageData)==null?void 0:a.path,query:{...e}})},Te=t=>{bt(t)||(t=`${window.location.origin}/${t}`),window.open(t)},As=(t,e,o)=>{var u,i,d;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((i=t.pageData)==null?void 0:i.method)??"GET";let a=((d=t.pageData)==null?void 0:d.path)??"";const l=Ue(t),c={method:n,params:{},data:{}};if(n==="GET"?c.params=l:c.data=l,a){Te(a);return}G(s,c).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){D("缺少目标跳转地址");return}a=f.url,Te(a)})},bs=(t,e,o,s)=>{var d,m,f,g,_;const n=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",a=((m=t.pageData)==null?void 0:m.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((g=e==null?void 0:e.rowConfig)==null?void 0:g.keyField)??"id");let c=((_=t.pageData)==null?void 0:_.path)??"";const u=Ue(t),i={method:a,params:{},data:{}};if(a==="GET"?i.params={...u,[l]:o}:i.data={...u,[l]:o},c){Te(c);return}G(n,i).then(v=>{const{data:h}=v;if(!(h!=null&&h.url)){D("缺少目标跳转地址");return}c=h.url,Te(c)})},Cs=(t,e,o,s)=>{var u,i,d;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",a=((i=t.pageData)==null?void 0:i.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const c=y({method:a,params:{...e},data:{...e}});if(a==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}G(n,c.value).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){D("缺少目标跳转地址");return}l=f.url,Te(l)})},Re=(t,e)=>bo.service({text:t,lock:!0,background:"rgba(0, 0, 0, 0.7)",...e}),Ps=(t,e,o)=>{var l,c,u,i;if(!(((l=t.message)==null?void 0:l.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const n=y(),a={api:((c=t.pageData)==null?void 0:c.api)||"",method:((u=t.pageData)==null?void 0:u.method)||"GET",ajaxParams:((i=t.pageData)==null?void 0:i.queryParams)||{},"onUpdate:init-ok":d=>{n.value=d}};Ae(kt,a,{...t.message,beforeClose:(d,m,f)=>{var g;if(d==="confirm"){const _=Re("正在提交中...");(g=n.value)==null||g.hanldSubmit().then(v=>{(v==null?void 0:v.code)===200&&(f(),o==null||o.commitProxy("reload"))}).finally(()=>{_.close()})}d==="cancel"&&(f(),o==null||o.commitProxy("reload"))}})},Is=(t,e,o,s)=>{var u,i,d,m,f;if(!(((u=t.message)==null?void 0:u.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const a=y(),l=y({api:((i=t.pageData)==null?void 0:i.api)||"",method:((d=t.pageData)==null?void 0:d.method)||"GET",ajaxParams:{...e},"onUpdate:init-ok":g=>{a.value=g}}),c=((m=t.pageData)==null?void 0:m.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),(f=l.value.ajaxParams)!=null&&f.isBack&&delete l.value.ajaxParams.isBack,Ae(kt,l.value,{...t.message,beforeClose:(g,_,v)=>{var h;if(g==="confirm"){const P=Re("正在提交中...");(h=a.value)==null||h.hanldSubmit().then(E=>{(E==null?void 0:E.code)===200&&(v(),s==null||s.commitProxy("reload"))}).finally(()=>{P.close()})}g==="cancel"&&(v(),s==null||s.commitProxy("reload"))}})},Bs=(t,e,o,s)=>{var c,u,i,d,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[a]:o},"onUpdate:submit-ok":()=>{Et(),s==null||s.commitProxy("reload")},"onUpdate:rest-ok":()=>{Et(),s==null||s.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),Ae(kt,l.value,{...t.message,beforeClose:(_,v,h)=>{h(),s==null||s.commitProxy("reload")}})},be=(t,e="温馨提示",o="",s)=>ne.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...s}),Xe=(t,e,o,s)=>{let n=null;o&&(n=Re(o)),G(t,e).then(a=>{var i,d,m;n&&n.close();const l=((i=a==null?void 0:a.data)==null?void 0:i.url)??"",c=((d=a==null?void 0:a.data)==null?void 0:d.query)??{},u=((m=a==null?void 0:a.data)==null?void 0:m.loading)??"正在处理中...";l?(e.method==="GET"?e.params={...(e==null?void 0:e.params)??{},...c}:e.data={...(e==null?void 0:e.data)??{},...c},Xe(l,e,u,s)):(s==null||s.commitProxy("reload"),ae((a==null?void 0:a.msg)??"操作成功"))}).catch(()=>{n&&n.close()})},$s=(t,e,o)=>{var d,m,f,g,_;const s=((d=t.pageData)==null?void 0:d.method)??"GET",n=Ue(t);n!=null&&n.isBack&&delete n.isBack;const a=y({method:s,params:{...n},data:{...n}});s==="GET"&&delete a.value.data;const l=(m=t.pageData)==null?void 0:m.api;if(!l){D("请设置接口地址");return}const c=((f=t.message)==null?void 0:f.title)??"",u=((g=t.message)==null?void 0:g.type)??"",i=((_=t.message)==null?void 0:_.content)??"";be(i,c,u).then(()=>{var v;Xe(l,a.value,((v=t.message)==null?void 0:v.loading)??"",o)})},Ds=(t,e,o,s)=>{var f,g,_,v,h,P,E;const n=((f=t.pageData)==null?void 0:f.method)??"GET",a=Ue(t);a!=null&&a.isBack&&delete a.isBack;let l=((g=e.checkboxConfig)==null?void 0:g.labelField)??"";l||(l=((_=e==null?void 0:e.rowConfig)==null?void 0:_.keyField)??"id");const c=y({method:n,params:{...a,[l]:o},data:{...a,[l]:o}});n==="GET"&&delete c.value.data;const u=(v=t.pageData)==null?void 0:v.api;if(!u){D("请设置接口地址");return}const i=((h=t.message)==null?void 0:h.type)??"",d=((P=t.message)==null?void 0:P.title)??"",m=((E=t.message)==null?void 0:E.content)??"";be(m,d,i).then(()=>{var j;Xe(u,c.value,((j=t.message)==null?void 0:j.loading)??"",s)})},Es=(t,e,o,s)=>{var m,f,g,_,v,h,P;const n=((m=t.pageData)==null?void 0:m.method)??"GET";let a=((f=o.checkboxConfig)==null?void 0:f.labelField)??"";a||(a=((g=o==null?void 0:o.rowConfig)==null?void 0:g.keyField)??"id");const l=y({method:n,params:{...e},data:{...e}});n==="GET"&&delete l.value.data;const c=(_=t.pageData)==null?void 0:_.api;if(!c){D("请设置接口地址");return}const u=((v=t.message)==null?void 0:v.title)??"",i=((h=t.message)==null?void 0:h.type)??"",d=((P=t.message)==null?void 0:P.content)??"";be(d,u,i).then(()=>{var E;Xe(c,l.value,((E=t.message)==null?void 0:E.loading)??"",s)})},Vs=(t,e,o)=>{var a,l,c;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}const n={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((c=t.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ne.close(),o==null||o.commitProxy("reload")}};ie(Ge,n,{...t.message,beforeClose:(u,i,d)=>{d(),o==null||o.commitProxy("reload")}})},Ss=(t,e,o,s)=>{var c,u,i,d,m,f;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[a]:o},"onUpdate:close":()=>{ne.close(),s==null||s.commitProxy("reload")}});((m=t.pageData)==null?void 0:m.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),ie(Ge,l.value,{...t.message,beforeClose:(g,_,v)=>{v(),s==null||s.commitProxy("reload")}})},Ts=(t,e,o,s)=>{var l,c;if(!(((l=t.message)==null?void 0:l.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.path){D("请提供远程组件地址");return}e!=null&&e.isBack&&delete e.isBack;const a=y({file:(c=t.pageData)==null?void 0:c.path,ajaxParams:e,"onUpdate:close":()=>{ne.close(),s==null||s.commitProxy("reload")}});ie(Ge,a.value,{...t.message,beforeClose:(u,i,d)=>{d(),s==null||s.commitProxy("reload")}})},js=(t,e,o)=>{var a,l,c,u;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供信息模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(xt,n,{...t.message,beforeClose:(i,d,m)=>{m(),o==null||o.commitProxy("reload")}})},Us=(t,e,o,s)=>{var u,i,d,m,f,g;if(!(((u=t.message)==null?void 0:u.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";a||(a=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(m=t.pageData)==null?void 0:m.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[a]:o}}),c=((g=t==null?void 0:t.pageData)==null?void 0:g.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),ie(xt,l.value,{...t.message,beforeClose:(_,v,h)=>{h(),s==null||s.commitProxy("reload")}})},Rs=(t,e,o,s)=>{var c,u,i,d,m;if(!(((c=t.message)==null?void 0:c.title)||"")){D("信息模态框标题不能为空");return}if(!t.pageData.api){D("请提供信息模态框接口");return}const a=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(a.value.ajaxParams={...a.value.ajaxParams,...l}),(m=a.value.ajaxParams)!=null&&m.isBack&&delete a.value.ajaxParams.isBack,ie(xt,a.value,{...t.message,beforeClose:(f,g,_)=>{_(),s==null||s.commitProxy("reload")}})},Ms=(t,e,o)=>{var a,l,c,u;if(!(((a=t.message)==null?void 0:a.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供表格模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(At,n,{...t.message,beforeClose:(i,d,m)=>{m(),o==null||o.commitProxy("reload")}})},Ls=(t,e,o,s)=>{var c,u,i,d,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}let a=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[a]:o}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),ie(At,l.value,{...t.message,beforeClose:(_,v,h)=>{h(),s==null||s.commitProxy("reload")}})},Fs=(t,e,o,s)=>{var c,u,i,d;if(!(((c=t.message)==null?void 0:c.title)||"")){D("模态框标题不能为空");return}if(!t.pageData.api){D("请提供模态框接口");return}const a=y({api:(u=t.pageData)==null?void 0:u.api,method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(a.value.ajaxParams={...a.value.ajaxParams,...l}),ie(At,a.value,{...t.message,beforeClose:(m,f,g)=>{g(),s==null||s.commitProxy("reload")}})},qs=(t,e,o,s)=>{},Os=(t,e,o)=>{var s;switch((s=e.pageData)==null?void 0:s.type){case"page":ks(e);break;case"link":As(e);break;case"down":break;case"confirm":$s(e,t,o);break;case"modal":Ps(e,t,o);break;case"info":js(e,t,o);break;case"table":Ms(e,t,o);break;case"remote":Vs(e,t,o);break;default:D("按钮类型错误");break}},Hs=(t,e,o)=>{var c,u,i,d;const s=(c=t.columns)==null?void 0:c.filter(m=>m.type==="checkbox");if(!(s!=null&&s.length)){D("请先开启批量操作");return}const n=(o==null?void 0:o.getCheckboxRecords())??[];if(n.length<=0){D("请选择数据");return}let a=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";a||(a=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id");const l=n.map(m=>m[a]);switch((d=e.pageData)==null?void 0:d.type){case"link":bs(e,t,l);break;case"down":break;case"confirm":Ds(e,t,l,o);break;case"remote":Ss(e,t,l,o);break;case"modal":Bs(e,t,l,o);break;case"info":Us(e,t,l,o);break;case"table":Ls(e,t,l,o);break;default:D("按钮类型错误");break}},Tt=(t,e,o,s,n)=>{var c,u;if(!s){D("行参数出错");return}const a=y({}),l=((c=e.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(a.value={...l}),a.value={...a.value,...xs(e,o,s,t)},(u=e.pageData)==null?void 0:u.type){case"page":ws(e,a.value);break;case"link":Cs(e,a.value);break;case"down":qs(e,a.value);break;case"confirm":Es(e,a.value,t,n);break;case"modal":Is(e,a.value,t,n);break;case"info":Rs(e,a.value,t,n);break;case"table":Fs(e,a.value,t,n);break;case"remote":Ts(e,a.value,t,n);break;default:D("按钮类型错误");break}};const Ns=()=>{const t=le();return((t==null?void 0:t.routeList)??[]).map(s=>s.path)},Ws=t=>Ns().includes(t),zs={class:"button-group"},Qs={class:"pr-1"},Zs={class:"no-group-buttons"},Xs=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var g;const e=t,o=$(()=>{var _;return((_=e.column.params)==null?void 0:_.buttonGroupIcon)??"Operation"}),s=$(()=>{var _;return((_=e.column.params)==null?void 0:_.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},a=y(((g=e.column.params)==null?void 0:g.buttonStyle)??n),l=$(()=>e.rightButtonList.filter(_=>{var h,P,E,j,U,k,B,V,H,X;const v=((h=_.pageData)==null?void 0:h.group)||((P=e.column.params)==null?void 0:P.group);return(j=(E=_.pageData)==null?void 0:E.params)!=null&&j.field&&((k=(U=_.pageData)==null?void 0:U.params)!=null&&k.value)&&v?(e.row[(V=(B=_.pageData)==null?void 0:B.params)==null?void 0:V.field]||"")===((X=(H=_.pageData)==null?void 0:H.params)==null?void 0:X.value):v})),c=$(()=>e.rightButtonList.filter(_=>{var v;return!((v=_.pageData)!=null&&v.group)})),u=$(()=>{var _;return((_=e.column.params)==null?void 0:_.groupText)||"更多"}),i=$(()=>_=>{var k,B,V,H,X,ee,de;const v=((k=_.pageData)==null?void 0:k.api)??"";if(!Ws(v))return!1;const P=(((V=(B=_==null?void 0:_.pageData)==null?void 0:B.params)==null?void 0:V.where)??"").toLowerCase(),E=(X=(H=_==null?void 0:_.pageData)==null?void 0:H.params)==null?void 0:X.field,j=(de=(ee=_==null?void 0:_.pageData)==null?void 0:ee.params)==null?void 0:de.value;if(E===void 0&&j===void 0)return!0;if(E===void 0||E===""||E&&(j===void 0||j===""))return!1;const U=e.row[E];switch(P){case"!=":return j!==U;case"in":return j instanceof Array&&pt(U,j);case"notIn":return j instanceof Array&&!pt(U,j);default:return j===U}}),d=$(()=>_=>{const v={..._};return v!=null&&v.icon&&delete v.icon,v}),m=_=>{Tt(e.gridConfig,_,e.column,e.row,e.xGrid)},f=_=>{Tt(e.gridConfig,_,e.column,e.row,e.xGrid)};return(_,v)=>{const h=Z,P=S("el-button"),E=S("el-dropdown-item"),j=S("el-dropdown-menu"),U=S("el-dropdown");return p(),x("div",zs,[r(l).length?(p(),C(U,{key:0,class:"mr-2",onCommand:m},{dropdown:A(()=>[w(j,null,{default:A(()=>[(p(!0),x(O,null,Q(r(l),(k,B)=>(p(),x(O,{key:B},[r(i)(k)?(p(),C(E,{key:0,command:k},{default:A(()=>{var V,H,X;return[(V=k==null?void 0:k.button)!=null&&V.icon?(p(),C(h,{key:0,icon:(H=k==null?void 0:k.button)==null?void 0:H.icon,type:(X=k==null?void 0:k.button)==null?void 0:X.iconType},null,8,["icon","type"])):T("",!0),b("span",null,M(k.title),1)]}),_:2},1032,["command"])):T("",!0)],64))),128))]),_:1})]),default:A(()=>[w(P,L({type:"danger"},r(a)),{default:A(()=>[b("span",Qs,M(r(u)),1),r(o)?(p(),C(h,{key:0,icon:r(o),type:r(s)},null,8,["icon","type"])):T("",!0)]),_:1},16)]),_:1})):T("",!0),b("div",Zs,[(p(!0),x(O,null,Q(r(c),(k,B)=>{var V;return ze((p(),x("div",{key:B,class:"item"},[(p(),C(P,L({key:B},r(d)((k==null?void 0:k.button)??{}),{onClick:H=>f(k)}),Qe({default:A(()=>[F(" "+M(k.title),1)]),_:2},[(V=k==null?void 0:k.button)!=null&&V.icon?{name:"icon",fn:A(()=>{var H,X,ee;return[(H=k==null?void 0:k.button)!=null&&H.icon?(p(),C(h,{key:0,icon:(X=k==null?void 0:k.button)==null?void 0:X.icon,type:((ee=k==null?void 0:k.button)==null?void 0:ee.iconType)??""},null,8,["icon","type"])):T("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Gt,r(i)(k)]])}),128))])])}}});const Gs=R(Xs,[["__scopeId","data-v-74bb33ab"]]),Js={class:"flex space-x-2"},Ys=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,o=$(()=>e.topButtonList.filter(s=>{var n;return!((n=s.pageData)!=null&&n.group)}));return(s,n)=>{const a=Z,l=S("el-button"),c=S("el-space"),u=Jt("auth");return p(),x("div",Js,[r(o).length?(p(),C(c,{key:0},{default:A(()=>[(p(!0),x(O,null,Q(r(o),(i,d)=>{var m,f;return ze((p(),C(l,L({key:d},(i==null?void 0:i.button)??{},{onClick:g=>r(Os)(e.gridConfig,i,s.xGrid)}),Qe({default:A(()=>[F(" "+M(i.title),1)]),_:2},[(m=i==null?void 0:i.button)!=null&&m.icon?{name:"icon",fn:A(()=>{var g,_;return[w(a,{icon:(g=i==null?void 0:i.button)==null?void 0:g.icon,type:(_=i==null?void 0:i.button)==null?void 0:_.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])),[[u,(f=i.pageData)==null?void 0:f.api]])}),128))]),_:1})):T("",!0)])}}}),Ks={class:"flex space-x-2"},el=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,o=$(()=>{var n;return((n=e.selectButtonList)==null?void 0:n.filter(a=>{var l;return!((l=a.pageData)!=null&&l.group)}))||[]}),s=$(()=>n=>{const a={...n};return a!=null&&a.icon&&delete a.icon,a});return(n,a)=>{const l=Z,c=wt,u=S("el-space"),i=Jt("auth");return p(),x("div",Ks,[r(o).length?(p(),C(u,{key:0},{default:A(()=>[(p(!0),x(O,null,Q(r(o),(d,m)=>{var f,g;return ze((p(),C(c,L({key:m,type:"primary"},r(s)((d==null?void 0:d.button)??{}),{onClick:_=>r(Hs)(e.gridConfig,d,n.xGrid)}),Qe({default:A(()=>[F(" "+M(d.title),1)]),_:2},[(f=d==null?void 0:d.button)!=null&&f.icon?{name:"icon",fn:A(()=>{var _,v;return[w(l,{icon:(_=d==null?void 0:d.button)==null?void 0:_.icon,type:(v=d==null?void 0:d.button)==null?void 0:v.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])),[[i,(g=d.pageData)==null?void 0:g.api]])}),128))]),_:1})):T("",!0)])}}}),tl={class:"flex space-x-3"},ol={key:1,class:"flex space-x-1"},al=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=se();return(o,s)=>{var a,l,c;const n=wt;return p(),x("div",tl,[(a=r(e).query)!=null&&a.isBack?(p(),C(n,{key:0,type:"primary",onClick:r(Ne)},{default:A(()=>[F(" 返回 ")]),_:1},8,["onClick"])):T("",!0),o.topButtonList.length||(l=o.selectButtonList)!=null&&l.length?(p(),x("div",ol,[o.topButtonList.length?(p(),C(Ys,q(L({key:0},{xGrid:o.xGrid,gridConfig:o.gridConfig,topButtonList:o.topButtonList})),null,16)):T("",!0),(c=o.selectButtonList)!=null&&c.length?(p(),C(el,q(L({key:1},{xGrid:o.xGrid,gridConfig:o.gridConfig,selectButtonList:o.selectButtonList})),null,16)):T("",!0)])):T("",!0)])}}}),nl=t=>(Be("data-v-c11e2f2f"),t=t(),$e(),t),sl=nl(()=>b("div",null,null,-1)),ll={class:"assets-container"},cl={class:"item"},rl=["src"],il=["src"],ul=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o="",s=$(()=>{var a,l;return((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.resource)??[]}),n=$(()=>Y(e.column,e.row));return(a,l)=>{const c=Z,u=S("el-tooltip");return p(),x(O,null,[sl,b("div",ll,[(p(!0),x(O,null,Q(r(s),(i,d)=>(p(),C(u,{key:d,show:i==null?void 0:i.isUpdate,trigger:"hover",placement:"top"},{content:A(()=>[F(M((i==null?void 0:i.title)??"错误"),1)]),default:A(()=>[b("div",cl,[(i==null?void 0:i.type)==="url"&&r(bt)(i==null?void 0:i.icon)?(p(),x("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,rl)):(i==null?void 0:i.type)==="path"?(p(),x("img",{key:1,class:"logo",src:`${r(o)}${i==null?void 0:i.icon}`},null,8,il)):(p(),C(c,{key:2,icon:i.icon},null,8,["icon"])),b("span",null,M(r(n)[i.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const dl=R(ul,[["__scopeId","data-v-c11e2f2f"]]),pl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l,c)=>{const u=Z;return p(),C(u,L({icon:r(o)},r(s)),null,16,["icon"])}}}),ml={class:"xh-image-error"},_l=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,a,l,c;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l=s.value)!=null&&l.style||(s.value.style={width:"30px",height:"30px"}),(c=s.value)!=null&&c.preview&&(s.value.previewSrcList=[o.value],delete s.value.preview),(u,i)=>{const d=Z,m=S("el-image");return p(),C(m,L(r(s),{src:r(o),class:"xh-table-image"}),{error:A(()=>[b("div",ml,[w(d,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const fl=R(_l,[["__scopeId","data-v-2e6bc660"]]),hl=t=>(Be("data-v-257b233b"),t=t(),$e(),t),gl={class:"xh-image-error"},vl=hl(()=>b("span",null,"加载失败",-1)),yl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,c,u;const e=t,o=$(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),s=$(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=$(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i:[]}),a=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=a.value)!=null&&u.style||(a.value.style={width:"30px",height:"30px"}),(i,d)=>{const m=Z,f=S("el-image");return p(!0),x(O,null,Q(r(n),(g,_)=>(p(),C(f,L(r(a),{key:_,src:g==null?void 0:g.url,"preview-src-list":r(o)?[]:r(s)}),{error:A(()=>[b("div",gl,[w(m,{icon:"Picture",type:"element"}),vl])]),_:2},1040,["src","preview-src-list"]))),128)}}});const xl=R(yl,[["__scopeId","data-v-257b233b"]]),kl=t=>(Be("data-v-50a2462d"),t=t(),$e(),t),wl={class:"xh-image-error"},Al=kl(()=>b("span",null,"加载失败",-1)),bl=I({__name:"index",props:{column:{},row:{}},setup(t){var l,c,u;const e=t,o=$(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),s=$(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=$(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i[0]:[]}),a=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=a.value)!=null&&u.style||(a.value.style={width:"30px",height:"30px"}),(i,d)=>{var g;const m=Z,f=S("el-image");return p(),C(f,L(r(a),{src:(g=r(n))==null?void 0:g.url,"preview-src-list":r(o)?[]:r(s)}),{error:A(()=>[b("div",wl,[w(m,{icon:"Picture",type:"element"}),Al])]),_:1},16,["src","preview-src-list"])}}});const Cl=R(bl,[["__scopeId","data-v-50a2462d"]]),Pl=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;ke(s=>({"564a0163":r(o)}));const o=$(()=>e.isBorder?e.border:"");return(s,n)=>{const a=S("el-input");return p(),C(a,{class:_e({"xh-input":s.isBorder})},null,8,["class"])}}});const Il=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c;const e=t,o=$(()=>Y(e.column,e.row)),s=y(""),n=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{}),a=u=>{var g,_,v,h;const i=Ee("rowEdit",!0),d=((g=e.column.params)==null?void 0:g.api)??i,m=((v=(_=e.gridConfig)==null?void 0:_.rowConfig)==null?void 0:v.keyField)??"id",f={[m]:e.row[m],keyField:m,field:(h=e.column)==null?void 0:h.field,value:u};De(d,f,e.xGrid)};return(u,i)=>{const d=Pl;return p(),C(d,L({modelValue:r(s),"onUpdate:modelValue":i[0]||(i[0]=m=>oe(s)?s.value=m:null),value:r(o),placeholder:"请输入"},r(n),{"is-border":!0,onChange:a}),null,16,["modelValue","value"])}}}),Bl=I({__name:"index",setup(t){return(e,o)=>{const s=S("el-input-number");return p(),C(s)}}}),$l=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var c,u;const e=t,o=$(()=>Y(e.column,e.row)),s=$(()=>{var i;return((i=e.column.params)==null?void 0:i.isMessage)??!1}),n=y(o),a=y(((u=(c=e.column)==null?void 0:c.params)==null?void 0:u.props)??{}),l=i=>{var _,v,h,P;const d=Ee("rowEdit",!0),m=((_=e.column.params)==null?void 0:_.api)??d,f=((h=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:h.keyField)??"id",g={[f]:e.row[f],keyField:f,field:(P=e.column)==null?void 0:P.field,value:i};De(m,g,e.xGrid,s.value)};return(i,d)=>{const m=Bl;return p(),C(m,L({modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=f=>oe(n)?n.value=f:null),value:r(o)},r(a),{onChange:l}),null,16,["modelValue","value"])}}}),Dl=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>{var l;const a=((l=e.column)==null?void 0:l.params)??{};return a!=null&&a.type||delete a.type,a}),s=$(()=>{var a,l;return((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.format)??"￥"}),n=$(()=>Y(e.column,e.row));return(a,l)=>(p(),x("div",q(W(r(o))),M(r(s))+M(r(Bt).commafy(r(Bt).toNumber(r(n)),{digits:2})),17))}}),no=async(t,e)=>{let o="";e&&(o=Xr(e));const s=`${t}?${o}&t=${Date.now()}`;return await xe(s)},El=async(t,e,o)=>{for(let s=0;s<t.length;s++){const n=t[s],a=await no(n),l=n.includes(".js");if(!e&&l)e=a.toString();else if(e&&l){const u=a.toString();e+=`
${u}`}const c=n.includes(".css")||n.includes(".scss");if(!o&&c)o=a.toString();else if(o&&c){const u=a.toString();o+=`
${u}`}}return{jsContent:e,cssContent:o}},dt=(t,e="el-icon-warning",o="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${e}" style="${o}"></div>
            <div class="mt-5px">${t}</div>
        </div>
        `}),Vl=t=>{const e=/<link[^>]*src="(.*?)"[^>]*>/g,o=Array.from(t.matchAll(e),d=>d[1]),s=Gr(),n=Me(),a=o.map(d=>(d=`${s}${d}`,d.replace("{moduleName}",n))),l=t==null?void 0:t.match(/<template>([\s\S]*)<\/template>/),c=t==null?void 0:t.match(/<script.*>([\s\S]*)<\/script>/),u=t==null?void 0:t.match(/<style.*>([\s\S]*)<\/style>/);return{templates:l?l[1]:"",sctipts:c?c[1]:"",styles:u?u[1]:"",stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null,links:a}},so={vue:null},Sl=(t,e,o)=>ne.alert(t,{confirmButtonText:"确定",type:e,...o}),Tl=(t,e,o)=>{Wt({message:t,type:e,...o})},jl=(t,e,o)=>ne({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>We(Ge,{file:t,ajaxParams:e,"onUpdate:close":()=>{ne.close()}})}),Ul=async t=>{const e=Vl(t);if(!e.sctipts||!e.templates)return Promise.resolve({ponentObj:dt("远程代码格式解析失败"),tplData:e});let o={jsContent:"",cssContent:""};e.links.length>0&&(o=await El(e.links,o.jsContent,o.cssContent)),o.cssContent&&(e.styles=o.cssContent+e.styles);const s=e.sctipts.indexOf("{"),n=e.sctipts.lastIndexOf("}");if(s===-1||n===-1)return Promise.resolve({ponentObj:dt("解析代码错误"),tplData:e});const a=e.sctipts.slice(s,n+1),l=`${o.jsContent}
return ${a}`,c=new Function(l)();return c.template=e==null?void 0:e.templates,Promise.resolve({ponentObj:c,tplData:e})},Rl=()=>{const t=so.vue,e=le(),o=K(),s=Me();t.config.globalProperties.$moduleName=s,t.config.globalProperties.$userApp=e,t.config.globalProperties.$siteApp=o,t.config.globalProperties.$axios=Dn,t.config.globalProperties.$http={useGet:xe,usePost:Se,usePut:it,useDelete:ut},t.config.globalProperties.$useGet=xe,t.config.globalProperties.$usePost=Se,t.config.globalProperties.$usePut=it,t.config.globalProperties.$useDelete=ut,t.config.globalProperties.$dplayer=eo,t.config.globalProperties.$echarts=Xo,t.config.globalProperties.$useKeyCodeEvent=Zr,t.component("XRemote")===void 0&&t.component("XRemote",ue),t.component("AppIcons")===void 0&&t.component("AppIcons",Z),t.config.globalProperties.$useAlert=Sl,t.config.globalProperties.$useConfirm=be,t.config.globalProperties.$useMessage=Tl,t.config.globalProperties.$useNotify=Ze,t.config.globalProperties.$useLoading=Re,t.config.globalProperties.$useRemote=jl},Ml=(t,e)=>{Go.render(t).then(o=>{const s=document.createElement("style");if(s.setAttribute("type","text/css"),s.setAttribute("id",`css${e}`),s.styleSheet)s.styleSheet.cssText=o.css;else{const a=document.createTextNode(o.css);s.appendChild(a)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(s):document.documentElement.appendChild(s)})},Ll=(t,e,o)=>{if(t.setAttribute("class",`remote css${e}`),!document.querySelector(`style[id=css${e}]`)){let s="";o.stylesHasScoped?s=`
            .css${e}{
                ${o.styles}
            }
        `:s=o.styles,Ml(s,e)}},Fl=I({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const o=t,s=mt(),n=y(),a=y(st()),l=y(o.isApi),c=y(o.file),u=async _=>await no(_,o.ajaxParams).then(async v=>{const h=v.toString(),P=await Ul(h);return Ll(n.value,a.value,P.tplData),P.ponentObj}).catch(v=>{e("update:error",v),console.error("解析组件内容出错",v)}),i=Qo(async()=>c.value?await u(`${c.value}.vue`).then(_=>(Rl(),e("update:init",_),_)):dt("请先配置远程文件")),d=_=>{e("update:modelValue",_)},m=_=>{l.value=!1,c.value=_,a.value=st(),u(c.value)},f=()=>{a.value=st(),u(c.value)},g=()=>{o!=null&&o.isModal&&e("update:close")};return(_,v)=>(p(),x("div",{ref_key:"remoteRef",ref:n},[(p(),C(zt(r(i)),L({...r(s),..._.ajaxParams},{"onUpdate:modelValue":d,"onUpdate:openWin":m,"onUpdate:reloadWin":f,"onUpdate:closeWin":g}),null,16))],512))}});const ue=R(Fl,[["__scopeId","data-v-adc7c12f"]]),ql=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,o=$(()=>{var c,u;return(u=(c=e.column)==null?void 0:c.params)==null?void 0:u.file}),s=((l=e.column)==null?void 0:l.field)??"",n=$(()=>Y(e.column,e.row)),a=c=>{var f,g,_,v;const u=Ee("rowEdit",!0),i=((f=e.column.params)==null?void 0:f.api)??u,d=((_=(g=e.gridConfig)==null?void 0:g.rowConfig)==null?void 0:_.keyField)??"id",m={[d]:e.row[d],keyField:d,field:(v=e.column)==null?void 0:v.field,value:c};De(i,m,e.xGrid)};return(c,u)=>{const i=ue;return p(),C(i,L({modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=d=>oe(n)?n.value=d:null),file:r(o)},{column:c.column,field:r(s),row:c.row},{"onUpdate:value":a}),null,16,["modelValue","file"])}}}),Ol={key:0,class:"tabs-container"},Hl={class:"tabs-list"},Nl=["onClick"],Wl={class:"pl-1"},zl=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var i;const e=t,o=y();$(()=>o.value.wrapRef);const s=se(),n=Kt(),a=((i=e.tabsConfig)==null?void 0:i.field)??"",l=s==null?void 0:s.query[a],c=$(()=>{var d;return l??((d=e.tabsConfig)==null?void 0:d.active)}),u=d=>{n.push({query:{[a]:d.value}})};return(d,m)=>{var _,v;const f=Z,g=S("el-space");return(v=(_=d.tabsConfig)==null?void 0:_.list)!=null&&v.length?(p(),x("div",Ol,[b("div",Hl,[w(g,null,{default:A(()=>[(p(!0),x(O,null,Q(d.tabsConfig.list,(h,P)=>(p(),x("div",{key:P,class:_e(["item",{active:r(c)===(h==null?void 0:h.value)}]),onClick:E=>u(h)},[h!=null&&h.icon?(p(),C(f,{key:0,icon:h==null?void 0:h.icon},null,8,["icon"])):T("",!0),b("span",Wl,M((h==null?void 0:h.label)??"错误"),1)],10,Nl))),128))]),_:1})])])):T("",!0)}}});const Ql=R(zl,[["__scopeId","data-v-e05c271e"]]),Zl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){const e=Kt(),o=se(),s=n=>{e.push({path:o.fullPath,query:{...o.query,...n.data}})};return(n,a)=>{var c;const l=S("vxeForm");return p(),C(l,{items:n.formScreen.items,data:(c=n.formScreen)==null?void 0:c.data,onSubmit:s},null,8,["items","data"])}}}),Xl=I({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(t){return(e,o)=>{var n,a;const s=ue;return p(),C(s,L({file:((n=e.formRemote)==null?void 0:n.file)||""},{ajaxParams:(a=e.formRemote)==null?void 0:a.ajaxParams}),null,16,["file"])}}}),Gl={class:"form-tabs-container"},Jl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,o)=>{var l,c,u,i;const s=Xl,n=Zl,a=Ql;return p(),x("div",Gl,[(l=e.formRemote)!=null&&l.file?(p(),C(s,q(L({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):T("",!0),(c=e.formScreen)!=null&&c.data?(p(),C(n,q(L({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):T("",!0),(i=(u=e.tabsConfig)==null?void 0:u.list)!=null&&i.length?(p(),C(a,q(L({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):T("",!0)])}}});const Yl=R(Jl,[["__scopeId","data-v-4bb9ed66"]]),Kl=["innerHTML"],ec=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n,a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=(n=e.column)==null?void 0:n.params)==null?void 0:a.props)??{});return(l,c)=>(p(),x("div",L(r(s),{innerHTML:r(o)}),null,16,Kl))}}),tc=I({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,o=$(()=>e.value);return(s,n)=>{const a=S("el-option"),l=S("el-select");return p(),C(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=c=>oe(o)?o.value=c:null),placeholder:"请选择"},{default:A(()=>[(p(!0),x(O,null,Q(s.options,c=>(p(),C(a,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),oc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var a;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((a=e.column)==null?void 0:a.params)??{}),n=l=>{var m,f,g,_;const c=Ee("rowEdit",!0),u=((m=e.column.params)==null?void 0:m.api)??c,i=((g=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:g.keyField)??"id",d={[i]:e.row[i],keyField:i,field:(_=e.column)==null?void 0:_.field,value:l};De(u,d,e.xGrid)};return(l,c)=>{var i,d;const u=tc;return(d=(i=r(s))==null?void 0:i.options)!=null&&d.length?(p(),C(u,L({key:0,value:r(o)},r(s),{onChange:n}),null,16,["value"])):T("",!0)}}}),ac=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o=$(()=>Y(e.column,e.row)),s=n=>{var i,d,m,f;const a=Ee("rowEdit",!0),l=((i=e.column.params)==null?void 0:i.api)??a,c=((m=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:m.keyField)??"id",u={[c]:e.row[c],keyField:c,field:(f=e.column)==null?void 0:f.field,value:n};De(l,u,e.xGrid)};return(n,a)=>{var c,u,i,d,m,f,g,_,v,h,P,E,j,U,k,B,V,H,X,ee,de,ge,Le,Fe;const l=S("el-switch");return p(),C(l,{modelValue:r(o),"onUpdate:modelValue":a[0]||(a[0]=Ye=>oe(o)?o.value=Ye:null),"active-action-icon":((i=(u=(c=n.column)==null?void 0:c.params)==null?void 0:u.checked)==null?void 0:i.icon)??"","active-color":((f=(m=(d=n.column)==null?void 0:d.params)==null?void 0:m.checked)==null?void 0:f.color)??"#13ce66","active-text":(v=(_=(g=n.column)==null?void 0:g.params)==null?void 0:_.checked)==null?void 0:v.text,"active-value":(E=(P=(h=n.column)==null?void 0:h.params)==null?void 0:P.checked)==null?void 0:E.value,"inactive-action-icon":((k=(U=(j=n.column)==null?void 0:j.params)==null?void 0:U.unchecked)==null?void 0:k.icon)??"","inactive-color":((H=(V=(B=n.column)==null?void 0:B.params)==null?void 0:V.unchecked)==null?void 0:H.color)??"#ff4949","inactive-text":(de=(ee=(X=n.column)==null?void 0:X.params)==null?void 0:ee.unchecked)==null?void 0:de.text,"inactive-value":(Fe=(Le=(ge=n.column)==null?void 0:ge.params)==null?void 0:Le.unchecked)==null?void 0:Fe.value,"inline-prompt":"",onChange:s},null,8,["modelValue","active-action-icon","active-color","active-text","active-value","inactive-action-icon","inactive-color","inactive-text","inactive-value"])}}}),nc=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>Y(e.column,e.row)),s=$(()=>{var a;return(a=e.column.params)!=null&&a.options?e.column.params.options[o.value]||"标签错误":"选项错误"}),n=$(()=>{var c;const a=y({style:{},...e.column.params??{}});(c=a.value)!=null&&c.type&&delete a.value.type;const l=$(()=>{var u,i;if((u=e.column.params)!=null&&u.style)return((i=e.column.params)==null?void 0:i.style[o.value])||void 0});return a.value.style=l.value,a.value});return(a,l)=>{const c=S("el-tag");return p(),C(c,q(W(r(n).style)),{default:A(()=>[F(M(r(s)),1)]),_:1},16)}}}),sc={class:"flex"},lc=["href","target"],cc=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var a,l;const e=t,o=$(()=>Y(e.column,e.row)),s=y(((l=(a=e.column)==null?void 0:a.params)==null?void 0:l.props)??{}),n=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.value).then(c=>{});else{const c=document.createElement("input");c.value=o.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}ae("链接复制成功")};return(c,u)=>{var m;const i=Z,d=S("el-button");return p(),x("div",sc,[b("a",{href:r(o),target:r(s).target??"_blank"},M(r(s).text?r(s).text:r(o)),9,lc),(m=r(s))!=null&&m.copy?(p(),C(d,{key:0,type:"primary",size:"small",text:"",onClick:n},{icon:A(()=>[w(i,{icon:"CopyDocument",size:14})]),default:A(()=>[F(" 复制 ")]),_:1})):T("",!0)])}}}),rc={class:"xb-pictuer"},ic={key:0,class:"info"},uc=["innerHTML"],dc=["innerHTML"],pc=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.props)??{}}),s=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.image)??"avatar"}),n=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.title)??"title"}),a=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.desc)??"desc"}),l=$(()=>e.row[s.value]),c=$(()=>e.row[n.value]),u=$(()=>e.row[a.value]);return(i,d)=>{const m=S("el-image");return p(),x("div",rc,[w(m,L({class:"pictuer",src:r(l),"preview-src-list":[r(l)]},r(o)),null,16,["src","preview-src-list"]),r(c)||r(u)?(p(),x("div",ic,[r(c)?(p(),x("div",{key:0,class:"title",innerHTML:r(c)},null,8,uc)):T("",!0),r(u)?(p(),x("div",{key:1,class:"desc",innerHTML:r(u)},null,8,dc)):T("",!0)])):T("",!0)])}}});const mc=R(pc,[["__scopeId","data-v-553e0bc9"]]),_c=(t,e,o,s)=>{if(e.length<=0){D("请先导入数据");return}if(!t){D("请设置导入API接口");return}Se(t,{import:o,data:e}).then(a=>{var l;(l=s.xGrid)==null||l.commitProxy("query"),ae((a==null?void 0:a.msg)??"操作成功")})},fc=t=>{Pe.commands.add("importAllData",{commandMethod:e=>{var a;const{$table:o}=e,s=o==null?void 0:o.getTableData(),n=s==null?void 0:s.fullData;_c(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",n,"all",t)}})},lo=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const o=t,s=y(),n=y(),a=y(),l=y(),c=y([]),u=y([]),i=y([]),d=async()=>{const f=y({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?f.value.params=o.ajaxParams:f.value.data=o.ajaxParams),e("update:init",f.value);const g=`${o.api}Table`;return await G(g,f.value).then(_=>{const v=_.data;a.value=v==null?void 0:v.realTable,l.value=v==null?void 0:v.tabsConfig,n.value=vs(o.api,o.method,v.tableConfig,o.ajaxParams,s.value),c.value=v.topButtonList,u.value=v.rightButtonList,i.value=v.selectButtonList,fc({xGrid:s.value,vxeTableConfig:n.value}),e("update:init-ok",v)}).catch(_=>{e("update:init-error",_)})},m=()=>{var f,g,_;if((f=a.value)!=null&&f.enable&&((g=a.value)!=null&&g.time_interval)){const v=((_=a.value)==null?void 0:_.time_interval)*1e3;setInterval(()=>{var h;(h=s.value)==null||h.commitProxy("reload")},v)}};return re(async()=>{await d(),await m()}),(f,g)=>{var h,P,E,j,U;const _=ds,v=S("vxe-grid");return(h=r(n))!=null&&h.id?(p(),C(v,L({key:0,ref_key:"xGrid",ref:s,class:"xh-table"},r(n),{onEditClosed:g[0]||(g[0]=({column:k,row:B})=>r(rs)(k,B,r(n),r(s)))}),Qe({topButtonList:A(({$grid:k})=>[w(r(al),q(W({gridConfig:r(n),topButtonList:r(c),selectButtonList:r(i),xGrid:k})),null,16)]),rightButtonList:A(({row:k,column:B,$grid:V})=>[w(r(Gs),q(W({gridConfig:r(n),rightButtonList:r(u),row:k,column:B,xGrid:V})),null,16)]),pictuer:A(({row:k,column:B,$grid:V})=>[w(r(mc),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),unit:A(({row:k,column:B,$grid:V})=>[w(_,q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),html:A(({row:k,column:B,$grid:V})=>[w(r(ec),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),remote:A(({row:k,column:B,$grid:V})=>[w(r(ql),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),tags:A(({row:k,column:B,$grid:V})=>[w(r(nc),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),link:A(({row:k,column:B,$grid:V})=>[w(r(cc),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),input:A(({row:k,column:B,$grid:V})=>[w(r(Il),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),InputNumber:A(({row:k,column:B,$grid:V})=>[w(r($l),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),assets:A(({row:k,column:B,$grid:V})=>[w(r(dl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),money:A(({row:k,column:B,$grid:V})=>[w(r(Dl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),image:A(({row:k,column:B,$grid:V})=>[w(r(fl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),images:A(({row:k,column:B,$grid:V})=>[w(r(xl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),photos:A(({row:k,column:B,$grid:V})=>[w(r(Cl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),icons:A(({row:k,column:B,$grid:V})=>[w(r(pl),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),switch:A(({row:k,column:B,$grid:V})=>[w(r(ac),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),select:A(({row:k,column:B,$grid:V})=>[w(r(oc),q(W({gridConfig:r(n),row:k,column:B,xGrid:V})),null,16)]),_:2},[(E=(P=r(n))==null?void 0:P.screenRemote)!=null&&E.file||(U=(j=r(l))==null?void 0:j.list)!=null&&U.length?{name:"form",fn:A(({$grid:k})=>{var B,V,H;return[w(r(Yl),q(W({gridConfig:r(n),xGrid:k,formScreen:{...(B=r(n))==null?void 0:B.formConfig,screenConfig:(V=r(n))==null?void 0:V.screenConfig},formRemote:(H=r(n))==null?void 0:H.screenRemote,tabsConfig:r(l)})),null,16)]}),key:"0"}:void 0]),1040)):T("",!0)}}}),hc={class:"xhadmin-table-pro"},gc=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,o)=>(p(),x("div",hc,[w(r(lo),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const At=R(gc,[["__scopeId","data-v-62ed6f04"]]),vc={class:"xh-modal-container"},yc=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const o=()=>{e("update:close")};return(s,n)=>(p(),x("div",vc,[w(r(ue),{file:s.file,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:close":o},null,8,["file","ajax-params"])]))}});const Ge=R(yc,[["__scopeId","data-v-523e3818"]]),xc={class:"xhadmin-table-pro"},kc=I({name:"/table"}),wc=I({...kc,setup(t){const e=se(),o=e.path,s=e.meta.method,n=e.query??{};return(a,l)=>(p(),x("div",xc,[w(r(lo),{api:r(o),method:r(s),"ajax-params":r(n)},null,8,["api","method","ajax-params"])]))}});const Ac=R(wc,[["__scopeId","data-v-0f9af155"]]),bc=t=>(Be("data-v-c6a4b61a"),t=t(),$e(),t),Cc={class:"xhadmin-page-pro"},Pc={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Ic=bc(()=>b("span",{class:"pl-1 text-[16px]"},"返回",-1)),Bc={key:0,class:"pl-20px text-[16px] select-none"},$c={class:"form-pro flex-1"},Dc=I({name:"/form"}),Ec=I({...Dc,setup(t){const e=se(),o=y(),s=y(),n=e.path,a=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),u=y({submitBtn:{},resetBtn:{}}),i=_=>{var h;const v=(h=_==null?void 0:_.response)==null?void 0:h.extraConfig;u.value=v},d=()=>{o.value.submit()},m=()=>{o.value.reset(),ae("数据重置完成")},f=()=>{s.value.setDisabled(!0)},g=()=>{s.value.setDisabled(!1)};return(_,v)=>{var P,E,j;const h=Z;return p(),x("div",Cc,[(P=r(e).query)!=null&&P.isBack?(p(),x("div",Pc,[b("div",{class:"flex items-center cursor-pointer select-none",onClick:v[0]||(v[0]=(...U)=>r(Ne)&&r(Ne)(...U))},[w(h,{icon:"ArrowLeftOutlined",size:16}),Ic]),(E=r(e).meta)!=null&&E.title?(p(),x("div",Bc,M((j=r(e).meta)==null?void 0:j.title),1)):T("",!0)])):T("",!0),b("div",$c,[w(r(yt),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(n),method:r(a),"ajax-params":r(c),"onUpdate:initOk":i,"onUpdate:submit":f,"onUpdate:submitOk":g,"onUpdate:submitError":g,"onUpdate:restOk":g,"onUpdate:initError":g},null,8,["api","method","ajax-params"])]),w(r(cs),{ref_key:"buttonRef",ref:s,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":d,"onUpdate:rest":m},null,8,["extra-config"])])}}});const Vc=R(Ec,[["__scopeId","data-v-c6a4b61a"]]),Sc={class:"h-100%"},Tc=I({name:"remote"}),jc=I({...Tc,setup(t){const o=se().meta.ajaxParams;return(s,n)=>(p(),x("div",Sc,[w(r(ue),{file:r(o)},null,8,["file"])]))}}),Uc={};function Rc(t,e){return p(),x("div",null," Html内容文件 ")}const Mc=R(Uc,[["render",Rc]]),Lc={class:"h-100%"},Fc=I({name:"remote"}),qc=I({...Fc,setup(t){const e=Ee();return(o,s)=>(p(),x("div",Lc,[w(r(ue),{file:r(e),"is-api":!0},null,8,["file"])]))}}),Oc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Vc,htmlIndex:Mc,remoteIndex:jc,tableIndex:Ac,vueIndex:qc},Symbol.toStringTag,{value:"Module"})),at={routeView:()=>ve(()=>import("./index.38d6d26e.js"),["xbase/js/index.38d6d26e.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"]),exceptionView:()=>ve(()=>import("./exception.4e059a26.js"),["xbase/js/exception.4e059a26.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},Hc=t=>{if(!t)return at.blankView;if(t in at)return at[t];const e=Qr(t??"");return Oc[e]},Nc=t=>{for(const e of t){const o=e.remote,s=o.replace("/","_"),n=()=>We(ue,{file:o});n.displayName=s;const a={path:e==null?void 0:e.path,name:s,component:n,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};z.addRoute(a)}},Wc=t=>{const e=[];for(const o of t)if(o.path){const s={path:`/${o.path}`,name:o.path.replace("/","_"),component:Zt(Hc(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,ajaxParams:o.params},children:[]};(!s.children||s.children.length<1)&&delete s.children,e.push(s)}return e},co=new Map,ro=(t,e,o)=>{var a;const s=[];let n=[];e?n=t.filter(l=>(l==null?void 0:l.pid)===e):n=t.filter(l=>!l.pid);for(const l of n){const c=o?`${o}-${l.id}`:`${l.id}`;let u=`/${l.path}`;if(l!=null&&l.params&&(l!=null&&l.params.includes("group"))){const m=Je(`?${l==null?void 0:l.params}`);u+=`_group=${m==null?void 0:m.group}`}else l!=null&&l.params&&(u+=`_${l==null?void 0:l.params}`);co.set(u,c);const i={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.params,path:l.path,show:(l==null?void 0:l.show)??!0,target:l.target??"_blank",isGroup:!1,children:ro(t,l.id,c)},d=(a=i.children)==null?void 0:a.some(m=>m.show);i.show&&d&&(i.isGroup=!0),s.push(i)}return s},jt=co,zc=y("OS");matchMedia("(prefers-color-scheme: dark)");function Qc(){return{theme:zc}}const le=Nt("user",()=>{const t=je(),e=y({...Dt}),o=y([]),s=y([]),n=y([]),a=y({...ot}),l=h=>{if(!h){D("令牌数据错误","温馨提示");return}h.includes("Bearer")||(h=`Bearer ${h}`),t.value=h},c=h=>{if(!(h!=null&&h.menus)){D("用户信息缺少Menus字段参数");return}if(h.menus instanceof Array&&h.menus.length>0){o.value=Wc(h.menus),n.value=ro(h.menus);const P=h.menus.map(E=>`/${E.path}`);s.value=P}h!=null&&h.theme&&(a.value={...a.value,...h.theme}),e.value=h};return{layoutInfo:a,userInfo:e,Authorization:t,setToken:l,login:async(h,P=!0,E=!0)=>{var B,V,H,X,ee;const U=(V=(B=K().siteInfo)==null?void 0:B.public_api)==null?void 0:V.login;if(!U){D("请配置登录接口");return}const k=await Se(U,h);if(!((H=k==null?void 0:k.data)!=null&&H.access_token)){D("登录错误，没有获取到令牌","温馨提示");return}if(l(k.data.access_token),P&&ae((k==null?void 0:k.msg)??"登录成功","温馨提示"),E){const ge=((X=z.currentRoute.value.query)==null?void 0:X.redirect)??k.data.url;z.push(ge)}return(ee=k==null?void 0:k.data)==null?void 0:ee.access_token},loginOut:()=>{be("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",c({...Dt}),z.push(me)})},getUserInfo:async()=>{var j;const P=(j=K().siteInfo.public_api)==null?void 0:j.user;if(!P){D("请配置用户信息接口");return}const{data:E}=await xe(P);E&&c(E)},permissions:s,routeList:o,menuList:n,setTheme:h=>{a.value.theme=h,Qc().theme.value=h},setLayout:h=>{a.value.layout=h},setLayoutMenu:h=>{a.value.layoutMenu=h},hanldCollapse:h=>{let P=0;h?P=ot.sideWidth:P=a.value.sideMenuWidth,a.value.sideMenuCollapse=h,a.value.sideWidth=P},setLayoutMenuCollapse:()=>{let h=0,P=!1;a.value.sideMenuCollapse?(h=ot.sideWidth,P=!1):(h=a.value.sideMenuWidth,P=!0),a.value.sideMenuCollapse=P,a.value.sideWidth=h}}}),Zc={class:"xhadmin-menus-pro"},Xc=["onClick"],Gc={class:"text"},Jc={key:0,class:"mask"},Yc=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;ke(f=>({"410bcf6a":r(a),"8ce1452e":r(l)}));const o=ye(le()).layoutInfo,s=$(()=>{var f;return((f=o.value)==null?void 0:f.layoutMenu)||"group"}),n=$(()=>{var f;return((f=o.value)==null?void 0:f.layoutTabsTheme)||"radius"}),a=$(()=>`${e.sideWidth}px`),l=$(()=>`${e.sideMenuWidth}px`),c=y(""),u=y(""),i=f=>{c.value=f;const g=c.value.split("-");u.value=g[0]},d=f=>{var v;const g=f[0],_=(v=g==null?void 0:g.children)==null?void 0:v.find(h=>h.show===!0);return g!=null&&g.children&&_?d((g==null?void 0:g.children)??[]):g},m=f=>{var j;const g=(j=f==null?void 0:f.children)==null?void 0:j.find(U=>U.show===!0);let _=f;f!=null&&f.children&&g&&(_=d((f==null?void 0:f.children)??[]));const v=_.path,h=y({});_.ajaxParams&&(h.value=Je(_.ajaxParams));const P=_.activeId;i(P);const E={...h.value};fe(`/${v}`,E)};return re(()=>{i(e.active)}),(f,g)=>{const _=Z,v=S("el-menu");return p(),x("div",Zc,[(p(!0),x(O,null,Q(f.menus,h=>(p(),x("div",{key:h.id,class:"item"},[h.show?(p(),x("div",{key:0,class:_e({"item-triangle":r(n)==="triangle","item-radius":r(n)==="radius",active:r(u)===h.activeId}),onClick:P=>m(h)},[w(_,{icon:h.icon,size:"22",type:(h==null?void 0:h.iconType)||""},null,8,["icon","type"]),b("div",Gc,M(h.title),1),r(n)==="triangle"?(p(),x("div",Jc)):T("",!0)],10,Xc)):T("",!0),b("div",{class:_e(["item-children",{active:r(u)===h.activeId}])},[w(v,{"default-active":f.active,"unique-opened":r(s)==="level"},{default:A(()=>[(p(!0),x(O,null,Q(h.children,P=>(p(),x(O,{key:P.activeId},[r(s)==="level"?(p(),C(Aa,{key:0,"menu-data":P},null,8,["menu-data"])):(p(),C(ht,{key:1,"menu-data":P},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const Kc=R(Yc,[["__scopeId","data-v-88d1763c"]]),Ut="data:image/png;base64,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",er=["src"],tr=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;ke(n=>({"2035992c":r(s)}));const o=$(()=>e.logoSrc?e.logoSrc:Ut),s=$(()=>`${e.logoHeight}px`);return(n,a)=>{const l=S("el-image");return p(),C(l,{src:r(o),class:"logo"},{error:A(()=>[b("img",{src:r(Ut),class:"logo"},null,8,er)]),_:1},8,["src"])}}});const or=R(tr,[["__scopeId","data-v-25a57a60"]]),ar=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,o)=>(p(),x("span",null,M(e.sideName),1))}}),nr={class:"xhadmin-logo-pro"},sr={class:"logo-image"},lr={class:"logo-text"},cr=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;ke(c=>({"17f791e0":r(n),c8e0b0ea:r(l),"516e1642":r(a)}));const o=le(),{layoutInfo:s}=ye(o),n=$(()=>`${e.sideWidth}px`),a=$(()=>`${e.sideMenuWidth}px`),l=$(()=>`${e.headerHeight}px`);return(c,u)=>(p(),x("div",nr,[b("div",sr,[w(or,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),ze(b("div",lr,[w(ar,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[Gt,!r(s).sideMenuCollapse]])]))}});const rr=R(cr,[["__scopeId","data-v-10c86653"]]),ir=I({__name:"index",setup(t){const e=se(),o=()=>`${new Date().getTime()}${Math.random()}`,s=y("");return Yt(()=>e.fullPath,()=>{s.value=o()}),(n,a)=>{const l=S("router-view");return p(),C(l,{key:r(s)})}}}),Rt="2kxPLLhPzHvGV679nhjvx+7/Q6ejL3e/AUj0GGpKBzYMdXt7w3JImKWHUvOxWRwpxFrLh3DdPakGMtK5kIH+/G8LI/FGqrN3Ki2UpfG4d4dcs8WaQcZFAzQO9pYogwPcVaQDdXPcVbujAoEL7NAXDw4HgorRNyA3p+0+zVy/s/lADXLyXHNfsen/btV61qzfvD3EetLa/9wJHUvnL4+UHU6j/sZU7PxkxkVmbJxFcMBmZvJ0Ye7+ruLcfQPV7f8fbm7W/cMQGEFVxRsi73EyRrMT6zU9NnnuVW7MhC09yAZxFqLvsHCqu+qbh+V2y4X7zEdbUw2iDEfc+z/bSAPtsg==EmuytNQXOysbgaAl6gv2eTR/RPp3d3s+9M8/P6Up6GiCoNHNoYhhokC1L8m38Dp/tqElx+t1zbjQ05edoeC2FuYtR670VhtJ43+d6IW31l0VJiUlspqOxDNYEM6Svp9QR/68LOywfXSSrnO107+VifdaDA2pnc6+XLkIczMCAA5+ZPzGc8asiGUAPHXjGpOId7AE/x1owdIvWKKwcNitnAMbrw/Z8WHaL8VIxQo1Yd+AMqyH28iffk51OzwCO0X7WU1u6BWRcvshdOCVlT15J8//cqCskRcVxXZ70x7lj14biLzkrCpILzV7dcMzOYzT+/XtTIegCc9hCIPWoHuGxQ==kGlzZmVLYqKBkDfhdOclX966XBaO2tuC/1eFi7AsXwyb9x5qQYfF3WUR8h3tBcK3XcFtTu667R+vMD+N2CUye0hm0ZdxZmWC82qiieyVQfpqKyyTWfXjL0u1bBz0I10iKkmBfz2N4UP+oEzXA8PFldRrpJXWHayhbYpCN7xl30tNLdT19xqClThF5qHl1gOdMR/pZby5ZFYav+lDfzNO2RT2xVG5Xv06ScgsxLy4chNPJNL9FzlA4Pww+HvpdAm6FLFx2JqRUkonVGrrSn96ZHQdRqMQNUAi8M2JZC/0HWpnZXFPX6CY6y+9q+e3BuWjDMN+Mkf/RrYo2mlqWZHP3g==",Mt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDugQywjOCeu+GQ
b3/KAFUSrU7YXw23WBNo9c6aNsIu2JkEGWiXSWMlJ+QYVlGU+zTeiJbb3EK6r8/W
COarDDC92Qfbr3vztUG4vPbBYPewxaMrjCfbJ/9iut+Xjzd5Cci+FiD+Hcjne7wt
pYUmiOV2e0JpWX9OyI3QY+MkhddLaWHvzoJfxBf1vwDbBZbDME/byk4Zm5h7davE
rgFngEC1BoOqUn9T25thaYIa+oLq5jenkKVx0ztVe4sf/XxG18L7ZFuzYRR5kJ4o
VJfSwj3pwOWkvdLSyj72MtrR+9kvRfXpgB5Zcrp4UN7Gw4aU+cLcSwm6ZpsU4+8c
2oVCBpe9AgMBAAECggEAcueti2lz1kXCOGnfcRyT3/mrIMc6vngqccjrDpUPHK6x
ma38G9b5cy8yzx7XEyWrpQK9W5NUesi1IvMK3qFy4iQriwWSfCl5Tl2LrELhUkMF
h7dwhD9S5OgPTN9s5F14X0wd/Q+weQW99WfnLFeL5Xcg2cyKbxRkbl+RUUlCHkvr
ET0jBt6VhxvbDIncPWCmSqiZGLPw3ER6Ibl/HugIFh/bhC0dg4CIbL0tuZ4L8xXW
rbPBgOQuz5kNOkxvZrIbYfQxvAJ4TMKOV5ZW94AF4JJk+uAGOQJHvgyxLc/X/hY2
Yv7p+MTL0g0INvgdD3i2Ya9QKPL9bQ2RY3jVerK3qQKBgQD3TpDZlRcxqb+PhHlp
HA+wp1tDrs4qH0oD/y8/Mq700LUF0sLB8wViW6SMiCvCtDeLkns4FnxCU/qSQhzR
bA+2yOSeojPSWA8Ro1hY3j9HG6e7U3Pm42bijxEvUrApXquE+ozKjCoa4e8s64mv
iEStcT+qa1edUsCZkvhMLOUt/wKBgQD240UubTn5d23OguP/SBhe5fU6ofXghKJu
8wxuCuwwxxThKftNWqAxKerzBWg0hVjkYzl3HQ6er2uPfCnaIYThgBhp3J6Wq6Rj
TCz0M4S4bxp/psEl5gLi+cjMBa881CL9vgRD3UAGMdHwWjGNsUBtiC/Tq/t/KSIZ
IESUrHByQwKBgDYDuOts/tXgB3DnNEVa1ap1wx8zTOAyWU4qLD2XalMaSo9tCxCl
baWf8n6nNzedeQxJABSuBJHQGchcHEM5YO1BT32+W6cziIcHsEIouJVlWus1PPlO
7afKK6y0WLmQbdHrj1il6IRamIytHTNzhdyEAa3NKCO6cUqZqRWqMJwtAoGBALr1
vmT7CAUXYMsbKcce9H2gzMUa8xSTvGIiog4PLW9+wxwD669XaqnwYWCpfpEPThKd
5V2DXpfipaRh1Vu/OF5/330DOgFFd9ZOUFiZTu9QC5QRVoD5nsP9fgaqY1rAFsNq
itZNjPdj8OR/mLkBOpX3pKg5u9k+7/hxDB4+O2T7AoGAQCR0OOo7nGPTkqaId6xr
BpV/E09Z0jTrHd5j+su+nr6FM6aI2M83cxAehIJPlse3/Hua7TsQF91aXj7ZQaSq
cQGxYwuMp2MqT9v0s+YNQXBf3jUN6ThNpLTD5bKRTkYEaWcDVz/3zeM06I6OEdGj
MVh0HnBnhXGwbxu2+RDp83c=
-----END PRIVATE KEY-----`,Lt=window.location.hostname,nt=(t,e)=>{const o=new Ko;o.setPrivateKey(e);const s=t.match(/.{1,344}/g);if(!s)throw new Error("令牌表单解密失败");let n="";if(s==null||s.forEach(a=>{const l=o.decrypt(a);l&&(n+=l)}),!n)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(n),a=>a.charCodeAt(0))))},ur=()=>{const e=K().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const o=nt(e.empower_token,e.empower_private_key);return console.log("当前域名",Lt),o.systemUrl.includes(Lt)||o!=null&&o.isChannels?(console.log("使用自定义版权"),console.log("版权数据",o),o):(console.log("使用原生版权"),nt(Rt,Mt))}catch(o){console.error("服务端授权失败",o)}try{return nt(Rt,Mt)}catch(o){console.error("系统授权错误",o)}},io=()=>{const e=K().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},dr={class:"copyright-set"},pr={key:0},mr=["href"],_r=["href"],fr=I({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:o,systemName:s,systemUrl:n}=ur(),{version_name:a}=io(),l=window.location.protocol;return(c,u)=>(p(),x("div",dr,[F(" copyright © 2023 "),r(o)==="#"?(p(),x("span",pr,M(r(e)),1)):(p(),x("a",{key:1,href:`${r(l)}//${r(o)}`,target:"_blank",class:"pl-10px"},M(r(e)),9,mr)),F(" All Rights Reserved "),b("a",{href:`${r(l)}//${r(n)}`,target:"_blank",class:"pl-10px"},M(r(s))+" "+M(r(a)),9,_r)]))}});const hr=R(fr,[["__scopeId","data-v-448a4e9c"]]),gr={class:"flex items-center"},vr={class:"xhadmin-header-breadcrumb"},yr=I({__name:"side",setup(t){K();const e=le(),{layoutInfo:o}=ye(e);return(s,n)=>{const a=Z;return p(),x("div",gr,[b("div",vr,[b("div",{class:"side-action",onClick:n[0]||(n[0]=l=>r(e).setLayoutMenuCollapse())},[w(a,{icon:r(o).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])])])}}});const xr=R(yr,[["__scopeId","data-v-738820b2"]]),kr={class:"xh-dropdown-link"},wr={class:"text"},Ar=I({__name:"index",setup(t){const e=K(),o=le(),{userInfo:s}=ye(o),n=()=>{var c,u;if(!((c=e.siteInfo.public_api)!=null&&c.user_edit_path)){be("当前系统未开启个人资料修改功能","温馨提示");return}fe((u=e.siteInfo.public_api)==null?void 0:u.user_edit_path)},a=()=>{o.loginOut()},l=c=>{switch(c){case"hanldProfile":n();break;case"loginout":a();break}};return(c,u)=>{const i=Z,d=S("el-dropdown-item"),m=S("el-dropdown-menu"),f=S("el-dropdown");return p(),C(f,{class:"xh-dropdown",onCommand:l},{dropdown:A(()=>[w(m,null,{default:A(()=>[w(d,{command:"hanldProfile"},{default:A(()=>[F(" 个人中心 ")]),_:1}),w(d,{command:"loginout"},{default:A(()=>[F(" 退出登录 ")]),_:1})]),_:1})]),default:A(()=>{var g;return[b("div",kr,[b("span",wr,M((g=r(s))==null?void 0:g.nickname),1),w(i,{icon:"ArrowUp",size:14})])]}),_:1})}}});const br=R(Ar,[["__scopeId","data-v-b5fc1598"]]),Cr={class:"flex-1 flex items-center justify-end"},Pr=I({__name:"tools",setup(t){var s;const o=((s=K().siteInfo.public_api)==null?void 0:s.header_file)??"";return(n,a)=>(p(),x("div",Cr,[r(o)?(p(),C(r(ue),{key:0,file:r(o)},null,8,["file"])):T("",!0),w(br)]))}}),Ir={class:"flex justify-between"},Br=I({__name:"index",setup(t){return(e,o)=>(p(),x("div",Ir,[w(xr),w(Pr)]))}});const $r={class:"xhadmin-mix-layout"},Dr={class:"xhadmin-header-pro"},Er={class:"xhadmin-main-pro"},Vr={class:"xhadmin-side-pro"},Sr={class:"xhadmin-content-pro"},Tr={class:"xhadmin-content pt-4 pl-4 pr-4"},jr={class:"xhadmin-copyright-pro"},Ur=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;ke(n=>({fc52b88e:r(o),"4b67b472":r(s)}));const o=$(()=>`${e.headerHeight}px`),s=$(()=>e.sideWidth);return(n,a)=>(p(),x("div",$r,[b("div",Dr,[w(rr,{"header-height":n.headerHeight,"side-width":n.sideWidth,"logo-src":n.sideLogo,"side-name":n.sideName,"logo-height":n.logoHeight,"side-menu-width":n.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),w(Br,{class:"xhadmin-toolbar"})]),b("div",Er,[b("div",Vr,[w(Kc,{"side-width":n.sideWidth,"side-menu-width":n.sideMenuWidth,active:n.active,menus:n.menus},null,8,["side-width","side-menu-width","active","menus"])]),b("div",Sr,[b("div",Tr,[w(ir)]),b("div",jr,[w(hr)])])])]))}});const Rr=R(Ur,[["__scopeId","data-v-46242c7f"]]);const Mr=()=>{const t=se(),e=rt({active:""}),o=s=>{let n=jt.get(s);n||(n=jt.get(to)),e.active=n??""};return Yt(()=>t.fullPath,()=>{var n,a,l,c;let s="";(n=t==null?void 0:t.query)!=null&&n.group&&((a=t==null?void 0:t.meta)!=null&&a.ajaxParams.includes("group"))?s=`${t.path}_group=${(l=t.query)==null?void 0:l.group}`:(c=t==null?void 0:t.meta)!=null&&c.ajaxParams&&!s?s=`${t.path}_${t.meta.ajaxParams}`:s=(t==null?void 0:t.path)??"",o(s)}),{...So(e),updateActive:o}},[Lr,Fr]=Zo(Mr),qr=()=>Fr()??{active:y(""),updateActive:()=>{}},Or=I({__name:"index",setup(t){const e=K(),o=le(),{active:s}=qr(),{layoutInfo:n}=ye(o),a=e.siteInfo,l=o.menuList;return(c,u)=>{var i,d;return r(n).layout==="mix"?(p(),C(r(Rr),{key:0,"header-height":r(n).headerHeight,"side-width":r(n).sideWidth,"side-menu-width":r(n).sideMenuWidth,"side-logo":(i=r(a))==null?void 0:i.web_logo,"side-name":(d=r(a))==null?void 0:d.web_name,"logo-height":r(n).logoHeight,active:r(s),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):T("",!0)}}}),Hr={path:"/",name:"default-router",component:Or,redirect:to,children:[]},Nr=[{path:"/workspace/exception",name:"workspaceException",component:()=>ve(()=>import("./index.9543594b.js"),["xbase/js/index.9543594b.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"]),meta:{title:"出现错误啦~"}}],Wr=[{...Hr,children:[...Nr]},{path:"/login",name:"Login",component:()=>ve(()=>import("./index.f16cac8d.js"),["xbase/js/index.f16cac8d.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css","xbase/css/index.28c3be35.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>ve(()=>import("./index.7c9bd043.js"),["xbase/js/index.7c9bd043.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/vue-router.f33345e1.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>ve(()=>import("./index.9543594b.js"),["xbase/js/index.9543594b.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])},{path:"/:pathMatch(.*)",component:()=>ve(()=>import("./index.9543594b.js"),["xbase/js/index.9543594b.js","xbase/js/vue.0ccd830b.js","xbase/js/@vue.eb378115.js","xbase/js/vue-router.f33345e1.js","xbase/js/pinia.b8763cbb.js","xbase/js/vue-demi.0e50ee38.js","xbase/js/element-plus.e83340c7.js","xbase/js/lodash-es.36eb724a.js","xbase/js/@vueuse.af8a6820.js","xbase/js/@element-plus.7ed7787a.js","xbase/js/@sxzz.c75af06c.js","xbase/js/@ctrl.f8748455.js","xbase/js/dayjs.57387eb1.js","xbase/js/async-validator.dee29e8b.js","xbase/js/memoize-one.297ddbcb.js","xbase/js/escape-html.73d2b788.js","xbase/js/normalize-wheel-es.ed76fb12.js","xbase/js/@floating-ui.d10d3e5d.js","xbase/css/element-plus.eca29ec9.css","xbase/js/vxe-table.081b4fc5.js","xbase/js/xe-utils.023f6b2e.js","xbase/js/@wangeditor.4349ada4.js","xbase/css/@wangeditor.501cf061.css","xbase/js/@vicons.ae06c95f.js","xbase/js/@form-create.27caaeab.js","xbase/js/highlight.js.c00af322.js","xbase/css/highlight.5687ac7b.css","xbase/js/axios.4a70c6fc.js","xbase/js/dplayer.255caa4f.js","xbase/js/echarts.4475d7d7.js","xbase/js/tslib.54e39b60.js","xbase/js/zrender.122a678c.js","xbase/js/less.f5bc21e0.js","xbase/js/xlsx.04f2268f.js","xbase/js/jsencrypt.a25df808.js","xbase/js/nprogress.680a5b68.js","xbase/css/nprogress.771398e6.css"])}],zr=Uo({routes:[...Wr],history:Ro("/")}),z=zr,Me=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ee=(t="",e=!1)=>{const o=z.currentRoute.value,s=Me(),n=y(o.path);if(e){const a=n.value.indexOf("/",1);n.value=n.value.substring(0,a),n.value=`${n.value}/`}return`${s}${n.value}${t}`},bt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},fe=(t,e)=>{bt(t)?location.href=t:z.push({path:t,query:e})};function st(t=6){let e="";for(let o=0;o<t;o++)e+=Math.floor(Math.random()*10);return e}const pt=(t,e)=>{for(const o in e)if(e[o]===t)return!0;return!1},Ne=()=>{var e;(e=z.currentRoute.value.query)!=null&&e.isBack||D("返回上次页面错误"),z.back()},Qr=t=>t.replace(/\/(\w)/g,(e,o)=>o.toUpperCase()),Zr=(t,e="Enter")=>{const o=s=>{s.key===e&&(t(),s.preventDefault())};To(()=>document.addEventListener("keydown",o)),Xt(()=>document.removeEventListener("keydown",o))},Je=t=>{let e;const o={},s=t.slice(t.indexOf("?")+1).split("&");for(let n=0;n<s.length;n++)e=s[n].split("="),o[e[0]]=e[1];return o},Xr=t=>{const e=new URLSearchParams;for(const[s,n]of Object.entries(t))e.append(s,n);return e.toString()},Gr=()=>window.location.origin,K=Nt("app",()=>{const t=Me(),o=`${t?`/${t}`:""}/Index/site`,s=y({...ya}),n=y(),a=u=>{s.value=u};return{siteInfo:s,getSite:async()=>{const{data:u}=await xe(o);return a(u),u},setSiteInfo:a,setLoginLink:u=>{n.value=u}}}),Jr=async t=>{var s;const e=K().siteInfo,o=((s=e==null?void 0:e.uploadify_api)==null?void 0:s.index)||"";return await xe(o,t).then(n=>n==null?void 0:n.data)},Yr=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.edit;if(!o)return D("请先配置附件修改接口"),!1;const s=y();return await Ae(va,{modelValue:t,"onUpdate:init":a=>{s.value=a}},{title:"修改附件",customStyle:{width:"450px",height:"500px"},beforeClose:(a,l,c)=>{var u;a==="confirm"?(u=s.value)!=null&&u.getFormData()&&c():c()}}).then(()=>{var l;const a=(l=s.value)==null?void 0:l.getFormData();if(a)return Se(`${o}?id=${t==null?void 0:t.id}`,a).then(c=>{ae((c==null?void 0:c.msg)||"修改成功")})})},Kr=async t=>{var n;const e=K().siteInfo,o=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.del;if(!o)return D("请先配置文件删除接口"),Promise.reject(new Error("请先配置文件删除接口"));if(t.length<=0)return D("请选择需要删除的文件"),Promise.reject(new Error("请选择需要删除的文件"));const s={ids:t.map(a=>a.id)};return await be("是否确认删除选中的文件？","温馨提示","error").then(()=>ut(o,s).then(a=>{ae((a==null?void 0:a.msg)||"删除成功")}))},ei={class:"uploadify-modal"},ti={class:"category-container"},oi={class:"category-title"},ai={class:"title"},ni=b("span",null,"文件类型",-1),si={class:"category-content"},li=["onClick"],ci={class:"title"},ri={class:"content-container"},ii={class:"action-box"},ui={class:"action"},di={class:"upload"},pi={key:0,class:"content-box"},mi=["onClick"],_i={key:1,class:"preview"},fi={key:2,class:"preview"},hi={key:3,class:"preview"},gi={class:"mask"},vi={key:1,class:"empty-box"},yi={key:2,class:"paginate-box"},uo=I({__name:"modal",props:{type:{},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:init","update:type"],setup(t,{expose:e,emit:o}){var Ct;const s=t,n=Ie(),a=K().siteInfo,l=je(),c=y(),u=y({background:!0,layout:"prev, pager, next, jumper",total:0}),i=y({page:1,limit:20}),d=y(s.type),m=y(Oe(d.value)),f=y(Oe(d.value,".")),g=y([]),_=y(!1),v=y([]),h=y([]),P=(Ct=a.uploadify_api)==null?void 0:Ct.upload,E=y({[gt]:l.value||"",ACCEPT:"application/json"}),j=y({action:`${vt}${P}`,data:{suffix:m.value},accept:f.value,headers:E.value,multiple:!0,withCredentials:!0,showFileList:!1}),U=async()=>{const N={page:i.value.page,limit:i.value.limit,suffix:m.value};return await Jr(N).then(te=>{h.value=(te==null?void 0:te.data)||[],u.value.total=(te==null?void 0:te.total)||0})},k=()=>{i.value.page=1,i.value.limit=20,h.value=[],g.value=[],v.value=[]},B=()=>{_.value=!1,v.value=[]},V=()=>{v.value.length===h.value.length?v.value=[]:v.value=[...h.value]},H=N=>{k(),d.value=N,m.value=Oe(N),f.value=Oe(N,"."),j.value.data.suffix=m.value,j.value.accept=f.value,U()},X=()=>g.value,ee=N=>{_.value?v.value.includes(N)?v.value.splice(v.value.indexOf(N),1):v.value.push(N):s.selectLimit===1?g.value[0]=N:g.value.includes(N)?g.value.splice(g.value.indexOf(N),1):(s.selectLimit===0||g.value.length<s.selectLimit)&&g.value.push(N)},de=N=>{Yr(N).then(()=>{U()})},ge=N=>{let te=v.value;N&&(te=[N]),Kr(te).then(pe=>{k(),U(),v.value=[],_.value=!1})},Le=N=>{i.value.page=N,U()},Fe=()=>{c.value=Re("上传中...")},Ye=async N=>{k(),i.value.page=1,c.value&&c.value.close(),U(),ae((N==null?void 0:N.msg)||"上传成功")},po=()=>{ta("暂未开放")},mo=()=>{k(),i.value.page=1,c.value&&c.value.close(),U(),D("上传失败")};return e({getSelected:X}),re(async()=>{await U(),o("update:init",n.exposed)}),(N,te)=>{const pe=Z,Ce=S("el-button"),_o=S("el-upload"),fo=S("el-image"),ho=S("el-text"),go=S("el-empty"),vo=S("el-pagination");return p(),x("div",ei,[b("div",ti,[b("div",oi,[b("div",ai,[w(pe,{icon:"Folder",size:18}),ni])]),b("div",si,[(p(!0),x(O,null,Q(r(ft),(J,Ke)=>(p(),x("div",{key:Ke,class:_e(["item",{active:J.type===r(d)}]),onClick:et=>H(J.type)},[b("div",ci,[w(pe,{icon:"Folder",size:17}),b("span",null,M(J.title),1)])],10,li))),128))])]),b("div",ri,[b("div",ii,[b("div",ui,[r(_)?T("",!0):(p(),C(Ce,{key:0,type:"primary",onClick:te[0]||(te[0]=J=>_.value=!0)},{default:A(()=>[F(" 管理 ")]),_:1})),r(_)?(p(),C(Ce,{key:1,type:"primary",onClick:B},{default:A(()=>[F(" 退出 ")]),_:1})):T("",!0),r(_)?(p(),C(Ce,{key:2,type:"info",onClick:V},{default:A(()=>[F(" 全选 ")]),_:1})):T("",!0),r(_)?(p(),C(Ce,{key:3,type:"danger",onClick:te[1]||(te[1]=J=>ge())},{default:A(()=>[F(" 删除 ")]),_:1})):T("",!0)]),b("div",di,[w(Ce,{type:"primary",class:"special",onClick:po},{default:A(()=>[F(" 大文件上传 ")]),_:1}),w(_o,L({class:"ordinary"},r(j),{"before-upload":Fe,"on-success":Ye,"on-error":mo}),{default:A(()=>[w(Ce,{type:"success"},{default:A(()=>[F(" 普通上传 ")]),_:1})]),_:1},16)])]),r(h).length?(p(),x("div",pi,[(p(!0),x(O,null,Q(r(h),(J,Ke)=>(p(),x("div",{key:Ke,class:_e(["item",{active:!r(_)&&r(g).includes(J),"active-warning":r(_)&&r(v).includes(J)}]),onClick:et=>ee(J)},[r(Ve)("image",J.format)?(p(),C(fo,{key:0,src:J.url,fit:"cover",class:"image"},null,8,["src"])):r(Ve)("video",J.format)?(p(),x("div",_i,[w(pe,{icon:"Document",size:42})])):r(Ve)("doc",J.format)?(p(),x("div",fi,[w(pe,{icon:"Document",size:42})])):r(Ve)("zip",J.format)?(p(),x("div",hi,[w(pe,{icon:"Document",size:42})])):T("",!0),b("div",gi,[w(pe,{icon:"EditFilled",title:"编辑附件",size:16,onClick:et=>de(J)},null,8,["onClick"]),w(pe,{icon:"DeleteFilled",title:"删除附件",size:16,onClick:et=>ge(J)},null,8,["onClick"])]),w(ho,{class:"title",truncated:""},{default:A(()=>[F(M(J.title),1)]),_:2},1024)],10,mi))),128))])):(p(),x("div",vi,[w(go,{description:"当前没有更多附件"})])),r(h)?(p(),x("div",yi,[w(vo,L(r(u),{"default-page-size":r(i).limit,onCurrentChange:Le}),null,16,["default-page-size"])])):T("",!0)])])}}});class xi{constructor(){qe(this,"title","");qe(this,"iconSvg","");qe(this,"tag","");this.title="选择附件",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(e){return""}isActive(e){return!1}isDisabled(e){return!1}exec(e,o){const s=y();Ae(uo,{type:"image",selectLimit:10,uploadLimit:10,"onUpdate:init":n=>{s.value=n}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(n,a,l)=>{var c;if(n==="confirm"){const u=(c=s.value)==null?void 0:c.getSelected();if(u.length){const i=u.map(m=>m==null?void 0:m.url);let d="";i.forEach(m=>{tt("image",m)?d+=`<img src="${m}" />`:tt("video",m)?d+=`<video src="${m}" controls="controls" />`:tt("audio",m)?d+=`<audio src="${m}" controls="controls" />`:d+=`<a href="${m}">${m}</a>`}),e.dangerouslyInsertHtml(d),l()}else D("请选择文件")}else l()}})}}const ki=I({__name:"index",setup(t){const e=y("zh-cn"),o=$(()=>e.value==="zh-cn"?Co:Po),s=rt({autoInsertSpace:!1}),n=rt({max:1});return(a,l)=>{const c=S("router-view"),u=S("el-config-provider");return p(),C(u,{button:r(s),message:r(n),locale:r(o)},{default:A(()=>[w(c)]),_:1},8,["button","message","locale"])}}}),wi=I({__name:"App",setup(t){const e={key:"xhUploadify",factory(){return new xi}};return Eo.registerMenu(e),Lr(),(o,s)=>(p(),C(ki))}}),Ai=t=>{let e="",o=0;t=(t||0).toString();for(let s=t.length-1;s>=0;s--)o++,e=t.charAt(s)+e,!(o%3)&&s!==0&&(e=`,${e}`);return e},Ft=(t,e,o,s)=>{let n;const a=o-e;function l(c){n||(n=c);const u=c-n,i=Math.min(u/s,1),d=e+Math.floor(i*a);d>999&&t.dataset.numberScrollThousandsOff===void 0?t.innerHTML=Ai(d):t.innerHTML=d.toString(),u<s&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},bi={mounted(t,e,o){const{value:s}=e,n=parseFloat(t.dataset.numberScrollValue??"0"),a=s?parseFloat(s.toString()):0,l=parseInt(t.dataset.numberScrollDuration??"1000");Ft(t,n,a,l),t.dataset.numberScrollValue=a.toString()},updated(t,e){if(t.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:o}=e,s=parseFloat(t.dataset.numberScrollValue??"0"),n=o?parseFloat(o.toString()):0,a=parseInt(t.dataset.numberScrollDuration??"1000");n!==s&&(Ft(t,s??0,o,a),e.modifiers.once&&(t.dataset.numberScrollOnceExecuted="true")),t.dataset.numberScrollValue=n.toString()}};function Ci(t){t.directive("number-scroll",bi)}_t.configure({easing:"ease",speed:500,showSpinner:!0,trickleSpeed:200,minimum:.3});const He=y([...wa]),qt=y(!1),Ot=y(!1);z.beforeEach(async(t,e,o)=>{_t.start();const s=je(),n=K(),a=ye(n);if(a.siteInfo.value.web_name||await n.getSite(),a.siteInfo.value.login_link&&n.setLoginLink(a.siteInfo.value.login_link),a.siteInfo.value.remote_url&&!qt.value){const u=a.siteInfo.value.remote_url;Nc(u);const i=u.map(d=>d.path??"");i.length&&(He.value=[...He.value,...i]),qt.value=!0,o({...t,replace:!0});return}const l=le(),c=ye(l);if(!Ot.value&&s.value){await l.getUserInfo();const u=c.routeList.value;u.length===0&&(s.value="",D("您没有任何权限"),o({path:me,replace:!0})),u.forEach(i=>{z.addRoute("default-router",i)}),Ot.value=!0,o({...t,replace:!0});return}if(!s.value&&!He.value.includes(t.path)){o({path:me,query:{redirect:t.path}});return}if(!s.value&&t.path!==me&&!He.value.includes(t.path)){o({path:me});return}o()});z.afterEach(t=>{var l,c;const{version_name:e}=io(),s=((l=K().siteInfo)==null?void 0:l.web_name)||"xBase-Admin",n=`${s} ${e}`,a=(c=t.meta)==null?void 0:c.title;a?document.title=`${a} - ${n}`:s&&(document.title=n),_t.done()});const Pi={mounted(t,e){const{value:o}=e,n=le().permissions;o instanceof Array&&o.length?o.every(l=>n.includes(l))||t.remove():n.includes(o)||t.remove()}},Ii={mounted(t,e){t.copyData=e.value,t.addEventListener("click",Bi)},updated(t,e){t.copyData=e.value},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}};async function Bi(){try{await navigator.clipboard.writeText(this.copyData),Wt({type:"success",message:"复制成功"})}catch(t){console.error("复制操作不被支持或失败: ",t)}}const $i=(t,e,o,s)=>{const n=document.createElement("canvas");e.appendChild(n),n.width=205,n.height=140,n.style.display="none";const a=n.getContext("2d");a.rotate(-20*Math.PI/180),a.font=o||"16px Microsoft JhengHei",a.fillStyle=s||"rgba(180, 180, 180, 0.3)",a.textAlign="left",a.textBaseline="Middle",a.fillText(t,n.width/10,n.height/2),e.style.backgroundImage=`url(${n.toDataURL("image/png")})`},Di={mounted(t,e){$i(e.value.text,t,e.value.font,e.value.textColor)}},Ei={mounted(t){t.style.cursor="move",t.style.position="absolute",t.onmousedown=function(e){const o=e.pageX-t.offsetLeft,s=e.pageY-t.offsetTop;document.onmousemove=function(n){let a=n.pageX-o,l=n.pageY-s;const c=t.parentNode.offsetWidth-t.offsetWidth,u=t.parentNode.offsetHeight-t.offsetHeight;a<0?a=0:a>c&&(a=c),l<0?l=0:l>u&&(l=u),t.style.left=`${a}px`,t.style.top=`${l}px`},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},Vi={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;t.__handleClick__=function(){o&&clearInterval(o),o=setTimeout(()=>{e.value()},500)},t.addEventListener("click",t.__handleClick__)},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}},Si={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;t.__handleClick__=function(){o&&clearTimeout(o),t.disabled||(t.disabled=!0,e.value(),o=setTimeout(()=>{t.disabled=!1},1e3))},t.addEventListener("click",t.__handleClick__)},beforeUnmount(t){t.removeEventListener("click",t.__handleClick__)}},Ti={mounted(t,e){if(typeof e.value!="function")throw"callback must be a function";let o=null;const s=l=>{l.button&&l.type==="click"&&l.button!==0||o===null&&(o=setTimeout(()=>{a(l)},1e3))},n=()=>{o!==null&&(clearTimeout(o),o=null)},a=l=>{e.value(l)};t.addEventListener("mousedown",s),t.addEventListener("touchstart",s),t.addEventListener("click",n),t.addEventListener("mouseout",n),t.addEventListener("touchend",n),t.addEventListener("touchcancel",n)}},Ht={auth:Pi,copy:Ii,waterMarker:Di,draggable:Ei,debounce:Vi,throttle:Si,longpress:Ti},ji={install(t){Object.keys(Ht).forEach(e=>{t.directive(e,Ht[e])})}},Ui=t=>{t.use(Pe),t.config.globalProperties.$XModal=Pe.modal,t.config.globalProperties.$XPrint=Pe.print,t.config.globalProperties.$XSaveFile=Pe.saveFile,t.config.globalProperties.$XReadFile=Pe.readFile},Ri=ko(),he=jo(wi);Ui(he);he.use(Ri);he.use(z);he.use(Io);he.use(ji);he.use(Ci);he.mount("#app");so.vue=he;export{R as _,K as a,Zr as b,hr as c,Z as d,ue as e,je as f,wt as g,ir as h,me as l,fe as o,le as u};
