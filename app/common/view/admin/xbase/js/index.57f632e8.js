var ha=Object.defineProperty;var ga=(t,e,a)=>e in t?ha(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Fe=(t,e,a)=>(ga(t,typeof e!="symbol"?e+"":e,a),a);import{d as P,c as $,E as st,N as lt,r as T,o as p,a as C,w,b as Ot,u as r,e as va,g as Pe,f as y,h as ce,i as x,j as b,k as A,p as Ie,l as Be,t as R,F as q,m as W,n as j,q as F,s as ya,H as Ct,v as xa,x as ka,y as Aa,z as wa,A as ba,B as Ca,C as Pa,D as te,G as me,I as ne,J as ze,K as L,L as Ht,M as ve,O as Nt,P as zt,T as Ia,Q as Ba,R as $a,S as Va,U as Sa,V as se,W as Qt,X as pt,Y as Pt,Z as le,_ as Da,$ as Ta,a0 as Ea,a1 as ja,a2 as Wt,a3 as Zt,a4 as Qe,a5 as O,a6 as It,a7 as z,a8 as Ua,a9 as Ra,aa as Ma,ab as La,ac as Gt,ad as Ce,ae as Xt,af as he,ag as Jt,ah as qa,ai as Fa,aj as ct,ak as Oa,al as Ha,am as Na,an as za,ao as Qa,ap as Wa,aq as Za,ar as Yt,as as Ga,at as Xa,au as Ja}from"./.pnpm.a5146d4c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const mt=[{title:"图片类型",type:"image",format:"jpg,jpeg,png,gif"},{title:"视频类型",type:"video",format:"mp4,avi,rmvb,mkv,flv"},{title:"文档类型",type:"doc",format:"doc,docx,xls,xlsx,ppt,pptx,pdf,txt"},{title:"音频类型",type:"audio",format:"mp3,wav,flac,ape,alac"},{title:"压缩包类",type:"zip",format:"zip,rar,7z,tar,gz,bz2"}],Oe=(t,e="")=>{var s;const a=(s=mt.find(n=>n.type===t))==null?void 0:s.format;if(!a)return"";if(e){const n=a.split(",");return n.forEach((o,l)=>{n[l]=`${e}${o}`}),n.join(",")}return a},Ya=t=>{var a;const e=(a=mt.find(s=>s.type===t))==null?void 0:a.format;return e?e.split(","):null},De=(t,e)=>{const a=Ya(t);return a?a.includes(e):!1},et=(t,e)=>{const a=new URL(e);if(!a||!a.pathname)return!1;const s=a.pathname.split(".")[1]??"";return s?De(t,s):!1},Z=P({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,a=$(()=>{if(st[e.icon])return st[e.icon];if(lt[e.icon])return lt[e.icon]});return(s,n)=>{const o=T("el-icon");return p(),C(o,{size:s.size,color:s.color},{default:w(()=>[(p(),C(Ot(r(a))))]),_:1},8,["size","color"])}}});const We=(t,e,a="",s)=>{va({message:t,title:a,duration:2e3,type:e,...s})},ae=(t,e="温馨提示",a)=>{We(t,"success",e,a)},V=(t,e="温馨提示",a)=>{We(t,"error",e,a)},Ka=(t,e="温馨提示",a)=>{We(t,"info",e,a)},ye=t=>(Ie("data-v-75672c9f"),t=t(),Be(),t),eo={class:"category-container"},to={class:"item"},ao=ye(()=>b("div",{class:"title"}," 附件名称 ",-1)),oo={class:"item"},no=ye(()=>b("div",{class:"title"}," 文件名称 ",-1)),so={class:"item"},lo=ye(()=>b("div",{class:"title"}," 文件路径 ",-1)),co={class:"item"},ro=ye(()=>b("div",{class:"title"}," 文件链接 ",-1)),io={class:"item"},uo=ye(()=>b("div",{class:"title"}," 文件格式 ",-1)),po={class:"item"},mo=ye(()=>b("div",{class:"title"}," 文件大小（字节） ",-1)),_o={class:"item"},fo=ye(()=>b("div",{class:"title"}," 附件选定器 ",-1)),ho=P({__name:"form",props:{modelValue:{}},emits:["update:init"],setup(t,{expose:e,emit:a}){const s=t,n=Pe(),o=y({...s.modelValue}),l=()=>o.value.title?o.value:(V("请输入附件名称"),!1);return ce(()=>{a("update:init",n.exposed)}),e({getFormData:l}),(c,u)=>{const i=T("el-input");return p(),x("div",eo,[b("div",to,[ao,A(i,{modelValue:r(o).title,"onUpdate:modelValue":u[0]||(u[0]=d=>r(o).title=d),placeholder:"请输入附件名称"},null,8,["modelValue"])]),b("div",oo,[no,A(i,{modelValue:r(o).filename,"onUpdate:modelValue":u[1]||(u[1]=d=>r(o).filename=d),placeholder:"请输入文件名称",disabled:""},null,8,["modelValue"])]),b("div",so,[lo,A(i,{modelValue:r(o).path,"onUpdate:modelValue":u[2]||(u[2]=d=>r(o).path=d),placeholder:"请输入文件路径",disabled:""},null,8,["modelValue"])]),b("div",co,[ro,A(i,{modelValue:r(o).url,"onUpdate:modelValue":u[3]||(u[3]=d=>r(o).url=d),placeholder:"请输入文件链接",disabled:""},null,8,["modelValue"])]),b("div",io,[uo,A(i,{modelValue:r(o).format,"onUpdate:modelValue":u[4]||(u[4]=d=>r(o).format=d),placeholder:"请输入文件格式",disabled:""},null,8,["modelValue"])]),b("div",po,[mo,A(i,{modelValue:r(o).size,"onUpdate:modelValue":u[5]||(u[5]=d=>r(o).size=d),placeholder:"请输入文件大小",disabled:""},null,8,["modelValue"])]),b("div",_o,[fo,A(i,{modelValue:r(o).adapter,"onUpdate:modelValue":u[6]||(u[6]=d=>r(o).adapter=d),placeholder:"请输入附件选定器",disabled:""},null,8,["modelValue"])])])}}});const U=(t,e)=>{const a=t.__vccOpts||t;for(const[s,n]of e)a[s]=n;return a},go=U(ho,[["__scopeId","data-v-75672c9f"]]),vo={web_name:"",web_title:""},yo="modulepreload",xo=function(t){return"/"+t},Bt={},fe=function(e,a,s){if(!a||a.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=xo(o),o in Bt)return;Bt[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!s)for(let d=n.length-1;d>=0;d--){const m=n[d];if(m.href===o&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":yo,l||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),l)return new Promise((d,m)=>{i.addEventListener("load",d),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},pe="/login",Kt="/Index/index",ko=[pe,"/exception"],_t=P({__name:"menu-item",props:{menuData:{}},setup(t){const e=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=Xe(a.ajaxParams));const o={...n.value};_e(`/${s}`,o)};return(a,s)=>{const n=T("el-menu-item-group"),o=T("el-menu-item");return p(),x(q,null,[a.menuData.isGroup&&a.menuData.show?(p(),C(n,{key:0},{title:w(()=>[b("span",null,R(a.menuData.title),1)]),default:w(()=>[(p(!0),x(q,null,W(a.menuData.children,l=>(p(),C(_t,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1})):j("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),C(o,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=l=>e(a.menuData))},{default:w(()=>[F(R(a.menuData.title),1)]),_:1},8,["index"])):j("",!0)],64)}}}),Ao=P({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=Xe(a.ajaxParams));const o={...n.value};_e(`/${s}`,o)};return(a,s)=>{const n=T("el-sub-menu"),o=T("el-menu-item");return p(),x(q,null,[a.menuData.isGroup&&a.menuData.show?(p(),C(n,{key:0,index:a.menuData.activeId},{title:w(()=>[b("span",null,R(a.menuData.title),1)]),default:w(()=>[(p(!0),x(q,null,W(a.menuData.children,l=>(p(),C(_t,{key:l.activeId,"menu-data":l},null,8,["menu-data"]))),128))]),_:1},8,["index"])):j("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),C(o,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=l=>e(a.menuData))},{default:w(()=>[F(R(a.menuData.title),1)]),_:1},8,["index"])):j("",!0)],64)}}}),tt={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},$t={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},wo="data:image/png;base64,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",bo={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{},upload:{props:{modalTitle:"图片预览",httpRequest:async t=>{const e=ue().Authorization;return e&&(t.headers={...t.headers,Authorization:e}),await ya(t)},onSuccess(t,e,a){var n;let s=wo;(t==null?void 0:t.code)===200?s=((n=t==null?void 0:t.data)==null?void 0:n.url)??"":t!=null&&t.msg&&V(t.msg,"温馨提示"),e.url=s},onError(t){console.log("上传失败",t)}}}},submitBtn:!1,resetBtn:!1},Co=t=>t.map(e=>(e.handle=a=>{if((e==null?void 0:e.where)==="==")return a===e.value;if((e==null?void 0:e.where)==="!=")return a!==e.value;if((e==null?void 0:e.where)==="in"){const s=e.value;return s instanceof Array&&s instanceof Object?dt(a,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Po=t=>t.map(e=>(e!=null&&e.control&&(e.control=Co(e.control)),e)),Io={};function Bo(t,e){return p(),x("div",null," 高德地图 ")}const $o=U(Io,[["render",Bo]]),Vo={};function So(t,e){return p(),x("div",null," 百度地图 ")}const Do=U(Vo,[["render",So]]),To={};function Eo(t,e){return p(),x("div",null," 腾讯地图 ")}const jo=U(To,[["render",Eo]]),Uo={javascript:xa,php:ka,python:Aa,java:wa,css:ba,xml:Ca},Ro=t=>(Ct.registerLanguage(t,Uo[t]),Ct),Mo={class:"w-100%"},Lo=["innerHTML"],qo=P({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,a=Ro(e.language),s=y("");return Pa(()=>{s.value=a.highlight(e.modelValue,{language:e.language}).value}),(n,o)=>(p(),x("div",Mo,[b("pre",null,[F("    "),b("code",{class:"hljs",innerHTML:r(s)},null,8,Lo),F(`
    `)])]))}}),ea=t=>(Ie("data-v-71347fa8"),t=t(),Be(),t),Fo={class:"xh-icons-modal"},Oo={class:"xh-icons"},Ho={class:"search-container"},No=ea(()=>b("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),zo={class:"icon-list"},Qo={class:"tools"},Wo=ea(()=>b("div",{class:"title"}," 所有图标 ",-1)),Zo={class:"options"},Go={class:"list"},Xo=["onDblclick","onClick"],Jo={class:"icon-title"},Yo=P({__name:"modal",emits:["update:init"],setup(t,{expose:e,emit:a}){const s=Pe(),n=y([{title:"Element-Plus",type:"element",icons:Object.keys(st)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(lt)}]),o=y(""),l=y("element"),c=y(""),u=y([]),i=h=>{u.value=[];const _=n.value.find(v=>v.type===h);_&&d(_.icons)};function d(h){let _=0;function v(){globalThis.requestIdleCallback(B=>{for(;B.timeRemaining()>0&&_<h.length;)u.value.push(h[_++]);_<h.length&&v()})}v()}const m=h=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(h).then(_=>{});else{const _=document.createElement("input");_.value=h,document.body.appendChild(_),_.select(),document.execCommand("Copy"),_.remove()}ae("复制成功")},f=h=>{c.value=h===c.value?"":h};return e({confirm:()=>c.value}),ce(()=>{d(n.value[0].icons),a("update:init",s.exposed)}),(h,_)=>{const v=Z,B=T("el-button"),S=T("el-button-group"),M=T("el-input"),E=T("el-option"),k=T("el-select");return p(),x("div",Fo,[b("div",Oo,[b("div",Ho,[A(M,{modelValue:r(o),"onUpdate:modelValue":_[1]||(_[1]=I=>te(o)?o.value=I:null),placeholder:"图标名称"},{prepend:w(()=>[A(v,{icon:"Search",type:"element"})]),append:w(()=>[A(S,null,{default:w(()=>[A(B,{onClick:_[0]||(_[0]=I=>o.value="")},{default:w(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),No]),b("div",zo,[b("div",Qo,[Wo,b("div",Zo,[A(k,{modelValue:r(l),"onUpdate:modelValue":_[2]||(_[2]=I=>te(l)?l.value=I:null),onChange:i},{default:w(()=>[(p(!0),x(q,null,W(r(n),(I,D)=>(p(),C(E,{key:D,label:I.title,value:I.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),b("div",Go,[(p(!0),x(q,null,W(r(u).filter(I=>I.includes(r(o))),(I,D)=>(p(),x("div",{key:D,class:me(["item",{active:I===r(c)}]),onDblclick:H=>m(I),onClick:H=>f(I)},[A(v,{icon:I,size:26,type:r(l),color:"#888"},null,8,["icon","type"]),b("div",Jo,R(I),1)],42,Xo))),128))])])])])}}});const Ko=U(Yo,[["__scopeId","data-v-71347fa8"]]),re=(t,e,a)=>ne({title:"通用模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,showConfirmButton:!1,...a,customClass:"xh-modal-mask",message:()=>ze(t,e)}),xe=(t,e,a)=>ne({title:"可主动关闭的模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!1,closeOnClickModal:!1,showCancelButton:!0,showConfirmButton:!0,...a,customClass:"xh-modal-close-mask",message:()=>ze(t,e)}),Vt=()=>{ne.close()},en={class:"icons-container"},tn={key:0,class:"icon"},an={key:1,class:"icon"},on=P({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=()=>{const n=y();xe(Ko,{"onUpdate:init":o=>{n.value=o}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"60%",height:"85vh"},beforeClose:(o,l,c)=>{var u;if(o==="confirm"){const i=(u=n.value)==null?void 0:u.confirm();if(!i){V("请选择图标");return}e("update:modelValue",i),c()}else c()}})},s=()=>{e("update:modelValue",""),ae("重置成功")};return(n,o)=>{const l=Z,c=T("el-button");return p(),x("div",en,[n.modelValue?(p(),x("div",tn,[A(l,{icon:n.modelValue,size:18},null,8,["icon"])])):(p(),x("div",an)),n.modelValue?(p(),C(c,{key:2,onClick:s},{default:w(()=>[F(" 重置 ")]),_:1})):j("",!0),A(c,{type:"primary",onClick:a},{default:w(()=>[F(" 选择 ")]),_:1})])}}});const nn=U(on,[["__scopeId","data-v-784ef829"]]),sn=["innerHTML"],ln=P({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,a)=>(p(),x("div",L(e.style,{innerHTML:e.modelValue}),null,16,sn))}}),cn={};function rn(t,e){return p(),x("div",null," 自定义输入框（未实现） ")}const un=U(cn,[["render",rn]]),dn=["innerHTML"],pn=P({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,a)=>{const s=Z;return p(),x("div",{class:"form-prompt",style:Ht(e.style)},[e.icon?(p(),C(s,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):j("",!0),b("span",{class:"text",innerHTML:e.text},null,8,dn)],4)}}});const mn=U(pn,[["__scopeId","data-v-05bcd7b9"]]),_n=P({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,s=o=>{e("update:modelValue",o)},n=y(a.modelValue);return(o,l)=>(p(),C(r(ie),L({modelValue:r(n),"onUpdate:modelValue":l[0]||(l[0]=c=>te(n)?n.value=c:null),file:o.file},{ajaxParams:o.ajaxParams},{"onUpdate:modelValue":s}),null,16,["modelValue","file"]))}}),fn={};function hn(t,e){return p(),x("div",null," 表格展示器 ")}const gn=U(fn,[["render",hn]]),vn=t=>{const e=t.lastIndexOf("?");return t.substring(0,t.includes("?")?e:t.length)},yn=t=>{const e=/\.(jpg|jpeg|png|gif|bmp|webp)$/,a=vn(t);return e.test(a)},xn={class:"upload-container"},kn=["onClick"],An=P({__name:"index",props:{modelValue:{default:[]},type:{default:"image"},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,s=()=>{const o=y(),l={uploadLimit:a.uploadLimit,selectLimit:a.selectLimit,type:a.type};xe(ra,{...l,"onUpdate:init":c=>{o.value=c}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(c,u,i)=>{var d;if(c==="confirm"){const m=(d=o.value)==null?void 0:d.getSelected();if(m.length){const f=m.map(g=>g==null?void 0:g.url);e("update:modelValue",f),i()}else V("请选择文件")}else i()}})},n=o=>{const l=a.modelValue.filter((c,u)=>u!==o);e("update:modelValue",l)};return ce(()=>{if(typeof a.modelValue=="string"){const o=a.modelValue===""?"":[a.modelValue];e("update:modelValue",o)}}),(o,l)=>{const c=T("el-image"),u=Z,i=T("el-icon");return p(),x("div",xn,[(p(!0),x(q,null,W(o.modelValue,(d,m)=>(p(),x("div",{key:m,class:"item"},[r(yn)(d)?(p(),C(c,{key:0,class:"image","preview-src-list":o.modelValue,"z-index":999,src:d,infinite:!1},null,8,["preview-src-list","src"])):(p(),C(i,{key:1,class:"file-thumb"},{default:w(()=>[A(u,{icon:"Document",size:28,type:"element"})]),_:1})),b("div",{class:"del-file",onClick:f=>n(m)},[A(u,{icon:"Delete",size:15,type:"element"})],8,kn)]))),128)),b("div",{class:"item",onClick:s},[A(u,{icon:"PlusOutlined",size:20,color:"#888"})])])}}});const wn=U(An,[["__scopeId","data-v-abb4b44b"]]),bn={class:"editor-container"},Cn=P({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t;ve(i=>({"4dbdd5bb":r(u)}));const s=Nt(),n=y(a.modelValue),o=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});zt(()=>{s.value&&(s.value.destroy(),s.value=null)});const l=i=>{s.value=i},c=i=>{const d=i.getHtml();e("update:modelValue",d)},u=$(()=>`${a.editHeight}px`);return(i,d)=>(p(),x("div",bn,[A(r(Ia),L({class:"toolbar",editor:r(s)},r(o)),null,16,["editor"]),A(r(Ba),{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=m=>te(n)?n.value=m:null),"default-config":i.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:c},null,8,["modelValue","default-config"])]))}});const St=U(Cn,[["__scopeId","data-v-274068df"]]),ft="authorization",je=$a(()=>{const t=Me();return Va(`${t}_${ft}`,null)});let ta="/api";ta=window.location.origin;const ht=ta,X=Sa.create({baseURL:ht,timeout:6e4}),Pn=async t=>{const e=je();return e.value&&t.headers.set(ft,e.value),t},In=t=>{var i,d,m,f;const e=je(),a=t.data,s=t.headers["content-type"],n=s.includes("application/json"),o=s.includes("application/octet-stream"),l=s.includes("text/html"),c=s.includes("application/javascript"),u=s.includes("css");if(n){if((a==null?void 0:a.code)===301)return _e(((i=a==null?void 0:a.data)==null?void 0:i.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===302)return V((a==null?void 0:a.msg)||"302.网络错误~"),_e(((d=a==null?void 0:a.data)==null?void 0:d.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===303)return setTimeout(()=>{window.location.reload()},2e3),a;if((a==null?void 0:a.code)===304)return window.location.reload(),Promise.reject(a);if((a==null?void 0:a.code)===305)return V((a==null?void 0:a.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(a);if([600,666,11e3].includes(a==null?void 0:a.code))return Promise.reject(a);if((a==null?void 0:a.code)===200)return a;if((a==null?void 0:a.code)===12e3){e.value="";let g=(m=Q.currentRoute.value)==null?void 0:m.fullPath;return(f=Q.currentRoute.value.query)!=null&&f.redirect&&(g=Q.currentRoute.value.query.redirect),g===pe&&(g="/"),Q.replace({path:pe,query:{redirect:g}}),V((a==null?void 0:a.msg)||"登录超时啦~"),Promise.reject(a)}return a!=null&&a.msg&&V((a==null?void 0:a.msg)||"网络错误~"),Promise.reject(a)}else return o||l||c||u?Promise.resolve(a):Promise.reject(a)},Bn=t=>{if(t.response){const{status:e}=t.response;[401,402,403,500,502].includes(e)&&_e("/exception",{code:e})}return Promise.reject(t)};X.interceptors.request.use(Pn);X.interceptors.response.use(In,Bn);const $n=Object.freeze(Object.defineProperty({__proto__:null,baseURL:ht,default:X,instance:X},Symbol.toStringTag,{value:"Module"})),ge=(t,e,a)=>X.request({url:t,params:e,method:"GET",...a}),Te=(t,e,a)=>X.request({url:t,data:e,method:"POST",...a}),rt=(t,e,a)=>X.request({url:t,data:e,method:"PUT",...a}),it=(t,e,a)=>X.request({url:t,data:e,method:"DELETE",...a}),Vn=P({__name:"index",props:{modelValue:{},api:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,s=se(),n=y(""),o=y(!1),l=y([]),c=i=>{if(i){o.value=!0;const d={...s.query,keyword:i};ge(a.api,d).then(m=>{l.value=m.data||[]}).finally(()=>{o.value=!1})}else l.value=[]},u=()=>{e("update:modelValue",n.value)};return(i,d)=>{const m=T("el-option"),f=T("el-select");return p(),C(f,{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=g=>te(n)?n.value=g:null),"remote-method":c,filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",loading:r(o),onChange:u},{default:w(()=>[(p(!0),x(q,null,W(r(l),(g,h)=>(p(),C(m,L({key:h},g),null,16))),128))]),_:1},8,["modelValue","loading"])}}}),Sn=P({__name:"index",props:{title:{},style:{default:{}}},setup(t){return(e,a)=>(p(),x("div",{class:"form-title",style:Ht(e.style)},R(e.title),5))}});const Dn=U(Sn,[["__scopeId","data-v-2aa60f17"]]),Tn={id:"dplayer"},En=P({__name:"index",props:{modelValue:{},style:{default:{}},player:{}},setup(t){const e=t;ve(o=>({"50bc16b3":r(a),a610744c:r(s)}));const a=$(()=>{var o;return((o=e==null?void 0:e.style)==null?void 0:o.width)??"100%"}),s=$(()=>{var o;return((o=e==null?void 0:e.style)==null?void 0:o.height)??"450px"}),n=$(()=>{var o;return e!=null&&e.player?{...e.player,video:{...((o=e.player)==null?void 0:o.video)??{},url:e.modelValue}}:{video:{url:e.modelValue}}});return ce(()=>{const o=document.getElementById("dplayer");new Qt({container:o,...n.value})}),(o,l)=>(p(),x("div",Tn))}});const jn=U(En,[["__scopeId","data-v-2f3aa562"]]),Un={class:"xb-alert"},Rn=P({__name:"index",props:{content:{},type:{default:"warning"},closable:{type:Boolean,default:!1},effect:{default:"dark"}},setup(t){return(e,a)=>{const s=T("el-alert");return p(),C(s,{type:e.type,closable:e.closable,effect:e.effect},{default:w(()=>[b("div",Un,[(p(!0),x(q,null,W(e.content,(n,o)=>(p(),x("div",{key:o},R(n),1))),128))])]),_:1},8,["type","closable","effect"])}}}),Mn={class:"select"},Ln={class:"left"},qn={class:"right"},Fn={key:0,class:"desc"},On={key:1,class:"value"},Hn=P({__name:"select-text",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=pt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),o=l=>{e("update:modelValue",l)};return(l,c)=>{const u=T("el-option"),i=T("el-select");return p(),C(i,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=d=>te(s)?s.value=d:null),onChange:o}),{default:w(()=>[(p(!0),x(q,null,W(l.options,(d,m)=>(p(),C(u,L({key:m},d),{default:w(()=>[b("div",Mn,[b("div",Ln,R(d.label),1),b("div",qn,[d!=null&&d.desc?(p(),x("div",Fn,R(d.desc),1)):(p(),x("div",On,R(d.value),1))])])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Nn=U(Hn,[["__scopeId","data-v-9abe9200"]]),zn={class:"select"},Qn={class:"left"},Wn={class:"title"},Zn={key:0,class:"right"},Gn=P({__name:"select-image",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=y(t.modelValue),n=$(()=>{const l=pt();return l!=null&&l.modelValue&&delete l.modelValue,l!=null&&l.options&&delete l.options,l}),o=l=>{e("update:modelValue",l)};return(l,c)=>{const u=T("el-image"),i=T("el-option"),d=T("el-select");return p(),C(d,L(r(n),{modelValue:r(s),"onUpdate:modelValue":c[0]||(c[0]=m=>te(s)?s.value=m:null),onChange:o}),{default:w(()=>[(p(!0),x(q,null,W(l.options,(m,f)=>(p(),C(i,L({key:f},m),{default:w(()=>[b("div",zn,[b("div",Qn,[A(u,{class:"image",src:m.url},null,8,["src"]),b("div",Wn,R(m.title?m.title:m.label),1)]),m!=null&&m.desc?(p(),x("div",Zn,R(m.desc),1)):j("",!0)])]),_:2},1040))),128))]),_:1},16,["modelValue"])}}});const Xn=U(Gn,[["__scopeId","data-v-2e11a9a9"]]),Dt={amap:$o,bmap:Do,icons:nn,qmap:jo,remote:_n,uploadify:wn,info:ln,HCode:qo,PromptTip:mn,wangEditor:St,tinymceEditor:St,XInput:un,XTable:gn,XSearch:Vn,XTitle:Dn,XVideo:jn,XAlert:Rn,selectText:Nn,selectImage:Xn},Jn=t=>{Object.keys(Dt).forEach(e=>{t.component(e,Dt[e])})},gt=P({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:a}){const s=t,n=se(),o=Pe(),l=y({}),c=y({api:"",method:"POST"}),u=y({}),i=y(),d=y(bo),m=y("");Pt.use(Jn);const f=Pt.$form(),g=()=>{const v=y({method:s.method,params:{...s.ajaxParams},data:{...s.ajaxParams}});s.method==="GET"?delete v.value.data:delete v.value.params,a("update:init"),X(s.api,v.value).then(B=>{const{data:S}=B;if(!(S!=null&&S.http))return V("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(S!=null&&S.formRule))return V("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));c.value=S.http,i.value=Po(S.formRule),d.value={...d.value,...S.config},m.value=(S==null?void 0:S.redirect)??"",a("update:init-ok",{response:S,exposed:o.exposed})}).catch(B=>{a("update:init-error",B)})},h=async()=>{var B,S,M;const v=y({method:((B=c.value)==null?void 0:B.method)??"GET",params:{...s.ajaxParams},data:{}});return((S=c.value)==null?void 0:S.method)==="GET"?v.value.params={...v.value.params,...u.value}:v.value.data={...v.value.data,...u.value},a("update:submit",{api:c.value.api,queryParams:v}),await X(((M=c.value)==null?void 0:M.api)??"",v.value).then(E=>{var k;return(k=n.query)!=null&&k.isBack&&!s.isModal&&!m.value?Ne():m.value&&_e(m.value),a("update:submit-ok",E),ae((E==null?void 0:E.msg)??"操作失败"),E}).catch(E=>(a("update:submit-error",E),E))},_=()=>{a("update:rest-ok")};return ce(()=>g()),e({init:g,submit:h,reset:_}),(v,B)=>(p(),C(r(f),{api:r(l),"onUpdate:api":B[0]||(B[0]=S=>te(l)?l.value=S:null),modelValue:r(u),"onUpdate:modelValue":B[1]||(B[1]=S=>te(u)?u.value=S:null),modelModifiers:{lazy:!0},rule:r(i),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),Yn={class:"xh-modal-container"},Kn=P({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),a=y({submitBtn:{},resetBtn:{}}),s=n=>{var l;const o=(l=n==null?void 0:n.response)==null?void 0:l.extraConfig;a.value=o};return(n,o)=>(p(),x("div",Yn,[A(r(gt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:n.api,method:n.method,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:initOk":s},null,8,["api","method","ajax-params"])]))}});const vt=U(Kn,[["__scopeId","data-v-be00eddc"]]),es={class:"xh-modal-container"},ts={class:"xh-modal-content"},as=P({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:a}){const s=Pe(),n=y();y({submitBtn:{},resetBtn:{}});const o=f=>{a("update:init-ok",s.exposed)},l=f=>{a("update:init-error",s.exposed)},c=()=>{a("update:submit-ok")},u=()=>{a("update:submit-error")},i=()=>{a("update:rest-ok")};return e({hanldSubmit:async()=>await n.value.submit(),hanldReset:()=>{n.value.reset(),a("update:rest")}}),(f,g)=>(p(),x("div",es,[b("div",ts,[A(r(gt),{ref_key:"formRef",ref:n,class:"xh-form-create",api:f.api,method:f.method,"ajax-params":f.ajaxParams,"is-modal":!0,"onUpdate:initOk":o,"onUpdate:submitOk":c,"onUpdate:submitError":u,"onUpdate:restOk":i,"onUpdate:initError":l},null,8,["api","method","ajax-params"])])]))}});const yt=U(as,[["__scopeId","data-v-283ef23e"]]),os=P({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,a=$(()=>e.text?"":`xh-button-${e.type}`);return(s,n)=>(p(),x("button",{class:me(["xh-button",r(a)])},[le(s.$slots,"loading",{},void 0,!0),le(s.$slots,"icon",{},void 0,!0),le(s.$slots,"default",{},void 0,!0)],2))}});const ns=U(os,[["__scopeId","data-v-5baade3e"]]),xt=P({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,a=["error","purple","cyan"],s=$(()=>a.includes(e.type));return(n,o)=>{const l=T("el-button");return r(s)?(p(),C(ns,{key:0,type:n.type},{default:w(()=>[le(n.$slots,"loading"),le(n.$slots,"icon"),le(n.$slots,"default")]),_:3},8,["type"])):(p(),C(l,{key:1,type:n.type},{default:w(()=>[le(n.$slots,"loading"),le(n.$slots,"icon"),le(n.$slots,"default")]),_:3},8,["type"]))}}}),ss=P({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:a}){const s=Pe(),n=y(!1),o=u=>{n.value=u},l=()=>{o(!0),a("update:submit")},c=()=>{o(!0),a("update:rest")};return ce(()=>{a("update:init",{exposed:s.exposed})}),e({setDisabled:o}),(u,i)=>{var f;const d=xt,m=T("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(p(),C(m,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var g,h,_,v;return[(g=u.extraConfig.submitBtn)!=null&&g.show?(p(),C(d,L({key:0,type:"primary",class:"xh-extra-button"},((h=u.extraConfig)==null?void 0:h.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:l}),{default:w(()=>{var B;return[F(R(r(n)?"请求中...":((B=u.extraConfig.submitBtn)==null?void 0:B.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):j("",!0),(_=u.extraConfig.resetBtn)!=null&&_.show?(p(),C(d,L({key:1,type:"warning",class:"xh-extra-button"},((v=u.extraConfig)==null?void 0:v.resetBtn)??{},{disabled:r(n),onClick:c}),{default:w(()=>{var B;return[F(R(((B=u.extraConfig.resetBtn)==null?void 0:B.content)??"重置"),1)]}),_:1},16,["disabled"])):j("",!0)]}),_:1})):j("",!0)}}});const ls=U(ss,[["__scopeId","data-v-c3072cde"]]),Y=(t,e)=>{const a=t.field;let s=e[a];if(a.includes(".")){const n=a.split(".");let o=e;n.forEach(l=>{o=o[l]}),s=o}return s},$e=(t,e,a,s=!0)=>{if(!t){V("请设置请求API接口"),a==null||a.commitProxy("query");return}rt(t,e).then(n=>{a==null||a.commitProxy("query"),s&&ae((n==null?void 0:n.msg)??"操作成功")})},cs=(t,e,a,s)=>{var c,u;const n=((c=a==null?void 0:a.rowConfig)==null?void 0:c.keyField)??"id",o=e[t==null?void 0:t.field],l={[n]:e[n],keyField:n,field:t==null?void 0:t.field,value:o};$e((u=t==null?void 0:t.params)==null?void 0:u.api,l,s)},rs=["innerHTML"],is=["innerHTML"],us=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c,u,i,d,m;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.prefix)??""),n=y(((i=(u=e.column)==null?void 0:u.params)==null?void 0:i.suffix)??""),o=y(((m=(d=e.column)==null?void 0:d.params)==null?void 0:m.props)??{});return(f,g)=>(p(),x("div",L(r(o),{class:"flex items-center"}),[r(s)?(p(),x("div",{key:0,innerHTML:r(s)},null,8,rs)):j("",!0),b("div",null,R(r(a)),1),r(n)?(p(),x("div",{key:1,innerHTML:r(n)},null,8,is)):j("",!0)],16))}}),ds=(t,e,a,s,n)=>{var m,f;a==null||a.xGrid;const o=a==null?void 0:a.form,l=a==null?void 0:a.page,c=a==null?void 0:a.sort,u=a==null?void 0:a.filters;a!=null&&a.code&&((m=s.screenConfig)!=null&&m.api)&&(t=(f=s.screenConfig)==null?void 0:f.api);const i=Q.currentRoute.value,d=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...n??{},...o,...(i==null?void 0:i.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),u.length>0&&d.value.params&&u.forEach(({field:g,values:h})=>{d.value.params={...d.value.params,[g]:h.join(",")}}),new Promise((g,h)=>{X(t,d.value).then(_=>{g(_)}).catch(_=>{h(_)})})},ps=(t,e,a)=>{X(a.file,{responseType:"blob"}).then(s=>{Da.saveFile({filename:t,type:e,content:s.data})})},ms=(t,e,a)=>new Promise((s,n)=>{var c;if(!((c=e.exportConfig)!=null&&c.api))return V("请设置请求API"),Promise.reject(new Error("请设置请求API"));const o=a==null?void 0:a.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:o?o.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var m;const i={method:"POST",data:{...l}},d=((m=e.exportConfig)==null?void 0:m.api)??"";X(d,i).then(f=>{const{data:g}=f;if(!(g!=null&&g.file))return V("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));ps(l.filename,l.format,g),u(f)})})}),_s=(t,e,a)=>{const s=new FormData;return s.append("file",t.file),new Promise(n=>{var c;const o=((c=e.importConfig)==null?void 0:c.api)??"";X(o,{method:"POST",data:s}).then(u=>{const{msg:i}=u;ae(i||"操作成功"),a==null||a.commitProxy("query"),n(u)}).catch(u=>{console.error("导入失败",u)})})},fs=(t,e,a)=>new Promise(s=>{const n=new FileReader;n.onload=o=>{const l=o.target?o.target.result:"",c=Ta(l,{type:"binary"}),u=Ea.sheet_to_json(c.Sheets.Sheet1);t.$table.loadData(u),ae("已将数据导入至本地表格"),s(u)},n.readAsBinaryString(t.file)}),hs=(t,e,a)=>{var s,n;return(s=e.importConfig)!=null&&s.api&&((n=e.importConfig)!=null&&n.isRemote)?_s(t,e,a):fs(t)},gs=(t,e,a,s,n)=>{const o={...a.toolbarConfig,slots:{buttons:"topButtonList"}};return a.toolbarConfig=o,o!=null&&o.import&&(a.importConfig={...a.importConfig,remote:!0,importMethod:l=>hs(l,a,n)}),o!=null&&o.export&&(a.exportConfig={...a.exportConfig,remote:!0,exportMethod:l=>ms(l,a,n)}),a.proxyConfig={...a.proxyConfig,ajax:{query:l=>ds(t,e,l,a,s)}},a},vs=(t,e)=>{let a={};for(const s in t){const n=t[s]||"id";a={...a,[n]:e[s]||""}}return a},Ue=(t,e,a)=>{var l,c;const s=Q.currentRoute.value;let o={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...s.query};return(c=t.pageData)!=null&&c.isBack&&(o={...o,isBack:1}),o},ys=(t,e,a,s,n)=>{var i,d,m,f,g;const o=Q.currentRoute.value,l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??{},c=y({...o.query}),u=y({...c.value});if(l instanceof Object&&(u.value={...u.value,...l}),a&&!["[]","{}"].includes(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams)))u.value={...u.value,...vs((m=t==null?void 0:t.pageData)==null?void 0:m.aliasParams,a)};else{const h=((f=s==null?void 0:s.rowConfig)==null?void 0:f.keyField)??"id";if(!a[h]){V("当前数据错误");return}const _=a[h];u.value={...u.value,[h]:_}}return(g=t.pageData)!=null&&g.isBack&&(u.value={...u.value,isBack:1}),u.value},xs=(t,e,a)=>{var n,o;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){V("缺少跳转地址");return}const s=Ue(t);Q.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...s}})},ks=(t,e,a,s)=>{var n,o;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){V("缺少跳转地址");return}Q.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...e}})},Ee=t=>{wt(t)||(t=`${window.location.origin}/${t}`),window.open(t)},As=(t,e,a)=>{var u,i,d;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((i=t.pageData)==null?void 0:i.method)??"GET";let o=((d=t.pageData)==null?void 0:d.path)??"";const l=Ue(t),c={method:n,params:{},data:{}};if(n==="GET"?c.params=l:c.data=l,o){Ee(o);return}X(s,c).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){V("缺少目标跳转地址");return}o=f.url,Ee(o)})},ws=(t,e,a,s)=>{var d,m,f,g,h;const n=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",o=((m=t.pageData)==null?void 0:m.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((g=e==null?void 0:e.rowConfig)==null?void 0:g.keyField)??"id");let c=((h=t.pageData)==null?void 0:h.path)??"";const u=Ue(t),i={method:o,params:{},data:{}};if(o==="GET"?i.params={...u,[l]:a}:i.data={...u,[l]:a},c){Ee(c);return}X(n,i).then(_=>{const{data:v}=_;if(!(v!=null&&v.url)){V("缺少目标跳转地址");return}c=v.url,Ee(c)})},bs=(t,e,a,s)=>{var u,i,d;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",o=((i=t.pageData)==null?void 0:i.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const c=y({method:o,params:{...e},data:{...e}});if(o==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}X(n,c.value).then(m=>{const{data:f}=m;if(!(f!=null&&f.url)){V("缺少目标跳转地址");return}l=f.url,Ee(l)})},Re=(t,e)=>ja.service({text:t,lock:!0,background:"rgba(0, 0, 0, 0.7)",...e}),Cs=(t,e,a)=>{var l,c,u,i;if(!(((l=t.message)==null?void 0:l.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}const n=y(),o={api:((c=t.pageData)==null?void 0:c.api)||"",method:((u=t.pageData)==null?void 0:u.method)||"GET",ajaxParams:((i=t.pageData)==null?void 0:i.queryParams)||{},"onUpdate:init-ok":d=>{n.value=d}};xe(yt,o,{...t.message,beforeClose:(d,m,f)=>{var g;if(d==="confirm"){const h=Re("正在提交中...");(g=n.value)==null||g.hanldSubmit().then(_=>{(_==null?void 0:_.code)===200&&(f(),a==null||a.commitProxy("reload"))}).finally(()=>{h.close()})}d==="cancel"&&(f(),a==null||a.commitProxy("reload"))}})},Ps=(t,e,a,s)=>{var u,i,d,m,f;if(!(((u=t.message)==null?void 0:u.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}const o=y(),l=y({api:((i=t.pageData)==null?void 0:i.api)||"",method:((d=t.pageData)==null?void 0:d.method)||"GET",ajaxParams:{...e},"onUpdate:init-ok":g=>{o.value=g}}),c=((m=t.pageData)==null?void 0:m.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),(f=l.value.ajaxParams)!=null&&f.isBack&&delete l.value.ajaxParams.isBack,xe(yt,l.value,{...t.message,beforeClose:(g,h,_)=>{var v;if(g==="confirm"){const B=Re("正在提交中...");(v=o.value)==null||v.hanldSubmit().then(S=>{(S==null?void 0:S.code)===200&&(_(),s==null||s.commitProxy("reload"))}).finally(()=>{B.close()})}g==="cancel"&&(_(),s==null||s.commitProxy("reload"))}})},Is=(t,e,a,s)=>{var c,u,i,d,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[o]:a},"onUpdate:submit-ok":()=>{Vt(),s==null||s.commitProxy("reload")},"onUpdate:rest-ok":()=>{Vt(),s==null||s.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),xe(yt,l.value,{...t.message,beforeClose:(h,_,v)=>{v(),s==null||s.commitProxy("reload")}})},ke=(t,e="温馨提示",a="",s)=>ne.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:a,...s}),Ze=(t,e,a,s)=>{let n=null;a&&(n=Re(a)),X(t,e).then(o=>{var i,d,m;n&&n.close();const l=((i=o==null?void 0:o.data)==null?void 0:i.url)??"",c=((d=o==null?void 0:o.data)==null?void 0:d.query)??{},u=((m=o==null?void 0:o.data)==null?void 0:m.loading)??"正在处理中...";l?(e.method==="GET"?e.params={...(e==null?void 0:e.params)??{},...c}:e.data={...(e==null?void 0:e.data)??{},...c},Ze(l,e,u,s)):(s==null||s.commitProxy("reload"),ae((o==null?void 0:o.msg)??"操作成功"))}).catch(()=>{n&&n.close()})},Bs=(t,e,a)=>{var d,m,f,g,h;const s=((d=t.pageData)==null?void 0:d.method)??"GET",n=Ue(t);n!=null&&n.isBack&&delete n.isBack;const o=y({method:s,params:{...n},data:{...n}});s==="GET"&&delete o.value.data;const l=(m=t.pageData)==null?void 0:m.api;if(!l){V("请设置接口地址");return}const c=((f=t.message)==null?void 0:f.title)??"",u=((g=t.message)==null?void 0:g.type)??"",i=((h=t.message)==null?void 0:h.content)??"";ke(i,c,u).then(()=>{var _;Ze(l,o.value,((_=t.message)==null?void 0:_.loading)??"",a)})},$s=(t,e,a,s)=>{var f,g,h,_,v,B,S;const n=((f=t.pageData)==null?void 0:f.method)??"GET",o=Ue(t);o!=null&&o.isBack&&delete o.isBack;let l=((g=e.checkboxConfig)==null?void 0:g.labelField)??"";l||(l=((h=e==null?void 0:e.rowConfig)==null?void 0:h.keyField)??"id");const c=y({method:n,params:{...o,[l]:a},data:{...o,[l]:a}});n==="GET"&&delete c.value.data;const u=(_=t.pageData)==null?void 0:_.api;if(!u){V("请设置接口地址");return}const i=((v=t.message)==null?void 0:v.type)??"",d=((B=t.message)==null?void 0:B.title)??"",m=((S=t.message)==null?void 0:S.content)??"";ke(m,d,i).then(()=>{var M;Ze(u,c.value,((M=t.message)==null?void 0:M.loading)??"",s)})},Vs=(t,e,a,s)=>{var m,f,g,h,_,v,B;const n=((m=t.pageData)==null?void 0:m.method)??"GET";let o=((f=a.checkboxConfig)==null?void 0:f.labelField)??"";o||(o=((g=a==null?void 0:a.rowConfig)==null?void 0:g.keyField)??"id");const l=y({method:n,params:{...e},data:{...e}});n==="GET"&&delete l.value.data;const c=(h=t.pageData)==null?void 0:h.api;if(!c){V("请设置接口地址");return}const u=((_=t.message)==null?void 0:_.title)??"",i=((v=t.message)==null?void 0:v.type)??"",d=((B=t.message)==null?void 0:B.content)??"";ke(d,u,i).then(()=>{var S;Ze(c,l.value,((S=t.message)==null?void 0:S.loading)??"",s)})},Ss=(t,e,a)=>{var o,l,c;if(!(((o=t.message)==null?void 0:o.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.path){V("请提供远程组件地址");return}const n={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((c=t.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ne.close(),a==null||a.commitProxy("reload")}};re(Ge,n,{...t.message,beforeClose:(u,i,d)=>{d(),a==null||a.commitProxy("reload")}})},Ds=(t,e,a,s)=>{var c,u,i,d,m,f;if(!(((c=t.message)==null?void 0:c.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.path){V("请提供远程组件地址");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[o]:a},"onUpdate:close":()=>{ne.close(),s==null||s.commitProxy("reload")}});((m=t.pageData)==null?void 0:m.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),re(Ge,l.value,{...t.message,beforeClose:(g,h,_)=>{_(),s==null||s.commitProxy("reload")}})},Ts=(t,e,a,s)=>{var l,c;if(!(((l=t.message)==null?void 0:l.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.path){V("请提供远程组件地址");return}const o=y({file:(c=t.pageData)==null?void 0:c.path,ajaxParams:e,"onUpdate:close":()=>{ne.close(),s==null||s.commitProxy("reload")}});re(Ge,o.value,{...t.message,beforeClose:(u,i,d)=>{d(),s==null||s.commitProxy("reload")}})},Es=(t,e,a)=>{var o,l,c,u;if(!(((o=t.message)==null?void 0:o.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供信息模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(vt,n,{...t.message,beforeClose:(i,d,m)=>{m(),a==null||a.commitProxy("reload")}})},js=(t,e,a,s)=>{var u,i,d,m,f,g;if(!(((u=t.message)==null?void 0:u.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}let o=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(m=t.pageData)==null?void 0:m.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[o]:a}}),c=((g=t==null?void 0:t.pageData)==null?void 0:g.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),re(vt,l.value,{...t.message,beforeClose:(h,_,v)=>{v(),s==null||s.commitProxy("reload")}})},Us=(t,e,a,s)=>{var c,u,i,d,m;if(!(((c=t.message)==null?void 0:c.title)||"")){V("信息模态框标题不能为空");return}if(!t.pageData.api){V("请提供信息模态框接口");return}const o=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(m=o.value.ajaxParams)!=null&&m.isBack&&delete o.value.ajaxParams.isBack,re(vt,o.value,{...t.message,beforeClose:(f,g,h)=>{h(),s==null||s.commitProxy("reload")}})},Rs=(t,e,a)=>{var o,l,c,u;if(!(((o=t.message)==null?void 0:o.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供表格模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(At,n,{...t.message,beforeClose:(i,d,m)=>{m(),a==null||a.commitProxy("reload")}})},Ms=(t,e,a,s)=>{var c,u,i,d,m,f,g;if(!(((c=t.message)==null?void 0:c.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((m=t.pageData)==null?void 0:m.method)||"GET",ajaxParams:{[o]:a}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=t.pageData)==null?void 0:g.queryParams}),re(At,l.value,{...t.message,beforeClose:(h,_,v)=>{v(),s==null||s.commitProxy("reload")}})},Ls=(t,e,a,s)=>{var c,u,i,d;if(!(((c=t.message)==null?void 0:c.title)||"")){V("模态框标题不能为空");return}if(!t.pageData.api){V("请提供模态框接口");return}const o=y({api:(u=t.pageData)==null?void 0:u.api,method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),re(At,o.value,{...t.message,beforeClose:(m,f,g)=>{g(),s==null||s.commitProxy("reload")}})},qs=(t,e,a,s)=>{},Fs=(t,e,a)=>{var s;switch((s=e.pageData)==null?void 0:s.type){case"page":xs(e);break;case"link":As(e);break;case"down":break;case"confirm":Bs(e,t,a);break;case"modal":Cs(e,t,a);break;case"info":Es(e,t,a);break;case"table":Rs(e,t,a);break;case"remote":Ss(e,t,a);break;default:V("按钮类型错误");break}},Os=(t,e,a)=>{var c,u,i,d;const s=(c=t.columns)==null?void 0:c.filter(m=>m.type==="checkbox");if(!(s!=null&&s.length)){V("请先开启批量操作");return}const n=(a==null?void 0:a.getCheckboxRecords())??[];if(n.length<=0){V("请选择数据");return}let o=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id");const l=n.map(m=>m[o]);switch((d=e.pageData)==null?void 0:d.type){case"link":ws(e,t,l);break;case"down":break;case"confirm":$s(e,t,l,a);break;case"remote":Ds(e,t,l,a);break;case"modal":Is(e,t,l,a);break;case"info":js(e,t,l,a);break;case"table":Ms(e,t,l,a);break;default:V("按钮类型错误");break}},Tt=(t,e,a,s,n)=>{var c,u;if(!s){V("行参数出错");return}const o=y({}),l=((c=e.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(o.value={...l}),o.value={...o.value,...ys(e,a,s,t)},(u=e.pageData)==null?void 0:u.type){case"page":ks(e,o.value);break;case"link":bs(e,o.value);break;case"down":qs(e,o.value);break;case"confirm":Vs(e,o.value,t,n);break;case"modal":Ps(e,o.value,t,n);break;case"info":Us(e,o.value,t,n);break;case"table":Ls(e,o.value,t,n);break;case"remote":Ts(e,o.value,t,n);break;default:V("按钮类型错误");break}};const Hs=()=>{const t=ue();return((t==null?void 0:t.routeList)??[]).map(s=>s.path)},kt=t=>Hs().includes(t),Ns={class:"button-group"},zs={class:"pr-1"},Qs={class:"no-group-buttons"},Ws=P({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var g;const e=t,a=$(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIcon)??"Operation"}),s=$(()=>{var h;return((h=e.column.params)==null?void 0:h.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},o=y(((g=e.column.params)==null?void 0:g.buttonStyle)??n),l=$(()=>e.rightButtonList.filter(h=>{var v,B,S,M,E,k,I,D,H,G;const _=((v=h.pageData)==null?void 0:v.group)||((B=e.column.params)==null?void 0:B.group);return(M=(S=h.pageData)==null?void 0:S.params)!=null&&M.field&&((k=(E=h.pageData)==null?void 0:E.params)!=null&&k.value)&&_?(e.row[(D=(I=h.pageData)==null?void 0:I.params)==null?void 0:D.field]||"")===((G=(H=h.pageData)==null?void 0:H.params)==null?void 0:G.value):_})),c=$(()=>e.rightButtonList.filter(h=>{var _;return!((_=h.pageData)!=null&&_.group)})),u=$(()=>{var h;return((h=e.column.params)==null?void 0:h.groupText)||"更多"}),i=$(()=>h=>{var E,k,I,D,H,G,oe;const _=((E=h.pageData)==null?void 0:E.api)??"";if(!kt(_))return!1;const v=((I=(k=h==null?void 0:h.pageData)==null?void 0:k.params)==null?void 0:I.where)??"",B=(H=(D=h==null?void 0:h.pageData)==null?void 0:D.params)==null?void 0:H.field,S=(oe=(G=h==null?void 0:h.pageData)==null?void 0:G.params)==null?void 0:oe.value;if(B===void 0&&S===void 0)return!0;if(B===void 0||B===""||B&&(S===void 0||S===""))return!1;const M=e.row[B];switch(v){case"!=":return S!==M;case"in":return S instanceof Array&&dt(M,S);case"notIn":return S instanceof Array&&!dt(M,S);default:return S===M}}),d=$(()=>h=>{const _={...h};return _!=null&&_.icon&&delete _.icon,_}),m=h=>{Tt(e.gridConfig,h,e.column,e.row,e.xGrid)},f=h=>{Tt(e.gridConfig,h,e.column,e.row,e.xGrid)};return(h,_)=>{const v=Z,B=T("el-button"),S=T("el-dropdown-item"),M=T("el-dropdown-menu"),E=T("el-dropdown");return p(),x("div",Ns,[r(l).length?(p(),C(E,{key:0,class:"mr-2",onCommand:m},{dropdown:w(()=>[A(M,null,{default:w(()=>[(p(!0),x(q,null,W(r(l),(k,I)=>(p(),x(q,{key:I},[r(i)(k)?(p(),C(S,{key:0,command:k},{default:w(()=>{var D,H,G;return[(D=k==null?void 0:k.button)!=null&&D.icon?(p(),C(v,{key:0,icon:(H=k==null?void 0:k.button)==null?void 0:H.icon,type:(G=k==null?void 0:k.button)==null?void 0:G.iconType},null,8,["icon","type"])):j("",!0),b("span",null,R(k.title),1)]}),_:2},1032,["command"])):j("",!0)],64))),128))]),_:1})]),default:w(()=>[A(B,L({type:"danger"},r(o)),{default:w(()=>[b("span",zs,R(r(u)),1),r(a)?(p(),C(v,{key:0,icon:r(a),type:r(s)},null,8,["icon","type"])):j("",!0)]),_:1},16)]),_:1})):j("",!0),b("div",Qs,[(p(!0),x(q,null,W(r(c),(k,I)=>{var D;return Wt((p(),x("div",{key:I,class:"item"},[(p(),C(B,L({key:I},r(d)((k==null?void 0:k.button)??{}),{onClick:H=>f(k)}),Qe({default:w(()=>[F(" "+R(k.title),1)]),_:2},[(D=k==null?void 0:k.button)!=null&&D.icon?{name:"icon",fn:w(()=>{var H,G,oe;return[(H=k==null?void 0:k.button)!=null&&H.icon?(p(),C(v,{key:0,icon:(G=k==null?void 0:k.button)==null?void 0:G.icon,type:((oe=k==null?void 0:k.button)==null?void 0:oe.iconType)??""},null,8,["icon","type"])):j("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Zt,r(i)(k)]])}),128))])])}}});const Zs=U(Ws,[["__scopeId","data-v-fdae9efa"]]),Gs={class:"flex space-x-2"},Xs=P({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,a=$(()=>e.topButtonList.filter(n=>{var o;return!((o=n.pageData)!=null&&o.group)})),s=$(()=>n=>{var l;const o=((l=n.pageData)==null?void 0:l.api)??"";return!!kt(o)});return(n,o)=>{const l=Z,c=T("el-button"),u=T("el-space");return p(),x("div",Gs,[r(a).length?(p(),C(u,{key:0},{default:w(()=>[(p(!0),x(q,null,W(r(a),(i,d)=>{var m;return p(),x(q,null,[r(s)(i)?(p(),C(c,L({key:d},(i==null?void 0:i.button)??{},{onClick:f=>r(Fs)(e.gridConfig,i,n.xGrid)}),Qe({default:w(()=>[F(" "+R(i.title),1)]),_:2},[(m=i==null?void 0:i.button)!=null&&m.icon?{name:"icon",fn:w(()=>{var f,g;return[A(l,{icon:(f=i==null?void 0:i.button)==null?void 0:f.icon,type:(g=i==null?void 0:i.button)==null?void 0:g.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):j("",!0)],64)}),256))]),_:1})):j("",!0)])}}}),Js={class:"flex space-x-2"},Ys=P({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,a=$(()=>{var o;return((o=e.selectButtonList)==null?void 0:o.filter(l=>{var c;return!((c=l.pageData)!=null&&c.group)}))||[]}),s=$(()=>o=>{const l={...o};return l!=null&&l.icon&&delete l.icon,l}),n=$(()=>o=>{var c;const l=((c=o.pageData)==null?void 0:c.api)??"";return!!kt(l)});return(o,l)=>{const c=Z,u=xt,i=T("el-space");return p(),x("div",Js,[r(a).length?(p(),C(i,{key:0},{default:w(()=>[(p(!0),x(q,null,W(r(a),(d,m)=>{var f;return p(),x(q,null,[r(n)(d)?(p(),C(u,L({key:m,type:"primary"},r(s)((d==null?void 0:d.button)??{}),{onClick:g=>r(Os)(e.gridConfig,d,o.xGrid)}),Qe({default:w(()=>[F(" "+R(d.title),1)]),_:2},[(f=d==null?void 0:d.button)!=null&&f.icon?{name:"icon",fn:w(()=>{var g,h;return[A(c,{icon:(g=d==null?void 0:d.button)==null?void 0:g.icon,type:(h=d==null?void 0:d.button)==null?void 0:h.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):j("",!0)],64)}),256))]),_:1})):j("",!0)])}}}),Ks={class:"flex space-x-3"},el={key:1,class:"flex space-x-1"},tl=P({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=se();return(a,s)=>{var o,l,c;const n=xt;return p(),x("div",Ks,[(o=r(e).query)!=null&&o.isBack?(p(),C(n,{key:0,type:"primary",onClick:r(Ne)},{default:w(()=>[F(" 返回 ")]),_:1},8,["onClick"])):j("",!0),a.topButtonList.length||(l=a.selectButtonList)!=null&&l.length?(p(),x("div",el,[a.topButtonList.length?(p(),C(Xs,O(L({key:0},{xGrid:a.xGrid,gridConfig:a.gridConfig,topButtonList:a.topButtonList})),null,16)):j("",!0),(c=a.selectButtonList)!=null&&c.length?(p(),C(Ys,O(L({key:1},{xGrid:a.xGrid,gridConfig:a.gridConfig,selectButtonList:a.selectButtonList})),null,16)):j("",!0)])):j("",!0)])}}}),al=t=>(Ie("data-v-c11e2f2f"),t=t(),Be(),t),ol=al(()=>b("div",null,null,-1)),nl={class:"assets-container"},sl={class:"item"},ll=["src"],cl=["src"],rl=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a="",s=$(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.resource)??[]}),n=$(()=>Y(e.column,e.row));return(o,l)=>{const c=Z,u=T("el-tooltip");return p(),x(q,null,[ol,b("div",nl,[(p(!0),x(q,null,W(r(s),(i,d)=>(p(),C(u,{key:d,show:i==null?void 0:i.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[F(R((i==null?void 0:i.title)??"错误"),1)]),default:w(()=>[b("div",sl,[(i==null?void 0:i.type)==="url"&&r(wt)(i==null?void 0:i.icon)?(p(),x("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,ll)):(i==null?void 0:i.type)==="path"?(p(),x("img",{key:1,class:"logo",src:`${r(a)}${i==null?void 0:i.icon}`},null,8,cl)):(p(),C(c,{key:2,icon:i.icon},null,8,["icon"])),b("span",null,R(r(n)[i.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const il=U(rl,[["__scopeId","data-v-c11e2f2f"]]),ul=P({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,o;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((o=(n=e.column)==null?void 0:n.params)==null?void 0:o.props)??{});return(l,c)=>{const u=Z;return p(),C(u,L({icon:r(a)},r(s)),null,16,["icon"])}}}),dl={class:"xh-image-error"},pl=P({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,o,l,c;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((o=(n=e.column)==null?void 0:n.params)==null?void 0:o.props)??{});return(l=s.value)!=null&&l.style||(s.value.style={width:"30px",height:"30px"}),(c=s.value)!=null&&c.preview&&(s.value.previewSrcList=[a.value],delete s.value.preview),(u,i)=>{const d=Z,m=T("el-image");return p(),C(m,L(r(s),{src:r(a),class:"xh-table-image"}),{error:w(()=>[b("div",dl,[A(d,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const ml=U(pl,[["__scopeId","data-v-2e6bc660"]]),_l=t=>(Ie("data-v-257b233b"),t=t(),Be(),t),fl={class:"xh-image-error"},hl=_l(()=>b("span",null,"加载失败",-1)),gl=P({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,c,u;const e=t,a=$(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),s=$(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=$(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i:[]}),o=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(i,d)=>{const m=Z,f=T("el-image");return p(!0),x(q,null,W(r(n),(g,h)=>(p(),C(f,L(r(o),{key:h,src:g==null?void 0:g.url,"preview-src-list":r(a)?[]:r(s)}),{error:w(()=>[b("div",fl,[A(m,{icon:"Picture",type:"element"}),hl])]),_:2},1040,["src","preview-src-list"]))),128)}}});const vl=U(gl,[["__scopeId","data-v-257b233b"]]),yl=t=>(Ie("data-v-50a2462d"),t=t(),Be(),t),xl={class:"xh-image-error"},kl=yl(()=>b("span",null,"加载失败",-1)),Al=P({__name:"index",props:{column:{},row:{}},setup(t){var l,c,u;const e=t,a=$(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),s=$(()=>{const i=Y(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),n=$(()=>{const i=Y(e.column,e.row);return i instanceof Array&&i.length>0?i[0]:[]}),o=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(i,d)=>{var g;const m=Z,f=T("el-image");return p(),C(f,L(r(o),{src:(g=r(n))==null?void 0:g.url,"preview-src-list":r(a)?[]:r(s)}),{error:w(()=>[b("div",xl,[A(m,{icon:"Picture",type:"element"}),kl])]),_:1},16,["src","preview-src-list"])}}});const wl=U(Al,[["__scopeId","data-v-50a2462d"]]),bl=P({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;ve(s=>({"564a0163":r(a)}));const a=$(()=>e.isBorder?e.border:"");return(s,n)=>{const o=T("el-input");return p(),C(o,{class:me({"xh-input":s.isBorder})},null,8,["class"])}}});const Cl=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,c;const e=t,a=$(()=>Y(e.column,e.row)),s=y(""),n=y(((c=(l=e.column)==null?void 0:l.params)==null?void 0:c.props)??{}),o=u=>{var g,h,_,v;const i=Ve("rowEdit",!0),d=((g=e.column.params)==null?void 0:g.api)??i,m=((_=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:_.keyField)??"id",f={[m]:e.row[m],keyField:m,field:(v=e.column)==null?void 0:v.field,value:u};$e(d,f,e.xGrid)};return(u,i)=>{const d=bl;return p(),C(d,L({modelValue:r(s),"onUpdate:modelValue":i[0]||(i[0]=m=>te(s)?s.value=m:null),value:r(a),placeholder:"请输入"},r(n),{"is-border":!0,onChange:o}),null,16,["modelValue","value"])}}}),Pl=P({__name:"index",setup(t){return(e,a)=>{const s=T("el-input-number");return p(),C(s)}}}),Il=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var c,u;const e=t,a=$(()=>Y(e.column,e.row)),s=$(()=>{var i;return((i=e.column.params)==null?void 0:i.isMessage)??!1}),n=y(a),o=y(((u=(c=e.column)==null?void 0:c.params)==null?void 0:u.props)??{}),l=i=>{var h,_,v,B;const d=Ve("rowEdit",!0),m=((h=e.column.params)==null?void 0:h.api)??d,f=((v=(_=e.gridConfig)==null?void 0:_.rowConfig)==null?void 0:v.keyField)??"id",g={[f]:e.row[f],keyField:f,field:(B=e.column)==null?void 0:B.field,value:i};$e(m,g,e.xGrid,s.value)};return(i,d)=>{const m=Pl;return p(),C(m,L({modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=f=>te(n)?n.value=f:null),value:r(a)},r(o),{onChange:l}),null,16,["modelValue","value"])}}}),Bl=P({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=$(()=>{var l;const o=((l=e.column)==null?void 0:l.params)??{};return o!=null&&o.type||delete o.type,o}),s=$(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.format)??"￥"}),n=$(()=>Y(e.column,e.row));return(o,l)=>(p(),x("div",O(z(r(a))),R(r(s))+R(r(It).commafy(r(It).toNumber(r(n)),{digits:2})),17))}}),aa=async t=>{const e=`${t}?t=${Date.now()}`;return await ge(e)},$l=async(t,e,a)=>{for(let s=0;s<t.length;s++){const n=t[s],o=await aa(n),l=n.includes(".js");if(!e&&l)e=o.toString();else if(e&&l){const u=o.toString();e+=`
${u}`}const c=n.includes(".css")||n.includes(".scss");if(!a&&c)a=o.toString();else if(a&&c){const u=o.toString();a+=`
${u}`}}return{jsContent:e,cssContent:a}},ut=(t,e="el-icon-warning",a="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${e}" style="${a}"></div>
            <div class="mt-5px">${t}</div>
        </div>
        `}),Vl=t=>{const e=/<link[^>]*src="(.*?)"[^>]*>/g,a=Array.from(t.matchAll(e),d=>d[1]),s=Wr(),n=Me(),o=a.map(d=>(d=`${s}${d}`,d.replace("{moduleName}",n))),l=t==null?void 0:t.match(/<template>([\s\S]*)<\/template>/),c=t==null?void 0:t.match(/<script.*>([\s\S]*)<\/script>/),u=t==null?void 0:t.match(/<style.*>([\s\S]*)<\/style>/);return{templates:l?l[1]:"",sctipts:c?c[1]:"",styles:u?u[1]:"",stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null,links:o}},oa={vue:null},Sl=(t,e,a)=>ne.alert(t,{confirmButtonText:"确定",type:e,...a}),Dl=(t,e,a)=>{Ua({message:t,type:e,...a})},Tl=(t,e,a)=>ne({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...a,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>ze(Ge,{file:t,ajaxParams:e,"onUpdate:close":()=>{ne.close()}})}),El=async t=>{const e=Vl(t);if(!e.sctipts||!e.templates)return Promise.resolve({ponentObj:ut("远程代码格式解析失败"),tplData:e});let a={jsContent:"",cssContent:""};e.links.length>0&&(a=await $l(e.links,a.jsContent,a.cssContent)),a.cssContent&&(e.styles=a.cssContent+e.styles);const s=e.sctipts.indexOf("{"),n=e.sctipts.lastIndexOf("}");if(s===-1||n===-1)return Promise.resolve({ponentObj:ut("解析代码错误"),tplData:e});const o=e.sctipts.slice(s,n+1),l=`${a.jsContent}
return ${o}`,c=new Function(l)();return c.template=e==null?void 0:e.templates,Promise.resolve({ponentObj:c,tplData:e})},jl=()=>{const t=oa.vue,e=ue(),a=K(),s=Me();t.config.globalProperties.$moduleName=s,t.config.globalProperties.$userApp=e,t.config.globalProperties.$siteApp=a,t.config.globalProperties.$axios=$n,t.config.globalProperties.$http={useGet:ge,usePost:Te,usePut:rt,useDelete:it},t.config.globalProperties.$useGet=ge,t.config.globalProperties.$usePost=Te,t.config.globalProperties.$usePut=rt,t.config.globalProperties.$useDelete=it,t.config.globalProperties.$dplayer=Qt,t.config.globalProperties.$echarts=Ra,t.config.globalProperties.$useKeyCodeEvent=Qr,t.component("XRemote")===void 0&&t.component("XRemote",ie),t.component("AppIcons")===void 0&&t.component("AppIcons",Z),t.config.globalProperties.$useAlert=Sl,t.config.globalProperties.$useConfirm=ke,t.config.globalProperties.$useMessage=Dl,t.config.globalProperties.$useNotify=We,t.config.globalProperties.$useLoading=Re,t.config.globalProperties.$useRemote=Tl},Ul=(t,e)=>{Ma.render(t).then(a=>{const s=document.createElement("style");if(s.setAttribute("type","text/css"),s.setAttribute("id",`css${e}`),s.styleSheet)s.styleSheet.cssText=a.css;else{const o=document.createTextNode(a.css);s.appendChild(o)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(s):document.documentElement.appendChild(s)})},Rl=(t,e,a)=>{if(t.setAttribute("class",`remote css${e}`),!document.querySelector(`style[id=css${e}]`)){let s="";a.stylesHasScoped?s=`
            .css${e}{
                ${a.styles}
            }
        `:s=a.styles,Ul(s,e)}},Ml=P({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const a=t,s=pt(),n=y(),o=y(nt()),l=y(a.isApi),c=y(a.file),u=async h=>await aa(h).then(async _=>{const v=_.toString(),B=await El(v);return Rl(n.value,o.value,B.tplData),B.ponentObj}).catch(_=>{e("update:error",_),console.error("解析组件内容出错",_)}),i=La(async()=>c.value?await u(`${c.value}.vue`).then(h=>(jl(),e("update:init",h),h)):ut("请先配置远程文件")),d=h=>{e("update:modelValue",h)},m=h=>{l.value=!1,c.value=h,o.value=nt(),u(c.value)},f=()=>{o.value=nt(),u(c.value)},g=()=>{a!=null&&a.isModal&&e("update:close")};return(h,_)=>(p(),x("div",{ref_key:"remoteRef",ref:n},[(p(),C(Ot(r(i)),L({...r(s),...h.ajaxParams},{"onUpdate:modelValue":d,"onUpdate:openWin":m,"onUpdate:reloadWin":f,"onUpdate:closeWin":g}),null,16))],512))}});const ie=U(Ml,[["__scopeId","data-v-247e2130"]]),Ll=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,a=$(()=>{var c,u;return(u=(c=e.column)==null?void 0:c.params)==null?void 0:u.file}),s=((l=e.column)==null?void 0:l.field)??"",n=$(()=>Y(e.column,e.row)),o=c=>{var f,g,h,_;const u=Ve("rowEdit",!0),i=((f=e.column.params)==null?void 0:f.api)??u,d=((h=(g=e.gridConfig)==null?void 0:g.rowConfig)==null?void 0:h.keyField)??"id",m={[d]:e.row[d],keyField:d,field:(_=e.column)==null?void 0:_.field,value:c};$e(i,m,e.xGrid)};return(c,u)=>{const i=ie;return p(),C(i,L({modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=d=>te(n)?n.value=d:null),file:r(a)},{column:c.column,field:r(s),row:c.row},{"onUpdate:value":o}),null,16,["modelValue","file"])}}}),ql={key:0,class:"tabs-container"},Fl={class:"tabs-list"},Ol=["onClick"],Hl={class:"pl-1"},Nl=P({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var i;const e=t,a=y();$(()=>a.value.wrapRef);const s=se(),n=Gt(),o=((i=e.tabsConfig)==null?void 0:i.field)??"",l=s==null?void 0:s.query[o],c=$(()=>{var d;return l??((d=e.tabsConfig)==null?void 0:d.active)}),u=d=>{n.push({query:{[o]:d.value}})};return(d,m)=>{var h,_;const f=Z,g=T("el-space");return(_=(h=d.tabsConfig)==null?void 0:h.list)!=null&&_.length?(p(),x("div",ql,[b("div",Fl,[A(g,null,{default:w(()=>[(p(!0),x(q,null,W(d.tabsConfig.list,(v,B)=>(p(),x("div",{key:B,class:me(["item",{active:r(c)===(v==null?void 0:v.value)}]),onClick:S=>u(v)},[v!=null&&v.icon?(p(),C(f,{key:0,icon:v==null?void 0:v.icon},null,8,["icon"])):j("",!0),b("span",Hl,R((v==null?void 0:v.label)??"错误"),1)],10,Ol))),128))]),_:1})])])):j("",!0)}}});const zl=U(Nl,[["__scopeId","data-v-e05c271e"]]),Ql=P({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){const e=Gt(),a=se(),s=n=>{e.push({path:a.fullPath,query:{...a.query,...n.data}})};return(n,o)=>{var c;const l=T("vxeForm");return p(),C(l,{items:n.formScreen.items,data:(c=n.formScreen)==null?void 0:c.data,onSubmit:s},null,8,["items","data"])}}}),Wl=P({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(t){return(e,a)=>{var n,o;const s=ie;return p(),C(s,L({file:((n=e.formRemote)==null?void 0:n.file)||""},{ajaxParams:(o=e.formRemote)==null?void 0:o.ajaxParams}),null,16,["file"])}}}),Zl={class:"form-tabs-container"},Gl=P({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,a)=>{var l,c,u,i;const s=Wl,n=Ql,o=zl;return p(),x("div",Zl,[(l=e.formRemote)!=null&&l.file?(p(),C(s,O(L({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):j("",!0),(c=e.formScreen)!=null&&c.data?(p(),C(n,O(L({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):j("",!0),(i=(u=e.tabsConfig)==null?void 0:u.list)!=null&&i.length?(p(),C(o,O(L({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):j("",!0)])}}});const Xl=U(Gl,[["__scopeId","data-v-4bb9ed66"]]),Jl=["innerHTML"],Yl=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n,o;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((o=(n=e.column)==null?void 0:n.params)==null?void 0:o.props)??{});return(l,c)=>(p(),x("div",L(r(s),{innerHTML:r(a)}),null,16,Jl))}}),Kl=P({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,a=$(()=>e.value);return(s,n)=>{const o=T("el-option"),l=T("el-select");return p(),C(l,{modelValue:r(a),"onUpdate:modelValue":n[0]||(n[0]=c=>te(a)?a.value=c:null),placeholder:"请选择"},{default:w(()=>[(p(!0),x(q,null,W(s.options,c=>(p(),C(o,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),ec=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var o;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((o=e.column)==null?void 0:o.params)??{}),n=l=>{var m,f,g,h;const c=Ve("rowEdit",!0),u=((m=e.column.params)==null?void 0:m.api)??c,i=((g=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:g.keyField)??"id",d={[i]:e.row[i],keyField:i,field:(h=e.column)==null?void 0:h.field,value:l};$e(u,d,e.xGrid)};return(l,c)=>{var i,d;const u=Kl;return(d=(i=r(s))==null?void 0:i.options)!=null&&d.length?(p(),C(u,L({key:0,value:r(a)},r(s),{onChange:n}),null,16,["value"])):j("",!0)}}}),tc=P({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a=$(()=>Y(e.column,e.row)),s=n=>{var i,d,m,f;const o=Ve("rowEdit",!0),l=((i=e.column.params)==null?void 0:i.api)??o,c=((m=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:m.keyField)??"id",u={[c]:e.row[c],keyField:c,field:(f=e.column)==null?void 0:f.field,value:n};$e(l,u,e.xGrid)};return(n,o)=>{var c,u,i,d,m,f,g,h,_,v,B,S,M,E,k,I,D,H,G,oe,we,Se,Le,qe;const l=T("el-switch");return p(),C(l,{modelValue:r(a),"onUpdate:modelValue":o[0]||(o[0]=Je=>te(a)?a.value=Je:null),"active-action-icon":((i=(u=(c=n.column)==null?void 0:c.params)==null?void 0:u.checked)==null?void 0:i.icon)??"","active-color":((f=(m=(d=n.column)==null?void 0:d.params)==null?void 0:m.checked)==null?void 0:f.color)??"#13ce66","active-text":(_=(h=(g=n.column)==null?void 0:g.params)==null?void 0:h.checked)==null?void 0:_.text,"active-value":(S=(B=(v=n.column)==null?void 0:v.params)==null?void 0:B.checked)==null?void 0:S.value,"inactive-action-icon":((k=(E=(M=n.column)==null?void 0:M.params)==null?void 0:E.unchecked)==null?void 0:k.icon)??"","inactive-color":((H=(D=(I=n.column)==null?void 0:I.params)==null?void 0:D.unchecked)==null?void 0:H.color)??"#ff4949","inactive-text":(we=(oe=(G=n.column)==null?void 0:G.params)==null?void 0:oe.unchecked)==null?void 0:we.text,"inactive-value":(qe=(Le=(Se=n.column)==null?void 0:Se.params)==null?void 0:Le.unchecked)==null?void 0:qe.value,"inline-prompt":"",onChange:s},null,8,["modelValue","active-action-icon","active-color","active-text","active-value","inactive-action-icon","inactive-color","inactive-text","inactive-value"])}}}),ac=P({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=$(()=>Y(e.column,e.row)),s=$(()=>{var o;return(o=e.column.params)!=null&&o.options?e.column.params.options[a.value]||"标签错误":"选项错误"}),n=$(()=>{var c;const o=y({style:{},...e.column.params??{}});(c=o.value)!=null&&c.type&&delete o.value.type;const l=$(()=>{var u,i;if((u=e.column.params)!=null&&u.style)return((i=e.column.params)==null?void 0:i.style[a.value])||void 0});return o.value.style=l.value,o.value});return(o,l)=>{const c=T("el-tag");return p(),C(c,O(z(r(n).style)),{default:w(()=>[F(R(r(s)),1)]),_:1},16)}}}),oc={class:"flex"},nc=["href","target"],sc=P({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var o,l;const e=t,a=$(()=>Y(e.column,e.row)),s=y(((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.props)??{}),n=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(a.value).then(c=>{});else{const c=document.createElement("input");c.value=a.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}ae("链接复制成功")};return(c,u)=>{var m;const i=Z,d=T("el-button");return p(),x("div",oc,[b("a",{href:r(a),target:r(s).target??"_blank"},R(r(s).text?r(s).text:r(a)),9,nc),(m=r(s))!=null&&m.copy?(p(),C(d,{key:0,type:"primary",size:"small",text:"",onClick:n},{icon:w(()=>[A(i,{icon:"CopyDocument",size:14})]),default:w(()=>[F(" 复制 ")]),_:1})):j("",!0)])}}}),lc={class:"xb-pictuer"},cc={key:0,class:"info"},rc=["innerHTML"],ic=["innerHTML"],uc=P({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.props)??{}}),s=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.image)??"avatar"}),n=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.title)??"title"}),o=$(()=>{var i,d;return((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.desc)??"desc"}),l=$(()=>e.row[s.value]),c=$(()=>e.row[n.value]),u=$(()=>e.row[o.value]);return(i,d)=>{const m=T("el-image");return p(),x("div",lc,[A(m,L({class:"pictuer",src:r(l),"preview-src-list":[r(l)]},r(a)),null,16,["src","preview-src-list"]),r(c)||r(u)?(p(),x("div",cc,[r(c)?(p(),x("div",{key:0,class:"title",innerHTML:r(c)},null,8,rc)):j("",!0),r(u)?(p(),x("div",{key:1,class:"desc",innerHTML:r(u)},null,8,ic)):j("",!0)])):j("",!0)])}}});const dc=U(uc,[["__scopeId","data-v-553e0bc9"]]),pc=(t,e,a,s)=>{if(e.length<=0){V("请先导入数据");return}if(!t){V("请设置导入API接口");return}Te(t,{import:a,data:e}).then(o=>{var l;(l=s.xGrid)==null||l.commitProxy("query"),ae((o==null?void 0:o.msg)??"操作成功")})},mc=t=>{Ce.commands.add("importAllData",{commandMethod:e=>{var o;const{$table:a}=e,s=a==null?void 0:a.getTableData(),n=s==null?void 0:s.fullData;pc(((o=t.vxeTableConfig.importConfig)==null?void 0:o.api)??"",n,"all",t)}})},na=P({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=t,s=y(),n=y(),o=y(),l=y(),c=y([]),u=y([]),i=y([]),d=async()=>{const f=y({method:a.method,params:{},data:{}});a.ajaxParams&&(a.method==="GET"?f.value.params=a.ajaxParams:f.value.data=a.ajaxParams),e("update:init",f.value);const g=`${a.api}Table`;return await X(g,f.value).then(h=>{const _=h.data;o.value=_==null?void 0:_.realTable,l.value=_==null?void 0:_.tabsConfig,n.value=gs(a.api,a.method,_.tableConfig,a.ajaxParams,s.value),c.value=_.topButtonList,u.value=_.rightButtonList,i.value=_.selectButtonList,mc({xGrid:s.value,vxeTableConfig:n.value}),e("update:init-ok",_)}).catch(h=>{e("update:init-error",h)})},m=()=>{var f,g,h;if((f=o.value)!=null&&f.enable&&((g=o.value)!=null&&g.time_interval)){const _=((h=o.value)==null?void 0:h.time_interval)*1e3;setInterval(()=>{var v;(v=s.value)==null||v.commitProxy("reload")},_)}};return ce(async()=>{await d(),await m()}),(f,g)=>{var v,B,S,M,E;const h=us,_=T("vxe-grid");return(v=r(n))!=null&&v.id?(p(),C(_,L({key:0,ref_key:"xGrid",ref:s,class:"xh-table"},r(n),{onEditClosed:g[0]||(g[0]=({column:k,row:I})=>r(cs)(k,I,r(n),r(s)))}),Qe({topButtonList:w(({$grid:k})=>[A(r(tl),O(z({gridConfig:r(n),topButtonList:r(c),selectButtonList:r(i),xGrid:k})),null,16)]),rightButtonList:w(({row:k,column:I,$grid:D})=>[A(r(Zs),O(z({gridConfig:r(n),rightButtonList:r(u),row:k,column:I,xGrid:D})),null,16)]),pictuer:w(({row:k,column:I,$grid:D})=>[A(r(dc),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),unit:w(({row:k,column:I,$grid:D})=>[A(h,O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),html:w(({row:k,column:I,$grid:D})=>[A(r(Yl),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),remote:w(({row:k,column:I,$grid:D})=>[A(r(Ll),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),tags:w(({row:k,column:I,$grid:D})=>[A(r(ac),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),link:w(({row:k,column:I,$grid:D})=>[A(r(sc),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),input:w(({row:k,column:I,$grid:D})=>[A(r(Cl),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),InputNumber:w(({row:k,column:I,$grid:D})=>[A(r(Il),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),assets:w(({row:k,column:I,$grid:D})=>[A(r(il),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),money:w(({row:k,column:I,$grid:D})=>[A(r(Bl),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),image:w(({row:k,column:I,$grid:D})=>[A(r(ml),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),images:w(({row:k,column:I,$grid:D})=>[A(r(vl),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),photos:w(({row:k,column:I,$grid:D})=>[A(r(wl),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),icons:w(({row:k,column:I,$grid:D})=>[A(r(ul),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),switch:w(({row:k,column:I,$grid:D})=>[A(r(tc),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),select:w(({row:k,column:I,$grid:D})=>[A(r(ec),O(z({gridConfig:r(n),row:k,column:I,xGrid:D})),null,16)]),_:2},[(S=(B=r(n))==null?void 0:B.screenRemote)!=null&&S.file||(E=(M=r(l))==null?void 0:M.list)!=null&&E.length?{name:"form",fn:w(({$grid:k})=>{var I,D,H;return[A(r(Xl),O(z({gridConfig:r(n),xGrid:k,formScreen:{...(I=r(n))==null?void 0:I.formConfig,screenConfig:(D=r(n))==null?void 0:D.screenConfig},formRemote:(H=r(n))==null?void 0:H.screenRemote,tabsConfig:r(l)})),null,16)]}),key:"0"}:void 0]),1040)):j("",!0)}}}),_c={class:"xhadmin-table-pro"},fc=P({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,a)=>(p(),x("div",_c,[A(r(na),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const At=U(fc,[["__scopeId","data-v-62ed6f04"]]),hc={class:"xh-modal-container"},gc=P({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const a=()=>{e("update:close")};return(s,n)=>(p(),x("div",hc,[A(r(ie),{file:s.file,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const Ge=U(gc,[["__scopeId","data-v-523e3818"]]),vc={class:"xhadmin-table-pro"},yc=P({name:"/table"}),xc=P({...yc,setup(t){const e=se(),a=e.path,s=e.meta.method,n=e.query??{};return(o,l)=>(p(),x("div",vc,[A(r(na),{api:r(a),method:r(s),"ajax-params":r(n)},null,8,["api","method","ajax-params"])]))}});const kc=U(xc,[["__scopeId","data-v-0f9af155"]]),Ac=t=>(Ie("data-v-c6a4b61a"),t=t(),Be(),t),wc={class:"xhadmin-page-pro"},bc={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Cc=Ac(()=>b("span",{class:"pl-1 text-[16px]"},"返回",-1)),Pc={key:0,class:"pl-20px text-[16px] select-none"},Ic={class:"form-pro flex-1"},Bc=P({name:"/form"}),$c=P({...Bc,setup(t){const e=se(),a=y(),s=y(),n=e.path,o=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),u=y({submitBtn:{},resetBtn:{}}),i=h=>{var v;const _=(v=h==null?void 0:h.response)==null?void 0:v.extraConfig;u.value=_},d=()=>{a.value.submit()},m=()=>{a.value.reset(),ae("数据重置完成")},f=()=>{s.value.setDisabled(!0)},g=()=>{s.value.setDisabled(!1)};return(h,_)=>{var B,S,M;const v=Z;return p(),x("div",wc,[(B=r(e).query)!=null&&B.isBack?(p(),x("div",bc,[b("div",{class:"flex items-center cursor-pointer select-none",onClick:_[0]||(_[0]=(...E)=>r(Ne)&&r(Ne)(...E))},[A(v,{icon:"ArrowLeftOutlined",size:16}),Cc]),(S=r(e).meta)!=null&&S.title?(p(),x("div",Pc,R((M=r(e).meta)==null?void 0:M.title),1)):j("",!0)])):j("",!0),b("div",Ic,[A(r(gt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:r(n),method:r(o),"ajax-params":r(c),"onUpdate:initOk":i,"onUpdate:submit":f,"onUpdate:submitOk":g,"onUpdate:submitError":g,"onUpdate:restOk":g,"onUpdate:initError":g},null,8,["api","method","ajax-params"])]),A(r(ls),{ref_key:"buttonRef",ref:s,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":d,"onUpdate:rest":m},null,8,["extra-config"])])}}});const Vc=U($c,[["__scopeId","data-v-c6a4b61a"]]),Sc={class:"h-100%"},Dc=P({name:"remote"}),Tc=P({...Dc,setup(t){const a=se().meta.ajaxParams;return(s,n)=>(p(),x("div",Sc,[A(r(ie),{file:r(a)},null,8,["file"])]))}}),Ec={};function jc(t,e){return p(),x("div",null," Html内容文件 ")}const Uc=U(Ec,[["render",jc]]),Rc={class:"h-100%"},Mc=P({name:"remote"}),Lc=P({...Mc,setup(t){const e=Ve();return(a,s)=>(p(),x("div",Rc,[A(r(ie),{file:r(e),"is-api":!0},null,8,["file"])]))}}),qc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Vc,htmlIndex:Uc,remoteIndex:Tc,tableIndex:kc,vueIndex:Lc},Symbol.toStringTag,{value:"Module"})),at={routeView:()=>fe(()=>import("./index.deb7c476.js"),["xbase/js/index.deb7c476.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"]),exceptionView:()=>fe(()=>import("./exception.f0ed20f0.js"),["xbase/js/exception.f0ed20f0.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"])},Fc=t=>{if(!t)return at.blankView;if(t in at)return at[t];const e=zr(t??"");return qc[e]},Oc=t=>{for(const e of t){const a=e.remote,s=a.replace("/","_"),n=()=>ze(ie,{file:a});n.displayName=s;const o={path:e==null?void 0:e.path,name:s,component:n,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};Q.addRoute(o)}},Hc=t=>{const e=[];for(const a of t)if(a.path){const s={path:`/${a.path}`,name:a.path.replace("/","_"),component:Nt(Fc(a.component)),meta:{title:a.title,path:a.path,pid:a.pid,icon:a.icon,ajaxParams:a.params},children:[]};(!s.children||s.children.length<1)&&delete s.children,e.push(s)}return e},sa=new Map,la=(t,e,a)=>{var o;const s=[];let n=[];e?n=t.filter(l=>(l==null?void 0:l.pid)===e):n=t.filter(l=>!l.pid);for(const l of n){const c=a?`${a}-${l.id}`:`${l.id}`;let u=`/${l.path}`;if(l!=null&&l.params&&(l!=null&&l.params.includes("group"))){const m=Xe(`?${l==null?void 0:l.params}`);u+=`_group=${m==null?void 0:m.group}`}else l!=null&&l.params&&(u+=`_${l==null?void 0:l.params}`);sa.set(u,c);const i={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.params,path:l.path,show:(l==null?void 0:l.show)??!0,target:l.target??"_blank",isGroup:!1,children:la(t,l.id,c)},d=(o=i.children)==null?void 0:o.some(m=>m.show);i.show&&d&&(i.isGroup=!0),s.push(i)}return s},Et=sa,Nc=y("OS");matchMedia("(prefers-color-scheme: dark)");function zc(){return{theme:Nc}}const ue=Xt("user",()=>{const t=je(),e=y({...$t}),a=y([]),s=y([]),n=y({...tt}),o=_=>{if(!_){V("令牌数据错误","温馨提示");return}_.includes("Bearer")||(_=`Bearer ${_}`),t.value=_},l=_=>{if(!(_!=null&&_.menus)){V("用户信息缺少Menus字段参数");return}_.menus instanceof Array&&_.menus.length>0&&(a.value=Hc(_.menus),s.value=la(_.menus)),_!=null&&_.theme&&(n.value={...n.value,..._.theme}),e.value=_};return{layoutInfo:n,userInfo:e,Authorization:t,setToken:o,login:async(_,v=!0,B=!0)=>{var k,I,D,H,G;const M=(I=(k=K().siteInfo)==null?void 0:k.public_api)==null?void 0:I.login;if(!M){V("请配置登录接口");return}const E=await Te(M,_);if(!((D=E==null?void 0:E.data)!=null&&D.access_token)){V("登录错误，没有获取到令牌","温馨提示");return}if(o(E.data.access_token),v&&ae((E==null?void 0:E.msg)??"登录成功","温馨提示"),B){const we=((H=Q.currentRoute.value.query)==null?void 0:H.redirect)??E.data.url;Q.push(we)}return(G=E==null?void 0:E.data)==null?void 0:G.access_token},loginOut:()=>{ke("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",l({...$t}),Q.push(pe)})},getUserInfo:async()=>{var S;const v=(S=K().siteInfo.public_api)==null?void 0:S.user;if(!v){V("请配置用户信息接口");return}const{data:B}=await ge(v);B&&l(B)},routeList:a,menuList:s,setTheme:_=>{n.value.theme=_,zc().theme.value=_},setLayout:_=>{n.value.layout=_},setLayoutMenu:_=>{n.value.layoutMenu=_},hanldCollapse:_=>{let v=0;_?v=tt.sideWidth:v=n.value.sideMenuWidth,n.value.sideMenuCollapse=_,n.value.sideWidth=v},setLayoutMenuCollapse:()=>{let _=0,v=!1;n.value.sideMenuCollapse?(_=tt.sideWidth,v=!1):(_=n.value.sideMenuWidth,v=!0),n.value.sideMenuCollapse=v,n.value.sideWidth=_}}}),Qc={class:"xhadmin-menus-pro"},Wc=["onClick"],Zc={class:"text"},Gc={key:0,class:"mask"},Xc=P({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;ve(f=>({"410bcf6a":r(o),"8ce1452e":r(l)}));const a=he(ue()).layoutInfo,s=$(()=>{var f;return((f=a.value)==null?void 0:f.layoutMenu)||"group"}),n=$(()=>{var f;return((f=a.value)==null?void 0:f.layoutTabsTheme)||"radius"}),o=$(()=>`${e.sideWidth}px`),l=$(()=>`${e.sideMenuWidth}px`),c=y(""),u=y(""),i=f=>{c.value=f;const g=c.value.split("-");u.value=g[0]},d=f=>{var _;const g=f[0],h=(_=g==null?void 0:g.children)==null?void 0:_.find(v=>v.show===!0);return g!=null&&g.children&&h?d((g==null?void 0:g.children)??[]):g},m=f=>{var M;const g=(M=f==null?void 0:f.children)==null?void 0:M.find(E=>E.show===!0);let h=f;f!=null&&f.children&&g&&(h=d((f==null?void 0:f.children)??[]));const _=h.path,v=y({});h.ajaxParams&&(v.value=Xe(h.ajaxParams));const B=h.activeId;i(B);const S={...v.value};_e(`/${_}`,S)};return ce(()=>{i(e.active)}),(f,g)=>{const h=Z,_=T("el-menu");return p(),x("div",Qc,[(p(!0),x(q,null,W(f.menus,v=>(p(),x("div",{key:v.id,class:"item"},[v.show?(p(),x("div",{key:0,class:me({"item-triangle":r(n)==="triangle","item-radius":r(n)==="radius",active:r(u)===v.activeId}),onClick:B=>m(v)},[A(h,{icon:v.icon,size:"22",type:(v==null?void 0:v.iconType)||""},null,8,["icon","type"]),b("div",Zc,R(v.title),1),r(n)==="triangle"?(p(),x("div",Gc)):j("",!0)],10,Wc)):j("",!0),b("div",{class:me(["item-children",{active:r(u)===v.activeId}])},[A(_,{"default-active":f.active,"unique-opened":r(s)==="level"},{default:w(()=>[(p(!0),x(q,null,W(v.children,B=>(p(),x(q,{key:B.activeId},[r(s)==="level"?(p(),C(Ao,{key:0,"menu-data":B},null,8,["menu-data"])):(p(),C(_t,{key:1,"menu-data":B},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const Jc=U(Xc,[["__scopeId","data-v-88d1763c"]]),jt="data:image/png;base64,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",Yc=["src"],Kc=P({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;ve(n=>({"2035992c":r(s)}));const a=$(()=>e.logoSrc?e.logoSrc:jt),s=$(()=>`${e.logoHeight}px`);return(n,o)=>{const l=T("el-image");return p(),C(l,{src:r(a),class:"logo"},{error:w(()=>[b("img",{src:r(jt),class:"logo"},null,8,Yc)]),_:1},8,["src"])}}});const er=U(Kc,[["__scopeId","data-v-25a57a60"]]),tr=P({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,a)=>(p(),x("span",null,R(e.sideName),1))}}),ar={class:"xhadmin-logo-pro"},or={class:"logo-image"},nr={class:"logo-text"},sr=P({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;ve(c=>({"17f791e0":r(n),c8e0b0ea:r(l),"516e1642":r(o)}));const a=ue(),{layoutInfo:s}=he(a),n=$(()=>`${e.sideWidth}px`),o=$(()=>`${e.sideMenuWidth}px`),l=$(()=>`${e.headerHeight}px`);return(c,u)=>(p(),x("div",ar,[b("div",or,[A(er,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),Wt(b("div",nr,[A(tr,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[Zt,!r(s).sideMenuCollapse]])]))}});const lr=U(sr,[["__scopeId","data-v-10c86653"]]),cr=P({__name:"index",setup(t){const e=se(),a=()=>`${new Date().getTime()}${Math.random()}`,s=y("");return Jt(()=>e.fullPath,()=>{s.value=a()}),(n,o)=>{const l=T("router-view");return p(),C(l,{key:r(s)})}}}),Ut="2kxPLLhPzHvGV679nhjvx+7/Q6ejL3e/AUj0GGpKBzYMdXt7w3JImKWHUvOxWRwpxFrLh3DdPakGMtK5kIH+/G8LI/FGqrN3Ki2UpfG4d4dcs8WaQcZFAzQO9pYogwPcVaQDdXPcVbujAoEL7NAXDw4HgorRNyA3p+0+zVy/s/lADXLyXHNfsen/btV61qzfvD3EetLa/9wJHUvnL4+UHU6j/sZU7PxkxkVmbJxFcMBmZvJ0Ye7+ruLcfQPV7f8fbm7W/cMQGEFVxRsi73EyRrMT6zU9NnnuVW7MhC09yAZxFqLvsHCqu+qbh+V2y4X7zEdbUw2iDEfc+z/bSAPtsg==EmuytNQXOysbgaAl6gv2eTR/RPp3d3s+9M8/P6Up6GiCoNHNoYhhokC1L8m38Dp/tqElx+t1zbjQ05edoeC2FuYtR670VhtJ43+d6IW31l0VJiUlspqOxDNYEM6Svp9QR/68LOywfXSSrnO107+VifdaDA2pnc6+XLkIczMCAA5+ZPzGc8asiGUAPHXjGpOId7AE/x1owdIvWKKwcNitnAMbrw/Z8WHaL8VIxQo1Yd+AMqyH28iffk51OzwCO0X7WU1u6BWRcvshdOCVlT15J8//cqCskRcVxXZ70x7lj14biLzkrCpILzV7dcMzOYzT+/XtTIegCc9hCIPWoHuGxQ==kGlzZmVLYqKBkDfhdOclX966XBaO2tuC/1eFi7AsXwyb9x5qQYfF3WUR8h3tBcK3XcFtTu667R+vMD+N2CUye0hm0ZdxZmWC82qiieyVQfpqKyyTWfXjL0u1bBz0I10iKkmBfz2N4UP+oEzXA8PFldRrpJXWHayhbYpCN7xl30tNLdT19xqClThF5qHl1gOdMR/pZby5ZFYav+lDfzNO2RT2xVG5Xv06ScgsxLy4chNPJNL9FzlA4Pww+HvpdAm6FLFx2JqRUkonVGrrSn96ZHQdRqMQNUAi8M2JZC/0HWpnZXFPX6CY6y+9q+e3BuWjDMN+Mkf/RrYo2mlqWZHP3g==",Rt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDugQywjOCeu+GQ
b3/KAFUSrU7YXw23WBNo9c6aNsIu2JkEGWiXSWMlJ+QYVlGU+zTeiJbb3EK6r8/W
COarDDC92Qfbr3vztUG4vPbBYPewxaMrjCfbJ/9iut+Xjzd5Cci+FiD+Hcjne7wt
pYUmiOV2e0JpWX9OyI3QY+MkhddLaWHvzoJfxBf1vwDbBZbDME/byk4Zm5h7davE
rgFngEC1BoOqUn9T25thaYIa+oLq5jenkKVx0ztVe4sf/XxG18L7ZFuzYRR5kJ4o
VJfSwj3pwOWkvdLSyj72MtrR+9kvRfXpgB5Zcrp4UN7Gw4aU+cLcSwm6ZpsU4+8c
2oVCBpe9AgMBAAECggEAcueti2lz1kXCOGnfcRyT3/mrIMc6vngqccjrDpUPHK6x
ma38G9b5cy8yzx7XEyWrpQK9W5NUesi1IvMK3qFy4iQriwWSfCl5Tl2LrELhUkMF
h7dwhD9S5OgPTN9s5F14X0wd/Q+weQW99WfnLFeL5Xcg2cyKbxRkbl+RUUlCHkvr
ET0jBt6VhxvbDIncPWCmSqiZGLPw3ER6Ibl/HugIFh/bhC0dg4CIbL0tuZ4L8xXW
rbPBgOQuz5kNOkxvZrIbYfQxvAJ4TMKOV5ZW94AF4JJk+uAGOQJHvgyxLc/X/hY2
Yv7p+MTL0g0INvgdD3i2Ya9QKPL9bQ2RY3jVerK3qQKBgQD3TpDZlRcxqb+PhHlp
HA+wp1tDrs4qH0oD/y8/Mq700LUF0sLB8wViW6SMiCvCtDeLkns4FnxCU/qSQhzR
bA+2yOSeojPSWA8Ro1hY3j9HG6e7U3Pm42bijxEvUrApXquE+ozKjCoa4e8s64mv
iEStcT+qa1edUsCZkvhMLOUt/wKBgQD240UubTn5d23OguP/SBhe5fU6ofXghKJu
8wxuCuwwxxThKftNWqAxKerzBWg0hVjkYzl3HQ6er2uPfCnaIYThgBhp3J6Wq6Rj
TCz0M4S4bxp/psEl5gLi+cjMBa881CL9vgRD3UAGMdHwWjGNsUBtiC/Tq/t/KSIZ
IESUrHByQwKBgDYDuOts/tXgB3DnNEVa1ap1wx8zTOAyWU4qLD2XalMaSo9tCxCl
baWf8n6nNzedeQxJABSuBJHQGchcHEM5YO1BT32+W6cziIcHsEIouJVlWus1PPlO
7afKK6y0WLmQbdHrj1il6IRamIytHTNzhdyEAa3NKCO6cUqZqRWqMJwtAoGBALr1
vmT7CAUXYMsbKcce9H2gzMUa8xSTvGIiog4PLW9+wxwD669XaqnwYWCpfpEPThKd
5V2DXpfipaRh1Vu/OF5/330DOgFFd9ZOUFiZTu9QC5QRVoD5nsP9fgaqY1rAFsNq
itZNjPdj8OR/mLkBOpX3pKg5u9k+7/hxDB4+O2T7AoGAQCR0OOo7nGPTkqaId6xr
BpV/E09Z0jTrHd5j+su+nr6FM6aI2M83cxAehIJPlse3/Hua7TsQF91aXj7ZQaSq
cQGxYwuMp2MqT9v0s+YNQXBf3jUN6ThNpLTD5bKRTkYEaWcDVz/3zeM06I6OEdGj
MVh0HnBnhXGwbxu2+RDp83c=
-----END PRIVATE KEY-----`,Mt=window.location.hostname,ot=(t,e)=>{const a=new qa;a.setPrivateKey(e);const s=t.match(/.{1,344}/g);if(!s)throw new Error("令牌表单解密失败");let n="";if(s==null||s.forEach(o=>{const l=a.decrypt(o);l&&(n+=l)}),!n)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(n),o=>o.charCodeAt(0))))},rr=()=>{const e=K().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const a=ot(e.empower_token,e.empower_private_key);return console.log("当前域名",Mt),a.systemUrl.includes(Mt)||a!=null&&a.isChannels?(console.log("使用自定义版权"),console.log("版权数据",a),a):(console.log("使用原生版权"),ot(Ut,Rt))}catch(a){console.error("服务端授权失败",a)}try{return ot(Ut,Rt)}catch(a){console.error("系统授权错误",a)}},ca=()=>{const e=K().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},ir={class:"copyright-set"},ur={key:0},dr=["href"],pr=["href"],mr=P({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:a,systemName:s,systemUrl:n}=rr(),{version_name:o}=ca(),l=window.location.protocol;return(c,u)=>(p(),x("div",ir,[F(" copyright © 2023 "),r(a)==="#"?(p(),x("span",ur,R(r(e)),1)):(p(),x("a",{key:1,href:`${r(l)}//${r(a)}`,target:"_blank",class:"pl-10px"},R(r(e)),9,dr)),F(" All Rights Reserved "),b("a",{href:`${r(l)}//${r(n)}`,target:"_blank",class:"pl-10px"},R(r(s))+" "+R(r(o)),9,pr)]))}});const _r=U(mr,[["__scopeId","data-v-448a4e9c"]]),fr={class:"flex items-center"},hr={class:"xhadmin-header-breadcrumb"},gr=P({__name:"side",setup(t){K();const e=ue(),{layoutInfo:a}=he(e);return(s,n)=>{const o=Z;return p(),x("div",fr,[b("div",hr,[b("div",{class:"side-action",onClick:n[0]||(n[0]=l=>r(e).setLayoutMenuCollapse())},[A(o,{icon:r(a).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])])])}}});const vr=U(gr,[["__scopeId","data-v-738820b2"]]),yr={class:"xh-dropdown-link"},xr={class:"text"},kr=P({__name:"index",setup(t){const e=K(),a=ue(),{userInfo:s}=he(a),n=()=>{var c,u;if(!((c=e.siteInfo.public_api)!=null&&c.user_edit_path)){ke("当前系统未开启个人资料修改功能","温馨提示");return}_e((u=e.siteInfo.public_api)==null?void 0:u.user_edit_path)},o=()=>{a.loginOut()},l=c=>{switch(c){case"hanldProfile":n();break;case"loginout":o();break}};return(c,u)=>{const i=Z,d=T("el-dropdown-item"),m=T("el-dropdown-menu"),f=T("el-dropdown");return p(),C(f,{class:"xh-dropdown",onCommand:l},{dropdown:w(()=>[A(m,null,{default:w(()=>[A(d,{command:"hanldProfile"},{default:w(()=>[F(" 个人中心 ")]),_:1}),A(d,{command:"loginout"},{default:w(()=>[F(" 退出登录 ")]),_:1})]),_:1})]),default:w(()=>{var g;return[b("div",yr,[b("span",xr,R((g=r(s))==null?void 0:g.nickname),1),A(i,{icon:"ArrowUp",size:14})])]}),_:1})}}});const Ar=U(kr,[["__scopeId","data-v-b5fc1598"]]),wr={class:"flex-1 flex items-center justify-end"},br=P({__name:"tools",setup(t){var s;const a=((s=K().siteInfo.public_api)==null?void 0:s.header_file)??"";return(n,o)=>(p(),x("div",wr,[r(a)?(p(),C(r(ie),{key:0,file:r(a)},null,8,["file"])):j("",!0),A(Ar)]))}}),Cr={class:"flex justify-between"},Pr=P({__name:"index",setup(t){return(e,a)=>(p(),x("div",Cr,[A(vr),A(br)]))}});const Ir={class:"xhadmin-mix-layout"},Br={class:"xhadmin-header-pro"},$r={class:"xhadmin-main-pro"},Vr={class:"xhadmin-side-pro"},Sr={class:"xhadmin-content-pro"},Dr={class:"xhadmin-content pt-4 pl-4 pr-4"},Tr={class:"xhadmin-copyright-pro"},Er=P({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;ve(n=>({fc52b88e:r(a),"4b67b472":r(s)}));const a=$(()=>`${e.headerHeight}px`),s=$(()=>e.sideWidth);return(n,o)=>(p(),x("div",Ir,[b("div",Br,[A(lr,{"header-height":n.headerHeight,"side-width":n.sideWidth,"logo-src":n.sideLogo,"side-name":n.sideName,"logo-height":n.logoHeight,"side-menu-width":n.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),A(Pr,{class:"xhadmin-toolbar"})]),b("div",$r,[b("div",Vr,[A(Jc,{"side-width":n.sideWidth,"side-menu-width":n.sideMenuWidth,active:n.active,menus:n.menus},null,8,["side-width","side-menu-width","active","menus"])]),b("div",Sr,[b("div",Dr,[A(cr)]),b("div",Tr,[A(_r)])])])]))}});const jr=U(Er,[["__scopeId","data-v-46242c7f"]]);const Ur=()=>{const t=se(),e=ct({active:""}),a=s=>{let n=Et.get(s);n||(n=Et.get(Kt)),e.active=n??""};return Jt(()=>t.fullPath,()=>{var n,o,l,c;let s="";(n=t==null?void 0:t.query)!=null&&n.group&&((o=t==null?void 0:t.meta)!=null&&o.ajaxParams.includes("group"))?s=`${t.path}_group=${(l=t.query)==null?void 0:l.group}`:(c=t==null?void 0:t.meta)!=null&&c.ajaxParams&&!s?s=`${t.path}_${t.meta.ajaxParams}`:s=(t==null?void 0:t.path)??"",a(s)}),{...Oa(e),updateActive:a}},[Rr,Mr]=Fa(Ur),Lr=()=>Mr()??{active:y(""),updateActive:()=>{}},qr=P({__name:"index",setup(t){const e=K(),a=ue(),{active:s}=Lr(),{layoutInfo:n}=he(a),o=e.siteInfo,l=a.menuList;return(c,u)=>{var i,d;return r(n).layout==="mix"?(p(),C(r(jr),{key:0,"header-height":r(n).headerHeight,"side-width":r(n).sideWidth,"side-menu-width":r(n).sideMenuWidth,"side-logo":(i=r(o))==null?void 0:i.web_logo,"side-name":(d=r(o))==null?void 0:d.web_name,"logo-height":r(n).logoHeight,active:r(s),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):j("",!0)}}}),Fr={path:"/",name:"default-router",component:qr,redirect:Kt,children:[]},Or=[{path:"/workspace/exception",name:"workspaceException",component:()=>fe(()=>import("./index.b0d8bfab.js"),["xbase/js/index.b0d8bfab.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"]),meta:{title:"出现错误啦~"}}],Hr=[{...Fr,children:[...Or]},{path:"/login",name:"Login",component:()=>fe(()=>import("./index.b88c1e37.js"),["xbase/js/index.b88c1e37.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css","xbase/css/index.f614f066.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>fe(()=>import("./index.592853c9.js"),["xbase/js/index.592853c9.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>fe(()=>import("./index.b0d8bfab.js"),["xbase/js/index.b0d8bfab.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"])},{path:"/:pathMatch(.*)",component:()=>fe(()=>import("./index.b0d8bfab.js"),["xbase/js/index.b0d8bfab.js","xbase/js/.pnpm.a5146d4c.js","xbase/css/.pnpm.a9ea122e.css"])}],Nr=Ha({routes:[...Hr],history:Na("/")}),Q=Nr,Me=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ve=(t="",e=!1)=>{const a=Q.currentRoute.value,s=Me(),n=y(a.path);if(e){const o=n.value.indexOf("/",1);n.value=n.value.substring(0,o),n.value=`${n.value}/`}return`${s}${n.value}${t}`},wt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},_e=(t,e)=>{wt(t)?location.href=t:Q.push({path:t,query:e})};function nt(t=6){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return e}const dt=(t,e)=>{for(const a in e)if(e[a]===t)return!0;return!1},Ne=()=>{var e;(e=Q.currentRoute.value.query)!=null&&e.isBack||V("返回上次页面错误"),Q.back()},zr=t=>t.replace(/\/(\w)/g,(e,a)=>a.toUpperCase()),Qr=(t,e="Enter")=>{const a=s=>{s.key===e&&(t(),s.preventDefault())};za(()=>document.addEventListener("keydown",a)),zt(()=>document.removeEventListener("keydown",a))},Xe=t=>{let e;const a={},s=t.slice(t.indexOf("?")+1).split("&");for(let n=0;n<s.length;n++)e=s[n].split("="),a[e[0]]=e[1];return a},Wr=()=>window.location.origin,K=Xt("app",()=>{const t=Me(),a=`${t?`/${t}`:""}/Index/site`,s=y({...vo}),n=y(),o=u=>{s.value=u};return{siteInfo:s,getSite:async()=>{const{data:u}=await ge(a);return o(u),u},setSiteInfo:o,setLoginLink:u=>{n.value=u}}}),Zr=async t=>{var s;const e=K().siteInfo,a=((s=e==null?void 0:e.uploadify_api)==null?void 0:s.index)||"";return await ge(a,t).then(n=>n==null?void 0:n.data)},Gr=async t=>{var n;const e=K().siteInfo,a=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.edit;if(!a)return V("请先配置附件修改接口"),!1;const s=y();return await xe(go,{modelValue:t,"onUpdate:init":o=>{s.value=o}},{title:"修改附件",customStyle:{width:"450px",height:"500px"},beforeClose:(o,l,c)=>{var u;o==="confirm"?(u=s.value)!=null&&u.getFormData()&&c():c()}}).then(()=>{var l;const o=(l=s.value)==null?void 0:l.getFormData();if(o)return Te(`${a}?id=${t==null?void 0:t.id}`,o).then(c=>{ae((c==null?void 0:c.msg)||"修改成功")})})},Xr=async t=>{var n;const e=K().siteInfo,a=(n=e==null?void 0:e.uploadify_api)==null?void 0:n.del;if(!a)return V("请先配置文件删除接口"),Promise.reject(new Error("请先配置文件删除接口"));if(t.length<=0)return V("请选择需要删除的文件"),Promise.reject(new Error("请选择需要删除的文件"));const s={ids:t.map(o=>o.id)};return await ke("是否确认删除选中的文件？","温馨提示","error").then(()=>it(a,s).then(o=>{ae((o==null?void 0:o.msg)||"删除成功")}))},Jr={class:"uploadify-modal"},Yr={class:"category-container"},Kr={class:"category-title"},ei={class:"title"},ti=b("span",null,"文件类型",-1),ai={class:"category-content"},oi=["onClick"],ni={class:"title"},si={class:"content-container"},li={class:"action-box"},ci={class:"action"},ri={class:"upload"},ii={key:0,class:"content-box"},ui=["onClick"],di={key:1,class:"preview"},pi={key:2,class:"preview"},mi={key:3,class:"preview"},_i={class:"mask"},fi={key:1,class:"empty-box"},hi={key:2,class:"paginate-box"},ra=P({__name:"modal",props:{type:{},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:init","update:type"],setup(t,{expose:e,emit:a}){var bt;const s=t,n=Pe(),o=K().siteInfo,l=je(),c=y(),u=y({background:!0,layout:"prev, pager, next, jumper",total:0}),i=y({page:1,limit:20}),d=y(s.type),m=y(Oe(d.value)),f=y(Oe(d.value,".")),g=y([]),h=y(!1),_=y([]),v=y([]),B=(bt=o.uploadify_api)==null?void 0:bt.upload,S=y({[ft]:l.value||"",ACCEPT:"application/json"}),M=y({action:`${ht}${B}`,data:{suffix:m.value},accept:f.value,headers:S.value,multiple:!0,withCredentials:!0,showFileList:!1}),E=async()=>{const N={page:i.value.page,limit:i.value.limit,suffix:m.value};return await Zr(N).then(ee=>{v.value=(ee==null?void 0:ee.data)||[],u.value.total=(ee==null?void 0:ee.total)||0})},k=()=>{i.value.page=1,i.value.limit=20,v.value=[],g.value=[],_.value=[]},I=()=>{h.value=!1,_.value=[]},D=()=>{_.value.length===v.value.length?_.value=[]:_.value=[...v.value]},H=N=>{k(),d.value=N,m.value=Oe(N),f.value=Oe(N,"."),M.value.data.suffix=m.value,M.value.accept=f.value,E()},G=()=>g.value,oe=N=>{h.value?_.value.includes(N)?_.value.splice(_.value.indexOf(N),1):_.value.push(N):s.selectLimit===1?g.value[0]=N:g.value.includes(N)?g.value.splice(g.value.indexOf(N),1):(s.selectLimit===0||g.value.length<s.selectLimit)&&g.value.push(N)},we=N=>{Gr(N).then(()=>{E()})},Se=N=>{let ee=_.value;N&&(ee=[N]),Xr(ee).then(de=>{k(),E(),_.value=[],h.value=!1})},Le=N=>{i.value.page=N,E()},qe=()=>{c.value=Re("上传中...")},Je=async N=>{k(),i.value.page=1,c.value&&c.value.close(),E(),ae((N==null?void 0:N.msg)||"上传成功")},ia=()=>{Ka("暂未开放")},ua=()=>{k(),i.value.page=1,c.value&&c.value.close(),E(),V("上传失败")};return e({getSelected:G}),ce(async()=>{await E(),a("update:init",n.exposed)}),(N,ee)=>{const de=Z,be=T("el-button"),da=T("el-upload"),pa=T("el-image"),ma=T("el-text"),_a=T("el-empty"),fa=T("el-pagination");return p(),x("div",Jr,[b("div",Yr,[b("div",Kr,[b("div",ei,[A(de,{icon:"Folder",size:18}),ti])]),b("div",ai,[(p(!0),x(q,null,W(r(mt),(J,Ye)=>(p(),x("div",{key:Ye,class:me(["item",{active:J.type===r(d)}]),onClick:Ke=>H(J.type)},[b("div",ni,[A(de,{icon:"Folder",size:17}),b("span",null,R(J.title),1)])],10,oi))),128))])]),b("div",si,[b("div",li,[b("div",ci,[r(h)?j("",!0):(p(),C(be,{key:0,type:"primary",onClick:ee[0]||(ee[0]=J=>h.value=!0)},{default:w(()=>[F(" 管理 ")]),_:1})),r(h)?(p(),C(be,{key:1,type:"primary",onClick:I},{default:w(()=>[F(" 退出 ")]),_:1})):j("",!0),r(h)?(p(),C(be,{key:2,type:"info",onClick:D},{default:w(()=>[F(" 全选 ")]),_:1})):j("",!0),r(h)?(p(),C(be,{key:3,type:"danger",onClick:ee[1]||(ee[1]=J=>Se())},{default:w(()=>[F(" 删除 ")]),_:1})):j("",!0)]),b("div",ri,[A(be,{type:"primary",class:"special",onClick:ia},{default:w(()=>[F(" 大文件上传 ")]),_:1}),A(da,L({class:"ordinary"},r(M),{"before-upload":qe,"on-success":Je,"on-error":ua}),{default:w(()=>[A(be,{type:"success"},{default:w(()=>[F(" 普通上传 ")]),_:1})]),_:1},16)])]),r(v).length?(p(),x("div",ii,[(p(!0),x(q,null,W(r(v),(J,Ye)=>(p(),x("div",{key:Ye,class:me(["item",{active:!r(h)&&r(g).includes(J),"active-warning":r(h)&&r(_).includes(J)}]),onClick:Ke=>oe(J)},[r(De)("image",J.format)?(p(),C(pa,{key:0,src:J.url,fit:"cover",class:"image"},null,8,["src"])):r(De)("video",J.format)?(p(),x("div",di,[A(de,{icon:"Document",size:42})])):r(De)("doc",J.format)?(p(),x("div",pi,[A(de,{icon:"Document",size:42})])):r(De)("zip",J.format)?(p(),x("div",mi,[A(de,{icon:"Document",size:42})])):j("",!0),b("div",_i,[A(de,{icon:"EditFilled",title:"编辑附件",size:16,onClick:Ke=>we(J)},null,8,["onClick"]),A(de,{icon:"DeleteFilled",title:"删除附件",size:16,onClick:Ke=>Se(J)},null,8,["onClick"])]),A(ma,{class:"title",truncated:""},{default:w(()=>[F(R(J.title),1)]),_:2},1024)],10,ui))),128))])):(p(),x("div",fi,[A(_a,{description:"当前没有更多附件"})])),r(v)?(p(),x("div",hi,[A(fa,L(r(u),{"default-page-size":r(i).limit,onCurrentChange:Le}),null,16,["default-page-size"])])):j("",!0)])])}}});class gi{constructor(){Fe(this,"title","");Fe(this,"iconSvg","");Fe(this,"tag","");this.title="选择附件",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(e){return""}isActive(e){return!1}isDisabled(e){return!1}exec(e,a){const s=y();xe(ra,{type:"image",selectLimit:10,uploadLimit:10,"onUpdate:init":n=>{s.value=n}},{title:"附件管理",customStyle:{width:"60%",height:"85vh"},beforeClose:(n,o,l)=>{var c;if(n==="confirm"){const u=(c=s.value)==null?void 0:c.getSelected();if(u.length){const i=u.map(m=>m==null?void 0:m.url);let d="";i.forEach(m=>{et("image",m)?d+=`<img src="${m}" />`:et("video",m)?d+=`<video src="${m}" controls="controls" />`:et("audio",m)?d+=`<audio src="${m}" controls="controls" />`:d+=`<a href="${m}">${m}</a>`}),e.dangerouslyInsertHtml(d),l()}else V("请选择文件")}else l()}})}}const vi=P({__name:"index",setup(t){const e=y("zh-cn"),a=$(()=>e.value==="zh-cn"?Qa:Wa),s=ct({autoInsertSpace:!1}),n=ct({max:1});return(o,l)=>{const c=T("router-view"),u=T("el-config-provider");return p(),C(u,{button:r(s),message:r(n),locale:r(a)},{default:w(()=>[A(c)]),_:1},8,["button","message","locale"])}}}),yi=P({__name:"App",setup(t){const e={key:"xhUploadify",factory(){return new gi}};return Za.registerMenu(e),Rr(),(a,s)=>(p(),C(vi))}}),xi=t=>{let e="",a=0;t=(t||0).toString();for(let s=t.length-1;s>=0;s--)a++,e=t.charAt(s)+e,!(a%3)&&s!==0&&(e=`,${e}`);return e},Lt=(t,e,a,s)=>{let n;const o=a-e;function l(c){n||(n=c);const u=c-n,i=Math.min(u/s,1),d=e+Math.floor(i*o);d>999&&t.dataset.numberScrollThousandsOff===void 0?t.innerHTML=xi(d):t.innerHTML=d.toString(),u<s&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},ki={mounted(t,e,a){const{value:s}=e,n=parseFloat(t.dataset.numberScrollValue??"0"),o=s?parseFloat(s.toString()):0,l=parseInt(t.dataset.numberScrollDuration??"1000");Lt(t,n,o,l),t.dataset.numberScrollValue=o.toString()},updated(t,e){if(t.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:a}=e,s=parseFloat(t.dataset.numberScrollValue??"0"),n=a?parseFloat(a.toString()):0,o=parseInt(t.dataset.numberScrollDuration??"1000");n!==s&&(Lt(t,s??0,a,o),e.modifiers.once&&(t.dataset.numberScrollOnceExecuted="true")),t.dataset.numberScrollValue=n.toString()}};function Ai(t){t.directive("number-scroll",ki)}const He=y([...ko]),qt=y(!1),Ft=y(!1);Q.beforeEach(async(t,e,a)=>{Yt.start();const s=je(),n=K(),o=he(n);if(o.siteInfo.value.web_name||await n.getSite(),o.siteInfo.value.login_link&&n.setLoginLink(o.siteInfo.value.login_link),o.siteInfo.value.remote_url&&!qt.value){const u=o.siteInfo.value.remote_url;Oc(u);const i=u.map(d=>d.path??"");i.length&&(He.value=[...He.value,...i]),qt.value=!0,a({...t,replace:!0});return}const l=ue(),c=he(l);if(!Ft.value&&s.value){await l.getUserInfo();const u=c.routeList.value;u.length===0&&(s.value="",V("您没有任何权限"),a({path:pe,replace:!0})),u.forEach(i=>{Q.addRoute("default-router",i)}),Ft.value=!0,a({...t,replace:!0});return}if(!s.value&&!He.value.includes(t.path)){a({path:pe,query:{redirect:t.path}});return}if(!s.value&&t.path!==pe&&!He.value.includes(t.path)){a({path:pe});return}a()});Q.afterEach(t=>{var l,c;const{version_name:e}=ca(),s=((l=K().siteInfo)==null?void 0:l.web_name)||"xBase-Admin",n=`${s} ${e}`,o=(c=t.meta)==null?void 0:c.title;o?document.title=`${o} - ${n}`:s&&(document.title=n),Yt.done()});const wi=t=>{t.use(Ce),t.config.globalProperties.$XModal=Ce.modal,t.config.globalProperties.$XPrint=Ce.print,t.config.globalProperties.$XSaveFile=Ce.saveFile,t.config.globalProperties.$XReadFile=Ce.readFile},bi=Ga(),Ae=Xa(yi);wi(Ae);Ae.use(bi);Ae.use(Q);Ae.use(Ja);Ae.use(Ai);Ae.mount("#app");oa.vue=Ae;export{Z as _,K as a,Qr as b,_r as c,U as d,ie as e,je as f,xt as g,cr as h,pe as l,_e as o,ue as u};
