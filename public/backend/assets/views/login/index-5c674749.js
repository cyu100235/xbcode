import{c as V,d as J,e as tt,f as et,a as ot,i as st,j as nt}from"../../components/xb-router-view/redirect.vue_vue_type_script_setup_true_lang.ts-4c05091f.js";import"../../vendor/vue-d9146581.js";import{d as w,h as k,a as u,u as t,o as n,c as i,t as h,f as g,q as r,i as s,r as F,z as j,m as it,j as c,e as C,F as at,n as rt,b as y,v as lt}from"../../vendor/@vue-23ae8903.js";import{_ as X}from"../../components/xb-router-view/exception.vue-41d87dc1.js";import"../../vendor/vue-router-2c20130a.js";import"../../vendor/axios-4a70c6fc.js";import"../../vendor/@vueuse-1ac2deba.js";import"../../vendor/element-plus-2dce74ff.js";import"../../vendor/lodash-es-ac69cfd6.js";import"../../vendor/@element-plus-52f33995.js";import"../../vendor/@sxzz-c75af06c.js";import"../../vendor/@ctrl-f8748455.js";import"../../vendor/dayjs-4bc3d4de.js";import"../../vendor/@amap-aca98dec.js";import"../../vendor/async-validator-dee29e8b.js";import"../../vendor/memoize-one-297ddbcb.js";import"../../vendor/normalize-wheel-es-ed76fb12.js";import"../../vendor/@floating-ui-606f2ab9.js";import"../../vendor/pinia-16b4dd55.js";import"../../vendor/vue-demi-5e0f6d41.js";import"../../components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js";import"../../vendor/@vicons-1c0b19b5.js";import"../../vendor/less-8423defd.js";import"../../vendor/@form-create-9ca1a427.js";import"../../vendor/highlight.js-1559bd9d.js";import"../../vendor/dplayer-82a19070.js";import"../../vendor/@wangeditor-abba06a0.js";import"../../vendor/spark-md5-e0efa6a8.js";import"../../vendor/vxe-table-432e8408.js";import"../../vendor/xe-utils-51806c17.js";import"../../vendor/@vxe-ui-dc74f8df.js";import"../../vendor/dom-zindex-d72a3c32.js";import"../../vendor/xlsx-04f2268f.js";import"../../vendor/echarts-fc39ec6a.js";import"../../vendor/tslib-54e39b60.js";import"../../vendor/zrender-ee7f9476.js";const gt="/backend/assets/static/png/beian.gov.a20583c8.png",dt={key:0,class:"beian-pro"},ct=["href"],_t=["href"],At=w({__name:"beian",setup(Q){const d=V(),e=k(()=>d.siteInfo.login_beian);return(Z,b)=>{var m,p,_,l,E,v,W;const I=u("el-image");return(m=t(e))!=null&&m.beian_text||(p=t(e))!=null&&p.police_beian_text?(n(),i("div",dt,[(_=t(e))!=null&&_.beian_text?(n(),i("a",{key:0,class:"item",href:(l=t(e))==null?void 0:l.beian_url,target:"_blank"}," 备案编号："+h((E=t(e))==null?void 0:E.beian_text),9,ct)):g("",!0),(v=t(e))!=null&&v.police_beian_text?(n(),i("a",{key:1,class:"item",href:(W=t(e))==null?void 0:W.police_beian_url,target:"_blank"},[r(I,{class:"beian-gov",src:t(gt)},null,8,["src"]),s("span",null,h(t(e).police_beian_text),1)],8,_t)):g("",!0)])):g("",!0)}}});const pt=X(At,[["__scopeId","data-v-450808e6"]]),mt="/backend/assets/static/png/login-banner.bbcf3da2.png",Ct="/backend/assets/static/png/login-bg.503d1dd6.png";function ut(){const Q=F(!1),d=()=>{Q.value=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};return j(()=>{d(),window.addEventListener("resize",d)}),it(()=>{window.removeEventListener("resize",d)}),{isMobile:Q}}const It={key:0,class:"login-bg",autoplay:"",loop:"",muted:""},Bt=["src"],ht={class:"login-position"},Qt={key:0,class:"mobile-qrcode"},bt={class:"qrcode-box"},Et={class:"title"},vt=["src"],kt={key:1,class:"login-box"},Wt={class:"login-bg"},ft={key:0,id:"banner",autoplay:"",loop:"",muted:""},Ft=["src"],wt=["src"],Zt={class:"title-mask"},Yt={class:"title"},yt={class:"desc"},Vt={class:"login-content"},Gt={class:"logo-container"},Mt={class:"title"},Dt={class:"form-container"},Lt={class:"item"},xt={class:"item"},Rt={key:0,class:"item"},zt={class:"captcha-container"},Pt={class:"submit-button"},Ot={key:1,class:"backurl-container"},qt={class:"backurl"},Tt=["href"],jt={key:0,class:"register-findpwd"},Xt={key:0,class:"register"},Nt={key:1,class:"password"},Ut={key:2,class:"register-password"},St={key:0,class:"register"},$t={key:1,class:"password"},Ht={key:3,class:"other-login"},Kt={class:"other-conntent"},Jt={class:"other-item"},te=["src"],ee={key:1,class:"xbase-copyright"},oe=w({__name:"login-view",setup(Q){var G;const{accounLogin:d}=J(),{siteInfo:e}=V(),{isMobile:Z}=ut(),b=k(()=>{var a;return(a=e.login_data)!=null&&a.bg?e.login_data.bg.includes(".mp4"):!1}),I=k(()=>{var a,o;return(a=e.login_data)!=null&&a.bg&&e.login_data.bg.includes(".mp4")?e.login_data.bg:(o=e.login_data)!=null&&o.bg?`background-image:url(${e.login_data.bg});`:`background-image:url(${Ct});`}),m=k(()=>{var a;return(a=e.login_data)!=null&&a.ad?e.login_data.ad.includes(".mp4"):!1}),p=F(((G=e.login_data)==null?void 0:G.ad)||mt),_=F(""),l=F({username:"",password:"",vcode:""}),E=()=>{d(l.value)},v=async()=>{var B;const a=(B=e.public_api)==null?void 0:B.captcha;if(!a)return;const o=await et(a);o&&(_.value=o)};tt(()=>E());const W=k(()=>"data:image/png;base64,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");return j(()=>{v();var a=document.getElementById("banner");a!==null&&(a.autoplay=!0,a.addEventListener("contextmenu",function(o){o.preventDefault()}))}),(a,o)=>{var M,D,L,x,R,z,P,O,q,T;const B=ot,Y=u("el-input"),N=u("el-image"),U=u("el-button"),f=u("router-link"),S=u("el-divider"),$=u("el-tooltip"),H=st,K=pt;return n(),i("div",{class:"login-container",style:lt(t(b)?"":t(I))},[t(b)?(n(),i("video",It,[s("source",{src:t(I),type:"video/mp4"},null,8,Bt)])):g("",!0),s("div",ht,[t(Z)?(n(),i("div",Qt,[s("div",bt,[s("div",Et,h(t(e).web_name||"xbcode"),1),s("img",{src:t(W),class:"qrcode-img",alt:"访问二维码"},null,8,vt),o[3]||(o[3]=s("div",{class:"qrcode-tip"},"扫描二维码访问完整版",-1))])])):(n(),i("div",kt,[s("div",Wt,[t(m)?(n(),i("video",ft,[s("source",{src:t(p),type:"video/mp4"},null,8,Ft)])):(n(),i("img",{key:1,class:"login-banner",src:t(p)},null,8,wt)),s("div",Zt,[s("div",Yt,h(((M=t(e).login_data)==null?void 0:M.login_title)||""),1),s("div",yt,h(((D=t(e).login_data)==null?void 0:D.login_desc)||""),1)])]),s("div",Vt,[s("div",Gt,[s("div",Mt,h(t(e).web_name||"xbcode"),1)]),s("div",Dt,[s("div",Lt,[r(Y,{modelValue:t(l).username,"onUpdate:modelValue":o[0]||(o[0]=A=>t(l).username=A),placeholder:"请输入账号",size:"large"},{prefix:c(()=>[r(B,{icon:"UserFilled"})]),_:1},8,["modelValue"])]),s("div",xt,[r(Y,{modelValue:t(l).password,"onUpdate:modelValue":o[1]||(o[1]=A=>t(l).password=A),type:"password",placeholder:"请输入密码",size:"large","show-password":""},{prefix:c(()=>[r(B,{icon:"Lock"})]),_:1},8,["modelValue"])]),t(_)?(n(),i("div",Rt,[s("div",zt,[r(Y,{modelValue:t(l).vcode,"onUpdate:modelValue":o[2]||(o[2]=A=>t(l).vcode=A),placeholder:"请输入验证码",size:"large"},{prefix:c(()=>[r(B,{icon:"Picture"})]),_:1},8,["modelValue"]),r(N,{class:"captcha",src:t(_),onClick:v},null,8,["src"])])])):g("",!0),s("div",Pt,[r(U,{type:"primary",class:"submit",onClick:E},{default:c(()=>o[4]||(o[4]=[C(" 登录 ")])),_:1})]),(x=(L=t(e))==null?void 0:L.login_data)!=null&&x.back_url?(n(),i("div",Ot,[s("div",qt,[s("a",{href:t(e).login_data.back_url}," 返回首页 ",8,Tt)]),t(e).login_data.register||t(e).login_data.findpwd?(n(),i("div",jt,[t(e).login_data.register?(n(),i("div",Xt,[r(f,{to:t(e).login_data.register},{default:c(()=>o[5]||(o[5]=[C(" 立即注册 ")])),_:1},8,["to"])])):g("",!0),t(e).login_data.findpwd?(n(),i("div",Nt,[r(f,{to:t(e).login_data.findpwd},{default:c(()=>o[6]||(o[6]=[C(" 忘记密码 ")])),_:1},8,["to"])])):g("",!0)])):g("",!0)])):(z=(R=t(e))==null?void 0:R.login_data)!=null&&z.register||(P=t(e).login_data)!=null&&P.findpwd?(n(),i("div",Ut,[t(e).login_data.register?(n(),i("div",St,[o[8]||(o[8]=C(" 没有账号？ ")),r(f,{to:t(e).login_data.register},{default:c(()=>o[7]||(o[7]=[C(" 立即注册 ")])),_:1},8,["to"])])):g("",!0),t(e).login_data.findpwd?(n(),i("div",$t,[r(f,{to:t(e).login_data.findpwd},{default:c(()=>o[9]||(o[9]=[C(" 忘记密码 ")])),_:1},8,["to"])])):g("",!0)])):g("",!0),(q=(O=t(e).login_data)==null?void 0:O.other_login)!=null&&q.length?(n(),i("div",Ht,[r(S,null,{default:c(()=>o[10]||(o[10]=[C(" 其他登录方式 ")])),_:1}),s("div",Kt,[(n(!0),i(at,null,rt(t(e).login_data.other_login,A=>(n(),y($,{key:A,effect:"dark",content:A.title,placement:"top"},{default:c(()=>[s("div",Jt,[s("img",{src:A.icon,class:"other-logo"},null,8,te)])]),_:2},1032,["content"]))),128))])])):g("",!0)])])]))]),(T=t(e).login_beian)!=null&&T.beian_text?(n(),i("div",ee,[r(H),r(K)])):g("",!0)],4)}}});const se=X(oe,[["__scopeId","data-v-41f31282"]]),ne=w({name:"/login"}),Pe=w({...ne,setup(Q){const{siteInfo:d}=V();return(e,Z)=>{var m,p,_,l;const b=se,I=nt;return(p=(m=t(d))==null?void 0:m.public_view)!=null&&p.login?(n(),y(I,{key:1,api:(l=(_=t(d))==null?void 0:_.public_view)==null?void 0:l.login},null,8,["api"])):(n(),y(b,{key:0}))}}});export{Pe as default};
