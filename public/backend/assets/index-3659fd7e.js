import"./vue-01dcdced.js";import{V as I}from"./vxe-pc-ui-c2d0cc75.js";import{V as M}from"./vxe-table-166d2ab0.js";import{J as R}from"./@vxe-ui-a46a5faa.js";import{z as q,e as N,d as F,i as U}from"./element-plus-a038b0d8.js";import{d as T,j as C,e as f,r as E,h as k,o as P,_ as A,$ as z,f as j,G as g,y as H}from"./@vue-be2e89c4.js";import{I as W,F as b,J as X,K as p,L as Y,d as D,u as B,e as J,l as v,M as K,v as G,w as Q,N as Z,O as ee}from"./exception-error-6e8be5b5.js";import{c as te}from"./pinia-781a1133.js";import{s as oe}from"./pinia-plugin-persistedstate-ed167f96.js";import{N as y}from"./nprogress-979aa652.js";import{i as ne}from"./form-index-d7e50b13.js";import re from"./remote-index-3934971c.js";import{i as ae,a as se,g as ie,t as ce}from"./table-index-9e9e2b94.js";import ue from"./table-sidebar-49bbc6e1.js";import le from"./workbench-index-8657c1b5.js";import"./@amap-aca98dec.js";import"./xe-utils-51806c17.js";import"./dom-zindex-d72a3c32.js";import"./dayjs-4bc3d4de.js";import"./lodash-es-ac69cfd6.js";import"./@vueuse-11421d81.js";import"./@element-plus-1f09cf57.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-606f2ab9.js";import"./vue-router-5591487d.js";import"./axios-4a70c6fc.js";import"./@vicons-38e00357.js";import"./less-8423defd.js";import"./@form-create-f9f8e1c4.js";import"./highlight.js-397ad3bd.js";import"./dplayer-82a19070.js";import"./@wangeditor-5527408c.js";import"./spark-md5-e0efa6a8.js";import"./echarts-fc39ec6a.js";import"./tslib-54e39b60.js";import"./zrender-ee7f9476.js";import"./vue-demi-9cb86471.js";import"./xlsx-04f2268f.js";import"./table-components/sidebar/index-9f30aa07.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const me=T({__name:"index",setup(e){const t=C("zh-cn"),o=f(()=>t.value==="zh-cn"?q:N),a=E({autoInsertSpace:!1}),n=E({max:1});return(r,s)=>{const i=k("router-view"),c=k("el-config-provider");return P(),A(c,{button:g(a),message:g(n),locale:g(o)},{default:z(()=>[j(i)]),_:1},8,["button","message","locale"])}}}),pe=T({__name:"App",setup(e){return W(),(t,o)=>{const a=me;return P(),A(a)}}}),O=te();O.use(oe);const de=e=>{let t="",o=0;e=(e||0).toString();for(let a=e.length-1;a>=0;a--)o++,t=e.charAt(a)+t,!(o%3)&&a!==0&&(t=`,${t}`);return t},L=(e,t,o,a)=>{let n;const r=o-t;function s(i){n||(n=i);const c=i-n,m=Math.min(c/a,1),u=t+Math.floor(m*r);u>999&&e.dataset.numberScrollThousandsOff===void 0?e.innerHTML=de(u):e.innerHTML=u.toString(),c<a&&globalThis.requestAnimationFrame(s)}globalThis.requestAnimationFrame(s)},fe={mounted(e,t,o){const{value:a}=t,n=parseFloat(e.dataset.numberScrollValue??"0"),r=a?parseFloat(a.toString()):0,s=parseInt(e.dataset.numberScrollDuration??"1000");L(e,n,r,s),e.dataset.numberScrollValue=r.toString()},updated(e,t){if(e.dataset.numberScrollOnceExecuted)return;const{value:o}=t,a=parseFloat(e.dataset.numberScrollValue??"0"),n=o?parseFloat(o.toString()):0,r=parseInt(e.dataset.numberScrollDuration??"1000");n!==a&&(L(e,a??0,o,r),t.modifiers.once&&(e.dataset.numberScrollOnceExecuted="true")),e.dataset.numberScrollValue=n.toString()}};function _e(e){e.directive("number-scroll",fe)}y.configure({easing:"ease",speed:500,showSpinner:!0,trickleSpeed:200,minimum:.3});const he=Object.freeze(Object.defineProperty({__proto__:null,formIndex:ne,remoteIndex:re,tableIndex:ae,tableSidebar:ue,workbench:le},Symbol.toStringTag,{value:"Module"})),ve=["form/index","table/index","table/sidebar","remote/index","workbench/index"],d={exceptionView:()=>p(()=>import("./exception-3f3bde5f.js"),["assets/exception-3f3bde5f.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/exception-error-6e8be5b5.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css"]),routeView:()=>p(()=>import("./exception-error-6e8be5b5.js").then(e=>e.P),["assets/exception-error-6e8be5b5.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css"]),formIndex:()=>p(()=>import("./form-index-d7e50b13.js").then(e=>e.a),["assets/form-index-d7e50b13.js","assets/exception-error-6e8be5b5.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css","assets/form-index-5efa0569.css"]),tableIndex:()=>p(()=>import("./table-index-9e9e2b94.js").then(e=>e.b),["assets/table-index-9e9e2b94.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/exception-error-6e8be5b5.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css","assets/vxe-table-166d2ab0.js","assets/xe-utils-51806c17.js","assets/@vxe-ui-a46a5faa.js","assets/dom-zindex-d72a3c32.js","assets/@vxe-ui-071039df.css","assets/vxe-table-76001c36.css","assets/xlsx-04f2268f.js","assets/form-index-d7e50b13.js","assets/form-index-5efa0569.css","assets/table-index-6332bccf.css"]),tableSidebar:()=>p(()=>import("./table-sidebar-49bbc6e1.js"),["assets/table-sidebar-49bbc6e1.js","assets/table-index-9e9e2b94.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/exception-error-6e8be5b5.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css","assets/vxe-table-166d2ab0.js","assets/xe-utils-51806c17.js","assets/@vxe-ui-a46a5faa.js","assets/dom-zindex-d72a3c32.js","assets/@vxe-ui-071039df.css","assets/vxe-table-76001c36.css","assets/xlsx-04f2268f.js","assets/form-index-d7e50b13.js","assets/form-index-5efa0569.css","assets/table-index-6332bccf.css","assets/table-components/sidebar/index-9f30aa07.js","assets/index-bc764e92.css","assets/sidebar-0ffb30aa.css"]),remoteIndex:()=>p(()=>import("./remote-index-3934971c.js"),["assets/remote-index-3934971c.js","assets/exception-error-6e8be5b5.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css"]),workbenchIndex:()=>p(()=>import("./workbench-index-8657c1b5.js"),["assets/workbench-index-8657c1b5.js","assets/exception-error-6e8be5b5.js","assets/vue-01dcdced.js","assets/@amap-aca98dec.js","assets/@vue-be2e89c4.js","assets/vue-router-5591487d.js","assets/@vueuse-11421d81.js","assets/axios-4a70c6fc.js","assets/element-plus-a038b0d8.js","assets/lodash-es-ac69cfd6.js","assets/@element-plus-1f09cf57.js","assets/@sxzz-c75af06c.js","assets/@ctrl-f8748455.js","assets/dayjs-4bc3d4de.js","assets/async-validator-dee29e8b.js","assets/memoize-one-297ddbcb.js","assets/normalize-wheel-es-ed76fb12.js","assets/@floating-ui-606f2ab9.js","assets/element-plus-3fc0c9bf.css","assets/pinia-781a1133.js","assets/vue-demi-9cb86471.js","assets/@vicons-38e00357.js","assets/less-8423defd.js","assets/@form-create-f9f8e1c4.js","assets/highlight.js-397ad3bd.js","assets/highlight-5687ac7b.css","assets/dplayer-82a19070.js","assets/@wangeditor-5527408c.js","assets/@wangeditor-501cf061.css","assets/spark-md5-e0efa6a8.js","assets/echarts-fc39ec6a.js","assets/tslib-54e39b60.js","assets/zrender-ee7f9476.js","assets/exception-error-2c8c1dd6.css","assets/index-c2f90b87.css"])},be=e=>{const t=X(e??"");if(!t||t==="noneIndex")return d.routeView;if(t in d||d[t])return d[t];const o=he[t];return o||d.exceptionView},$=e=>{const t=[];for(const o of e){const a=be(o.component),n={path:`/${o.path}`,name:o.path.replaceAll("/","_"),component:a,meta:{title:o.title,path:o.path,method:o.method,pid:o.pid,icon:o.icon,ajaxParams:o.params}};if(o.children&&o.children.length>0){const r=$(o.children);t.push(...r)}ve.includes(o.component)&&t.push(n)}return t},ge=e=>{for(const t of e)b.addRoute("default-router",t)},V=C(!1);b.beforeEach(async(e,t,o)=>{if(y.start(),e.path===Y)return o();const a=D(),n=f(()=>a.siteInfo),r=B(),s=J(),i=f(()=>s.userInfo);if(e.query.token)return s.setToken(e.query.token),delete e.query.token,o();if(!n.value.web_name&&!V.value){const u=await a.getSite(e.query);if(!u&&u!==null)return V.value=!0,o({...e,path:v})}if(!r.value&&!K.includes(e.path))return o({path:v,query:{appid:e.query.appid}});r.value&&!i.value.username&&await s.getUserInfo(e.query);const c=G(),m=f(()=>c.menus);if(r.value&&i.value.username&&m.value.length<=0){if((await c.getMenus(e.query)).length<=0)return s.clearLoginOut(),Q("请联系管理员开通权限","您没有权限","error"),o({path:v,replace:!0,query:{...e.query}});const _=$(m.value);if(ge(_),e.path===v){const h=Z();return o({path:h,replace:!0,query:{...e.query}})}return o({...e,path:e.path,replace:!0})}o()});b.afterEach(e=>{var s,i;const{siteInfo:t}=D(),o=(t==null?void 0:t.web_name)||"小白基地",a=((s=t.login_beian)==null?void 0:s.system_version)||"1.0.0",n=`${o} ${a}`;let r=(i=e.meta)!=null&&i.title?e.meta.title:o;r&&(r=`${r} - ${n}`),document.title=r,y.done()});const ye={mounted(e,t){const{value:o}=t;return!o||!se(o)?(e.remove(),!1):!0}},xe={mounted(e,t){e.copyData=t.value,e.addEventListener("click",we)},updated(e,t){e.copyData=t.value},beforeUnmount(e){e.removeEventListener("click",e.__handleClick__)}};async function we(){try{await navigator.clipboard.writeText(this.copyData),F({type:"success",message:"复制成功"})}catch(e){console.error("复制操作不被支持或失败: ",e)}}const Ee={mounted(e,t){if(typeof t.value!="function")throw"callback must be a function";let o=null;e.__handleClick__=function(){o&&clearInterval(o),o=setTimeout(()=>{t.value()},500)},e.addEventListener("click",e.__handleClick__)},beforeUnmount(e){e.removeEventListener("click",e.__handleClick__)}},ke={mounted(e){e.style.cursor="move",e.style.position="absolute",e.onmousedown=function(t){const o=t.pageX-e.offsetLeft,a=t.pageY-e.offsetTop;document.onmousemove=function(n){let r=n.pageX-o,s=n.pageY-a;const i=e.parentNode.offsetWidth-e.offsetWidth,c=e.parentNode.offsetHeight-e.offsetHeight;r<0?r=0:r>i&&(r=i),s<0?s=0:s>c&&(s=c),e.style.left=`${r}px`,e.style.top=`${s}px`},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},Le={mounted(e,t){if(typeof t.value!="function")throw"callback must be a function";let o=null;const a=s=>{s.button&&s.type==="click"&&s.button!==0||o===null&&(o=setTimeout(()=>{r(s)},1e3))},n=()=>{o!==null&&(clearTimeout(o),o=null)},r=s=>{t.value(s)};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),e.addEventListener("click",n),e.addEventListener("mouseout",n),e.addEventListener("touchend",n),e.addEventListener("touchcancel",n)}},Ve={mounted(e,t){if(typeof t.value!="function")throw"callback must be a function";let o=null;e.__handleClick__=function(){o&&clearTimeout(o),e.disabled||(e.disabled=!0,t.value(),o=setTimeout(()=>{e.disabled=!1},1e3))},e.addEventListener("click",e.__handleClick__)},beforeUnmount(e){e.removeEventListener("click",e.__handleClick__)}},Se=(e,t,o,a)=>{const n=document.createElement("canvas");t.appendChild(n),n.width=205,n.height=140,n.style.display="none";const r=n.getContext("2d");r.rotate(-20*Math.PI/180),r.font=o||"16px Microsoft JhengHei",r.fillStyle=a||"rgba(180, 180, 180, 0.3)",r.textAlign="left",r.textBaseline="Middle",r.fillText(e,n.width/10,n.height/2),t.style.backgroundImage=`url(${n.toDataURL("image/png")})`},Ie={mounted(e,t){Se(t.value.text,e,t.value.font,t.value.textColor)}},Te={mounted(e,t){e.xbEventData=t.value,e.addEventListener("click",Pe)},updated(e,t){e.xbEventData=t.value,Ce(e,t.value)},beforeUnmount(e){e.removeEventListener("click",e.__handleClick__)}};function Ce(e,t){var m,u,_,h,x,w;const o=((u=(m=t.button.pageData)==null?void 0:m.params)==null?void 0:u.where)??"==",a=((h=(_=t.button.pageData)==null?void 0:_.params)==null?void 0:h.field)??"",n=((w=(x=t.button.pageData)==null?void 0:x.params)==null?void 0:w.value)??"";if(!a||!n)return;const r=e.tagName.toLowerCase();if(r!=="button"&&r!=="a")return;const s=t.scoped,i=f(()=>ie(a,s.row)),c=o.toLowerCase();switch(e.style.display="none",e.style.marginLeft="0",c){case"==":i.value==n&&(e.style.display="inline-flex");break;case"!=":i.value!=n&&(e.style.display="inline-flex");break;case"!==":i.value!==n&&(e.style.display="inline-flex");break;case"in":(Array.isArray(n)?n:n.split(",")).includes(i.value)&&(e.style.display="inline-flex");break;case"not in":(Array.isArray(n)?n:n.split(",")).includes(i.value)||(e.style.display="inline-flex");break}}function Pe(){const e=this.xbEventData,t=e.button,o=e.scoped;ce(t,o)}const S={auth:ye,copy:xe,waterMarker:Ie,draggable:ke,debounce:Ee,throttle:Ve,longpress:Le,xbEvent:Te},Ae={install(e){Object.keys(S).forEach(t=>{e.directive(t,S[t])})}};I.use(R);const l=H(pe);l.use(O);l.use(b);l.use(I);l.use(M);l.use(U);l.use(Ae);l.use(_e);l.mount("#app");ee.vue=l;
