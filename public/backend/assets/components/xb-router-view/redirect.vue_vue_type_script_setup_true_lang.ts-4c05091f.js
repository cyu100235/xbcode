var uo=Object.defineProperty;var po=(e,t,o)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var le=(e,t,o)=>(po(e,typeof t!="symbol"?t+"":t,o),o);import"../../vendor/vue-d9146581.js";import{a as fe,u as pe,c as mo,b as _o}from"../../vendor/vue-router-2c20130a.js";import{a as fo}from"../../vendor/axios-4a70c6fc.js";import{c as vo,u as go,a as ho,b as yo}from"../../vendor/@vueuse-1ac2deba.js";import{E as bo,a as xo,b as Ue,c as wo,i as ko,d as Ao}from"../../vendor/element-plus-2dce74ff.js";import{d as Ye}from"../../vendor/pinia-16b4dd55.js";import{d as k,u as l,o as m,c as g,e as H,t as O,f as B,g as ve,h as E,i as x,a as P,b as w,j as b,k as et,l as Co,m as tt,n as Z,F as G,r as y,p as bt,q as v,s as I,v as we,x as z,y as N,z as ne,A as Po,B as ze,C as ie,D as ke,E as xt,G as Ie,H as Eo,I as K,J as So,K as Be,L as me,M as Vo,w as wt,N as dt,O as Io,P as Bo}from"../../vendor/@vue-23ae8903.js";import{_ as V}from"./exception.vue-41d87dc1.js";import{_ as kt}from"./index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js";import{N as Ge}from"../../vendor/@vicons-1c0b19b5.js";import{E as Je,a as To}from"../../vendor/@element-plus-52f33995.js";import{l as Mo}from"../../vendor/less-8423defd.js";import{F as pt}from"../../vendor/@form-create-9ca1a427.js";import{A as $o}from"../../vendor/@amap-aca98dec.js";import{H as mt,j as Oo,p as jo,a as Ro,b as qo,c as Do,x as Lo}from"../../vendor/highlight.js-1559bd9d.js";import{D as At}from"../../vendor/dplayer-82a19070.js";import{Z as Ct,m as Uo,T as zo,E as Fo}from"../../vendor/@wangeditor-abba06a0.js";import{S as No}from"../../vendor/spark-md5-e0efa6a8.js";import"../../vendor/vxe-table-432e8408.js";import{V as Ho}from"../../vendor/@vxe-ui-dc74f8df.js";import{r as Wo,u as Qo}from"../../vendor/xlsx-04f2268f.js";import{e as Go}from"../../vendor/echarts-fc39ec6a.js";const Jo=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Qt}},Symbol.toStringTag,{value:"Module"})),Zo="modulepreload",Xo=function(e){return"/backend/"+e},_t={},Ee=function(t,o,n){if(!o||o.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(o.map(a=>{if(a=Xo(a),a in _t)return;_t[a]=!0;const c=a.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const _=s[d];if(_.href===a&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const r=document.createElement("link");if(r.rel=c?"stylesheet":Zo,c||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),c)return new Promise((d,_)=>{r.addEventListener("load",d),r.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a})},Ko={key:0,class:"copyright"},Yo=["href"],en=["href"],tn=k({__name:"index",setup(e){var i,u,r,d,_;const{siteInfo:t}=W(),o=(i=t.login_beian)==null?void 0:i.about_name,n=(u=t.login_beian)==null?void 0:u.about_url,s=(r=t.login_beian)==null?void 0:r.system_name,a=(d=t.login_beian)==null?void 0:d.system_url,c=(_=t.login_beian)==null?void 0:_.system_version;return(p,f)=>l(o)&&l(n)&&l(s)&&l(a)?(m(),g("div",Ko,[f[0]||(f[0]=H(" copyright © 2023-2025 ")),l(o)&&l(n)?(m(),g("a",{key:0,href:`${l(n)}`,target:"_blank",class:"pl-10px"},O(l(o)),9,Yo)):B("",!0),f[1]||(f[1]=H(" All Rights Reserved ")),l(s)&&l(a)?(m(),g("a",{key:1,href:`${l(a)}`,target:"_blank",class:"pl-10px"},O(l(s))+" "+O(l(c)),9,en)):B("",!0)])):B("",!0)}});const Pt=V(tn,[["__scopeId","data-v-60f1b990"]]),on="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",nn={class:"xb-logo-image"},sn=["src"],an=k({__name:"image",props:{logo:{},size:{default:30},width:{default:50},height:{default:64},center:{},bottom:{}},setup(e){ve(a=>({"7191882b":l(t),"6375e916":l(o),"5248217c":l(n)}));const t=E(()=>`${e.width}px`),o=E(()=>`${e.height}px`),n=E(()=>`${e.size}px`),s=E(()=>e.logo?e.logo:on);return(a,c)=>(m(),g("div",nn,[x("img",{class:"logo",src:l(s),alt:""},null,8,sn)]))}});const Et=V(an,[["__scopeId","data-v-7e703a65"]]),cn={class:"xb-logo-text"},ln=k({__name:"text",props:{text:{default:"小白基地"},center:{type:Boolean,default:!1},height:{default:"50px"}},setup(e){ve(o=>({"43faa5ac":o.height,"7392e562":l(t)}));const t=E(()=>e.center?"center":"left");return(o,n)=>(m(),g("div",cn,O(o.text),1))}});const St=V(ln,[["__scopeId","data-v-01d35156"]]),D=k({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(e){const t=e,o=E(()=>{if(Je[t.icon])return Je[t.icon];if(Ge[t.icon])return Ge[t.icon]});return(n,s)=>{const a=P("el-icon");return m(),w(a,{size:n.size,color:n.color},{default:b(()=>[(m(),w(et(l(o))))]),_:1},8,["size","color"])}}}),_e=(e,t,o="",n)=>bo({message:e,title:o,duration:2e3,type:t,...n}),ee=(e,t="温馨提示",o)=>_e(e,"success",t,o),j=(e,t="温馨提示",o)=>_e(e,"error",t,o),Vt="/workbench",De="/login",ot="/exception",fu=[De,ot],Fe=()=>location.pathname.replace(/^\/+|\/+$/g,""),se=e=>{let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},Ze=(e,t={})=>{se(e)?location.href=e:L.push({path:e,query:t})};function Re(e=6){let t="";for(let o=0;o<e;o++)t+=Math.floor(Math.random()*10);return t}const vu=()=>{var o;const e=L.currentRoute.value;if(!((o=e.query)!=null&&o.redirect)){j("返回上次页面错误");return}const t=nt(e.query.redirect);L.push({path:e.query.redirect,query:{...t}})},gu=e=>e.replace(/\/(\w)/g,(t,o)=>o.toUpperCase());function rn(e){return e.split("-").map((t,o)=>o===0?t:t.charAt(0).toUpperCase()+t.slice(1)).join("")}const un=(e,t="Enter")=>{const o=n=>{n.key===t&&(e(),n.preventDefault())};Co(()=>document.addEventListener("keydown",o)),tt(()=>document.removeEventListener("keydown",o))},nt=e=>{if(!e)return{};const t=e.slice(e.indexOf("?")+1).split("&"),o={};for(const n of t){const[s,a]=n.split("=");o[s]=a}return o},It=e=>{const t=new URLSearchParams;for(const[n,s]of Object.entries(e))t.append(n,s);return t.toString()},dn=e=>e?e.toUpperCase():"",pn=e=>dn(e)||"GET",Bt=e=>{var o;if((o=L.currentRoute.value.query)!=null&&o.redirect)return L.currentRoute.value.query.redirect;if(e)return e;const t=W().siteInfo.workbench;return t||Vt},Tt=e=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(t=>{});else{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.remove()}ee("复制成功")},mn=k({__name:"menu-item",props:{menu:{}},setup(e){const t=fe(),o=pe(),n=()=>{var a;if(!e.menu.path){j("菜单路径不存在");return}const s=nt(e.menu.params);t.push({path:`/${e.menu.path}`,query:{appid:(a=o.query)==null?void 0:a.appid,...s}})};return(s,a)=>{const c=D,i=P("el-menu-item");return s.menu.show?(m(),w(i,{key:0,index:s.menu.menu_key,onClick:n},{title:b(()=>[H(O(s.menu.title),1)]),default:b(()=>[s.menu.icon?(m(),w(c,{key:0,icon:s.menu.icon},null,8,["icon"])):B("",!0)]),_:1},8,["index"])):B("",!0)}}});const _n=V(mn,[["__scopeId","data-v-9c1292f9"]]),fn=k({__name:"menu-sub",props:{menu:{}},setup(e){return(t,o)=>{const n=D,s=P("el-sub-menu");return m(),w(s,{index:t.menu.menu_key},{title:b(()=>[t.menu.icon?(m(),w(n,{key:0,icon:t.menu.icon},null,8,["icon"])):B("",!0),x("span",null,O(t.menu.title),1)]),default:b(()=>{var a;return[(a=t.menu.children)!=null&&a.length?(m(),w(Mt,{key:0,menus:t.menu.children},null,8,["menus"])):B("",!0)]}),_:1},8,["index"])}}}),Mt=k({__name:"menus",props:{menus:{}},setup(e){return(t,o)=>(m(!0),g(G,null,Z(t.menus,n=>{var s;return m(),g(G,null,[n.isGroup&&((s=n.children)!=null&&s.length)?(m(),w(fn,{key:0,menu:n},null,8,["menu"])):n.show?(m(),w(_n,{key:1,menu:n},null,8,["menu"])):B("",!0)],64)}),256))}}),$t="authorization",ge=vo(()=>{const e=Fe();return go(`${e}_${$t}`,null)}),Ae=(e,t)=>xo.service({text:e,lock:!0,background:"rgba(0, 0, 0, 0.7)",...t}),vn=async e=>{var o,n;const t=ge();if(t.value&&e.headers.set($t,t.value),(o=e.data)!=null&&o.redirect&&delete e.data.redirect,(n=e.params)!=null&&n.redirect){const s=e.params.redirect;(s.includes("/")||s.includes("%"))&&delete e.params.redirect}if((e==null?void 0:e.loading)===!0){const s=(e==null?void 0:e.loadingText)??"加载中...",a=(e==null?void 0:e.loadingOptions)??{},c=Ae(s,a);e.loadingLock=c}return e},gn={0:"未知请求失败",400:"服务器不理解请求",404:"请求的内容不存在",500:"服务器遇到错误，无法完成请求",503:"服务器目前无法使用"},hn=[600,666,1e4],yn=12e3,bn=()=>{var o,n;const e=ge();e.value="";let t=(o=L.currentRoute.value)==null?void 0:o.fullPath;(n=L.currentRoute.value.query)!=null&&n.redirect&&(t=L.currentRoute.value.query.redirect),t===De&&(t=Vt),L.replace({path:De,query:{redirect:t}})},xn=e=>{var n,s,a,c,i,u;if(e.code===300){const r=((n=e.data)==null?void 0:n.delay)??0;if(r){const d=e.msg??"";if(d){const _=((s=e.data)==null?void 0:s.type)??"success";_e(d,_,"温馨提示")}return setTimeout(()=>{window.location.reload()},r),Promise.reject(e)}return window.location.reload(),Promise.reject(e)}if(e.code===301&&((a=e.data)!=null&&a.url)){const r=e.msg??"";if(r){const _=((c=e.data)==null?void 0:c.type)||"success";_e(r,_,"温馨提示")}const d=((i=e.data)==null?void 0:i.delay)??0;return d?(setTimeout(()=>{var _;Ze(((_=e==null?void 0:e.data)==null?void 0:_.url)??"")},d),Promise.reject(e)):(Ze(((u=e==null?void 0:e.data)==null?void 0:u.url)??""),Promise.reject(e))}if(e.code===yn)return j(e.msg??"登录失效，请重新登录"),bn(),Promise.reject(new Error(e.msg??"请求失败"));if(hn.includes(e.code))return Promise.reject(new Error(e.msg??"请求失败"));const t=e.code,o=gn[t];if(o){const r=e.msg??o;return j(r),Promise.reject(new Error(e.msg??"请求失败"))}return e},wn=e=>{var r;const t=e.config;(t==null?void 0:t.loading)===!0&&((r=t==null?void 0:t.loadingLock)==null||r.close());const o=e.data,n=e.headers["content-type"];if(e.headers["refresh-token"]&&e.headers["refresh-type"]){const d=ge(),_=e.headers["refresh-type"],p=e.headers["refresh-token"];d.value=`${_} ${p}`}if(n.includes("application/json"))return xn(o);const a=n.includes("application/octet-stream"),c=n.includes("text/html");if(a||c)return o;const i=n.includes("application/javascript"),u=n.includes("css");return o},Ot=(e,t="温馨提示",o="",n)=>Ue.alert(e,{confirmButtonText:"确定",type:o,title:t,...n}),jt=(e,t="温馨提示",o)=>Ot(e,t,"error",o),Oe=e=>(L.push({path:ot,query:{message:e}}),Promise.reject(e)),kn=e=>typeof e=="string"?(jt(e),Promise.reject(e)):e.code==="ECONNABORTED"?Oe("请求超时~"):e.code==="ERR_NETWORK"?Oe("网络错误~"):e.code==="ECONNRESET"?Oe("服务器连接重置~"):e.code==="ENOTFOUND"?Oe("服务器未找到~"):Promise.reject(e);let Rt="http://xb.dev.xbcode.net/";Rt=window.location.origin;const st=Rt,Y=fo.create({baseURL:st,timeout:6e4,withCredentials:!0});Y.interceptors.request.use(vn);Y.interceptors.response.use(wn,kn);const oe=(e,t,o)=>Y.request({url:e,params:t,method:"GET",...o}),be=(e,t,o)=>Y.request({url:e,data:t,method:"POST",...o}),qe=(e,t,o)=>Y.request({url:e,data:t,method:"PUT",...o}),xe=(e,t,o)=>Y.request({url:e,data:t,method:"DELETE",...o}),An=async e=>{var a;const{siteInfo:t}=W(),o=(a=t==null?void 0:t.public_api)==null?void 0:a.login;if(!o)return j("未设置登录接口"),Promise.reject(new Error("未设置登录接口"));const n=L.currentRoute.value.query??{},s=Object.assign(e,n);return await be(o,s)},Cn=async e=>{var n;const{siteInfo:t}=W(),o=(n=t.public_api)==null?void 0:n.user;return o?await oe(o,e).then(s=>s==null?void 0:s.data):Promise.reject(new Error("请配置用户信息接口"))},Xe=y("OS"),Ke=matchMedia("(prefers-color-scheme: dark)"),He=()=>{Ke.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};bt(()=>{Xe.value==="OS"?(Ke.addEventListener("change",He),He()):(document.documentElement.dataset.theme=Xe.value,Ke.removeEventListener("change",He))});function Pn(){return{theme:Xe}}const ft={layoutMode:"sideBar",theme:"OS",footerHeight:30,isCollapse:!1,defaultLayout:{color:"#fff",headerHeight:50,logoSize:40,sideMenuWidth:200,sideMenuCollapseWidth:64},sideBarLayout:{color:"#016eff",headerHeight:50,logoSize:30,sideMenuWidth:300,sideMenuOrdinaryWidth:150,sideMenuCollapseWidth:64}},vt={nickname:"",username:"",password:"",avatar:"",role:{}},U=(e,t="温馨提示",o="",n)=>Ue.confirm(e,t,{closeOnClickModal:!1,confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!0,type:o,...n}),he=Ye("user",()=>{const e=ge(),t=y({...vt}),o=y({...ft}),n=p=>{if(!p)return j("令牌数据错误","温馨提示");p.includes("Bearer")||(p=`Bearer ${p}`),e.value=p},s=p=>{p!=null&&p.theme&&(o.value={...o.value,...p.theme}),t.value=p},a=async p=>{const f=Object.assign({},L.currentRoute.value.query,p),h=await Cn(f);return h?(s(h),h):j("获取用户信息失败","温馨提示")},c=async(p,f=!0,h=!0)=>{var T;const C=await An(p);if(!((T=C==null?void 0:C.data)!=null&&T.access_token))return j((C==null?void 0:C.msg)??"登录请求失败","温馨提示"),Promise.reject(C);if(n(C.data.access_token),f&&ee((C==null?void 0:C.msg)??"登录成功","温馨提示"),h){const A=Bt(C.data.redirect),R=L.currentRoute.value.query;R!=null&&R.redirect&&delete R.redirect,L.push({path:A,query:{...L.currentRoute.value.query}})}return C.data},i=()=>{var h;e.value="",s({...vt}),Pe().clearMenus();const p=y((h=L.currentRoute.value.query)==null?void 0:h.redirect);p.value||(p.value=L.currentRoute.value.path);const f=L.currentRoute.value.query;f!=null&&f.redirect&&delete f.redirect,L.push({path:De,query:{...f,redirect:p.value}}),ee("退出登录成功","温馨提示")};return{layoutInfo:o,userInfo:t,setToken:n,accounLogin:c,clearLoginOut:i,loginOut:()=>{U("是否确认退出登录？","温馨提示","error").then(()=>{i()})},getUserInfo:a,setTheme:p=>{o.value.theme=p,Pn().theme.value=p},setLayout:p=>{o.value.layoutMode=p},hanldCollapse:p=>{o.value.layoutMode!=="sideBar"&&(p?o.value.defaultLayout.sideMenuCollapseWidth:ft.defaultLayout.sideMenuWidth),o.value.isCollapse=p}}}),En=k({__name:"index",props:{active:{},menus:{}},setup(e){const t={uniqueOpened:!0,collapseTransition:!1},o=he(),n=E(()=>o.layoutInfo);return(s,a)=>{const c=P("el-menu");return m(),w(c,I({class:"xb-menus","default-active":s.active,collapse:l(n).isCollapse},t),{default:b(()=>[v(Mt,{menus:s.menus},null,8,["menus"])]),_:1},16,["default-active","collapse"])}}});const qt=V(En,[["__scopeId","data-v-5dc0adcb"]]),Sn=e=>{Mo.render(e).then(t=>{const o=document.createElement("style");if(o.setAttribute("type","text/css"),o.styleSheet)o.styleSheet.cssText=t.css;else{const s=document.createTextNode(t.css);o.appendChild(s)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(o):document.documentElement.appendChild(o)})},Vn=(e,t)=>{if(!document.querySelector(`style[id=css${e}]`)){let o="";t.stylesHasScoped?(o=`.css${e}${t.style}`,o=o.replace(`.css${e}
`,`.css${e}`)):o=t.style,Sn(o)}},In=e=>{const t=/@import url\(['"]?([^'")]+)['"]?\)/g;let o=Array.from(e.matchAll(t),n=>n[1]);if(o.length<=0){const n=/@import ['"]?([^'")]+)['"]?;/g;o=Array.from(e.matchAll(n),s=>s[1])}return o},We=async e=>{var o;const t=(o=W().siteInfo.upload_cate_api)==null?void 0:o.index;return t?await oe(t,e).then(n=>(n==null?void 0:n.data)??[]):(j("分类列表接口地址不存在"),Promise.reject(new Error("分类列表接口地址不存在")))},Bn=async e=>{var o;const t=(o=W().siteInfo.upload_api)==null?void 0:o.index;return t?await oe(t,e).then(n=>n==null?void 0:n.data):(j("附件列表接口地址不存在"),Promise.reject(new Error("附件列表接口地址不存在")))},Tn=async(e,t)=>{var s;const o=(s=W().siteInfo.upload_api)==null?void 0:s.upload;if(!o)return j("上传接口地址不存在"),Promise.reject(new Error("上传接口地址不存在"));const n=new FormData;if(n.append("file",e),t)for(const a in t)n.append(a,t[a]);return await be(o,n).then(a=>a==null?void 0:a.data)},Mn=["innerHTML"],$n={key:1,class:"description"},On=k({__name:"index",props:{content:{},style:{default:()=>({})}},setup(e){return(t,o)=>{const n=P("el-alert");return m(),w(n,z(N(t.$attrs)),{default:b(()=>[t.content?(m(),g("div",{key:0,innerHTML:t.content,style:we(t.style)},null,12,Mn)):(m(),g("div",$n,"请设置alert组件内容"))]),_:1},16)}}}),jn=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})),Rn={class:"map-container"},qn={class:"amap-box"},Dn={class:"amap-mask-content"},Ln=k({__name:"index",props:{modelValue:{},map_key:{},js_code:{},longitude:{default:106.688274},latitude:{default:26.569997},height:{default:"350px"}},emits:["update:modelValue"],setup(e,{emit:t}){ve(u=>({"4257bc34":u.height}));const o=t;let n=null,s=null,a=null;const c=y({keyword:e.modelValue||"贵州省贵阳市南明区花果园金融街1号1315",longitude:e.longitude,latitude:e.latitude,location:`${e.longitude},${e.latitude}`}),i=()=>{if(!c.value.keyword){j("请输入地址信息");return}a.setCity("贵阳市"),a.getLocation(c.value.keyword,(u,r)=>{if(u==="complete"&&r.info==="OK"){const d=r.geocodes[0].location;c.value.longitude=d.lng,c.value.latitude=d.lat,c.value.location=`${d.lng},${d.lat}`,s.setCenter(d),new n.Marker({position:d,map:s}),s.setZoom(18),o("update:modelValue",c.value)}})};return ne(()=>{window._AMapSecurityConfig={securityJsCode:e.js_code},$o.load({key:e.map_key,version:"2.0",plugins:["AMap.Geocoder"]}).then(u=>{n=u,s=new u.Map("container",{viewMode:"3D",zoom:18,center:[e.longitude,e.latitude]}),a=new u.Geocoder({radius:100})}).catch(u=>{u&&U(u,"温馨提示","error"),console.log("地图加载失败",u)})}),tt(()=>{s==null||s.destroy()}),(u,r)=>{const d=P("el-input"),_=P("el-button");return m(),g("div",Rn,[r[10]||(r[10]=x("div",{id:"container"},null,-1)),x("div",qn,[x("div",Dn,[r[9]||(r[9]=x("div",{class:"tips"}," 输入地址查询获取经纬度 ",-1)),v(d,{modelValue:l(c).keyword,"onUpdate:modelValue":r[0]||(r[0]=p=>l(c).keyword=p)},{prepend:b(()=>r[4]||(r[4]=[x("div",null,"地 址",-1)])),_:1},8,["modelValue"]),v(d,{modelValue:l(c).longitude,"onUpdate:modelValue":r[1]||(r[1]=p=>l(c).longitude=p),disabled:""},{prepend:b(()=>r[5]||(r[5]=[x("div",null,"经 度",-1)])),_:1},8,["modelValue"]),v(d,{modelValue:l(c).latitude,"onUpdate:modelValue":r[2]||(r[2]=p=>l(c).latitude=p),disabled:""},{prepend:b(()=>r[6]||(r[6]=[x("div",null,"纬 度",-1)])),_:1},8,["modelValue"]),v(d,{modelValue:l(c).location,"onUpdate:modelValue":r[3]||(r[3]=p=>l(c).location=p),disabled:""},{prepend:b(()=>r[7]||(r[7]=[x("div",null,"经纬度",-1)])),_:1},8,["modelValue"]),v(_,{type:"primary",plain:"",onClick:i},{default:b(()=>r[8]||(r[8]=[H(" 立即查询 ")])),_:1})])])])}}});const Un=V(Ln,[["__scopeId","data-v-d3e2f762"]]),zn=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Fn="/backend/assets/static/png/play.b9bcc63d.png",Nn="data:image/png;base64,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";function Hn(){const e=y(null),t=y(null),o=y(0),n=y(0),s=y(0),a=y(!1);ne(()=>{setTimeout(()=>{r()},200)});const c=p=>{r(),d()};function i(p){const f=Math.floor(p/60),h=p%60,C=String(f).padStart(2,"0"),T=String(h).padStart(2,"0");return`${C}:${T}`}const u=p=>{const f=t.value.getBoundingClientRect();let C=(p.clientX-f.left)/f.width,T=C*100;n.value=T;let A=C*e.value.duration;o.value=i(Math.floor(A)),e.value.currentTime=A,d()},r=()=>{var h,C,T;let p=((h=e.value)==null?void 0:h.currentTime)??0,f=isNaN(((C=e.value)==null?void 0:C.duration)??0)?0:((T=e.value)==null?void 0:T.duration)??0;o.value=i(Math.floor(p)),s.value=i(Math.floor(f)),n.value=Math.floor(p)/Math.floor(f)*100},d=p=>{if(!e.value)return a.value=!1,!1;e.value.paused?(e.value.play().catch(f=>{console.error(f)}),a.value=!0):(e.value.pause(),a.value=!1)};return{aduio:e,setbacksBox:t,currentTime:o,progress:n,duration:s,isPlay:a,handlePlay:d,handleBacks:u,handleTimeUpdate:r,handleCanPlay:c,handleEnd:()=>{d()}}}const Wn={class:"xb-audio"},Qn={class:"audio-container flex justify-between"},Gn={class:"flex-1"},Jn={class:"title"},Zn={class:"flex justify-between"},Xn={class:"mgl-6"},Kn={class:"play-btn"},Yn=["src"],es=k({__name:"index",props:{title:{type:String,default:"未知音频"},url:{type:String,default:""}},setup(e){const{aduio:t,setbacksBox:o,currentTime:n,progress:s,duration:a,isPlay:c,handlePlay:i,handleBacks:u,handleTimeUpdate:r,handleCanPlay:d,handleEnd:_}=Hn();return(p,f)=>(m(),g("div",Wn,[x("div",Qn,[x("div",Gn,[x("div",Jn,O(e.title),1),x("div",Zn,[x("span",null,O(l(n)),1),x("span",Xn,O(l(a)),1)]),x("div",{class:"audio-setbacks",ref_key:"setbacksBox",ref:o,onClick:f[0]||(f[0]=(...h)=>l(u)&&l(u)(...h))},[x("i",{class:"audio-this-setbacks",style:we({width:l(s)+"%"})},f[6]||(f[6]=[x("span",{class:"audio-backs-btn"},null,-1)]),4),x("span",{class:"audio-cache-setbacks",style:we({width:l(s)+"%"})},null,4)],512)]),x("div",Kn,[l(c)?(m(),g("img",{key:1,src:Nn,class:"play-icon",onClick:f[2]||(f[2]=(...h)=>l(i)&&l(i)(...h))})):(m(),g("img",{key:0,src:Fn,class:"play-icon",onClick:f[1]||(f[1]=(...h)=>l(i)&&l(i)(...h))}))])]),x("audio",{ref_key:"aduio",ref:t,src:e.url,class:"custom-audio",onCanplay:f[3]||(f[3]=(...h)=>l(d)&&l(d)(...h)),onEnded:f[4]||(f[4]=(...h)=>l(_)&&l(_)(...h)),onTimeupdate:f[5]||(f[5]=(...h)=>l(r)&&l(r)(...h)),controls:""}," 您的浏览器不支持音频元素。 ",40,Yn)]))}});const ts=V(es,[["__scopeId","data-v-fbc3a5cd"]]),re=(e,t={},o={})=>Ue({title:"常用模态框",customStyle:{width:"50%",height:"85vh"},draggable:!0,showClose:!1,closeOnClickModal:!1,showCancelButton:!0,showConfirmButton:!0,customClass:"xb-modal-mask",...o,message:()=>Po(e,t)}),at=(e,t="播放音频")=>{if(!e){U("音频地址为空，无法播放","温馨提示","error",{showCancelButton:!1});return}if(!se(e)){U("音频地址不合法，无法播放","温馨提示","error",{showCancelButton:!1});return}const o=e.toLowerCase();if(!o.endsWith(".mp3")&&!o.endsWith(".ogg")&&!o.endsWith(".wav")){U("音频必须是 mp3,ogg,wav 格式","温馨提示","error",{showCancelButton:!1});return}re(ts,{title:t,url:e},{title:t,showClose:!0,customClass:"xb-modal-button-none",customStyle:{width:"400px",height:"200px"}})},os=["src"],ns={class:"text"},ss=k({__name:"index",props:{modelValue:{},icon:{default:"Bell"},text:{default:"点击播放"},title:{default:"音频播放"}},setup(e){const t=()=>{at(e.modelValue,e.title)};return(o,n)=>{const s=D;return m(),g("div",I({class:"xb-audio"},o.$attrs),[x("div",{class:"audio-content",onClick:t},[l(se)(o.icon)?(m(),g("img",{key:0,class:"icon",src:o.icon},null,8,os)):(m(),w(s,{key:1,icon:o.icon},null,8,["icon"])),x("span",ns,O(o.text),1)])],16)}}});const as=V(ss,[["__scopeId","data-v-76ea968a"]]),cs=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"})),ls={};function is(e,t){return m(),g("div",null," 待实现组件 ")}const rs=V(ls,[["render",is]]),us=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"})),ds={javascript:Oo,php:jo,python:Ro,java:qo,css:Do,xml:Lo},ps=e=>(mt.registerLanguage(e,ds[e]),mt),ms={class:"xb-code"},_s=["innerHTML"],fs=k({__name:"index",props:{modelValue:{},language:{default:"php"},showLineNumbers:{type:Boolean,default:!0}},setup(e){const t=ps(e.language),o=y("");return bt(()=>{o.value=t.highlight(e.modelValue,{language:e.language}).value}),(n,s)=>(m(),g("div",ms,[x("code",{class:"hljs",innerHTML:l(o)},null,8,_s)]))}});const vs=V(fs,[["__scopeId","data-v-8e60d115"]]),gs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),hs={class:"icon-list"},ys={class:"tools"},bs={class:"title"},xs={class:"options"},ws={class:"list"},ks=["onDblclick","onClick"],As={class:"icon-title"},Cs=k({__name:"modal",emits:["update:init"],setup(e,{expose:t,emit:o}){const n=ze(),s=o,a=y("element"),c=y([{title:"ElementPlus",type:"element",icons:Object.keys(Je)},{title:"viconsAntd",type:"naiveui",icons:Object.keys(Ge)}]),i=y(null),u=E(()=>{var p;return((p=c.value.find(f=>f.type===a.value))==null?void 0:p.icons)||[]}),r=p=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(p).then(f=>{});else{const f=document.createElement("input");f.value=p,document.body.appendChild(f),f.select(),document.execCommand("Copy"),f.remove()}ee("复制成功")},d=p=>{i.value=p},_=()=>i.value;return ne(()=>{s("update:init",n.exposed)}),t({confirm:_}),(p,f)=>{var A;const h=P("el-option"),C=P("el-select"),T=D;return m(),g("div",hs,[x("div",ys,[x("div",bs,O((A=l(c).find(R=>R.type===l(a)))==null?void 0:A.title)+" 图标库 ",1),x("div",xs,[v(C,{modelValue:l(a),"onUpdate:modelValue":f[0]||(f[0]=R=>ie(a)?a.value=R:null)},{default:b(()=>[(m(!0),g(G,null,Z(l(c),(R,Q)=>(m(),w(h,{key:Q,label:R.title,value:R.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),x("div",ws,[(m(!0),g(G,null,Z(l(u),(R,Q)=>(m(),g("div",{key:Q,class:ke(["item",{active:R===l(i)}]),onDblclick:ae=>r(R),onClick:ae=>d(R)},[v(T,{icon:R,size:26,type:l(a),color:"#888"},null,8,["icon","type"]),x("div",As,O(R),1)],42,ks))),128))])])}}});const Ps=V(Cs,[["__scopeId","data-v-f61c6fb7"]]),Dt=e=>new Promise(t=>{const o=y(),n={"onUpdate:init":a=>{o.value=a}},s={...e,title:"图标选择器",beforeClose:(a,c,i)=>{var u;if(a==="confirm"){if(!((u=o.value)!=null&&u.confirm)){U("确认事件错误","温馨提示","error");return}const r=o.value.confirm();if(!r){U("请选择图标","温馨提示","error");return}t(r)}i()}};re(Ps,n,s)}),Es={key:1,class:"xb-icon-text"},Ss=k({__name:"index",props:{modelValue:{},style:{default:()=>({})},size:{default:22},color:{default:"#333"},isEdit:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,n=y({size:e.size,color:e.color,style:e.style}),s=c=>{o("update:modelValue",c)},a=()=>{e.isEdit&&Dt().then(c=>{s(c)})};return(c,i)=>{const u=D,r=P("el-tooltip");return m(),w(r,{disabled:!c.isEdit,effect:"dark",content:"点击选择图标"},{default:b(()=>[x("div",{class:"xb-icon",onClick:a},[c.modelValue?(m(),w(u,I({key:0,icon:c.modelValue},l(n),{class:"xb-icon-value"}),null,16,["icon"])):(m(),g("div",Es," 选择 "))])]),_:1},8,["disabled"])}}});const Vs=V(Ss,[["__scopeId","data-v-3eb2c770"]]),Is=Object.freeze(Object.defineProperty({__proto__:null,default:Vs},Symbol.toStringTag,{value:"Module"})),Bs=k({__name:"index",props:{modelValue:{}},setup(e){const t=E(()=>Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]);return(o,n)=>{const s=P("el-image");return m(),w(s,I({class:"xb-image",src:o.modelValue,"preview-src-list":l(t)},o.$attrs),{error:b(()=>n[0]||(n[0]=[x("div",{class:"error"}," 加载失败 ",-1)])),_:1},16,["src","preview-src-list"])}}});const Ts=V(Bs,[["__scopeId","data-v-4346b569"]]),Ms=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),$s=["innerHTML"],Os=k({__name:"index",props:{modelValue:{},style:{}},setup(e){return(t,o)=>(m(),g("div",I(t.style,{innerHTML:t.modelValue}),null,16,$s))}}),js=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"})),Rs={class:"xb-input"},qs=["innerHTML"],Ds=k({__name:"index",props:{is_copy:{type:Boolean,default:!1},copy_text:{default:"复制"}},setup(e){const t=xt(),o=y(t==null?void 0:t.prompt),n=()=>{const a=(t==null?void 0:t.modelValue)??"";Tt(a)};return(s,a)=>{const c=P("el-button"),i=P("el-input");return m(),g("div",Rs,[v(i,z(N(l(t))),Ie({_:2},[s.is_copy?{name:"append",fn:b(()=>[v(c,{onClick:n},{default:b(()=>[H(O(s.copy_text),1)]),_:1})]),key:"0"}:void 0]),1040),x("div",{class:"prompt",innerHTML:l(o)},null,8,qs)])}}});const Ls=V(Ds,[["__scopeId","data-v-de01a65c"]]),Us=Object.freeze(Object.defineProperty({__proto__:null,default:Ls},Symbol.toStringTag,{value:"Module"})),zs=["innerHTML"],Fs=k({__name:"index",props:{text:{},xStyle:{default:()=>({})}},setup(e){return(t,o)=>(m(),g("div",{class:"xb-prompt",style:we(t.xStyle),innerHTML:t.text},null,12,zs))}});const Ns=V(Fs,[["__scopeId","data-v-e20efe86"]]),Hs=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Ws={};function Qs(e,t){return m(),g("div",null," 待实现组件 ")}const Gs=V(Ws,[["render",Qs]]),Js=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"})),Zs=k({__name:"index",props:{modelValue:{},api:{default:""},ajaxParams:{default:()=>({})}},setup(e){return(t,o)=>{const n=ye;return m(),w(n,{api:t.api,ajaxParams:{value:t.modelValue,...t.ajaxParams}},null,8,["api","ajaxParams"])}}}),Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Zs},Symbol.toStringTag,{value:"Module"})),Ks=k({__name:"index",props:{title:{},icon:{},style:{}},setup(e){return(t,o)=>{const n=D;return m(),g("div",{class:"xb-title",style:we(t.style)},[t.icon?(m(),w(n,{key:0,icon:t.icon},null,8,["icon"])):B("",!0),x("span",null,O(t.title),1)],4)}}});const Ys=V(Ks,[["__scopeId","data-v-0f001089"]]),ea=Object.freeze(Object.defineProperty({__proto__:null,default:Ys},Symbol.toStringTag,{value:"Module"})),ta={class:"xb-video"},oa=k({__name:"index",props:{title:{},url:{}},setup(e){const t=e,o=xt(),n=y({...o,video:{url:t.url}});return ne(()=>{const s=document.getElementById("dplayer");new At({container:s,...n.value})}),(s,a)=>(m(),g("div",ta,a[0]||(a[0]=[x("div",{id:"dplayer"},null,-1)])))}});const na=V(oa,[["__scopeId","data-v-b7e245fd"]]),ct=(e,t="播放视频")=>{if(!e){U("视频地址为空，无法播放","温馨提示","error",{showCancelButton:!1});return}if(!se(e)){U("视频地址不合法，无法播放","温馨提示","error",{showCancelButton:!1});return}const o=e.toLowerCase();if(!o.endsWith(".mp4")&&!o.endsWith(".ogg")&&!o.endsWith(".webm")){U("视频必须是 mp4,ogg,webm 格式","温馨提示","error",{showCancelButton:!1});return}re(na,{title:t,url:e},{title:t,showClose:!0,customClass:"xb-modal-button-none",customStyle:{width:"600px",height:"450px"}})},sa=["src"],aa={class:"text"},ca=k({__name:"index",props:{modelValue:{},icon:{default:"VideoPlay"},text:{default:"点击播放"},title:{default:"视频播放"}},setup(e){const t=()=>{ct(e.modelValue,e.title)};return(o,n)=>{const s=D;return m(),g("div",I({class:"xb-video"},o.$attrs),[x("div",{class:"video-content",onClick:t},[l(se)(o.icon)?(m(),g("img",{key:0,class:"icon",src:o.icon},null,8,sa)):(m(),w(s,{key:1,icon:o.icon},null,8,["icon"])),x("span",aa,O(o.text),1)])],16)}}});const la=V(ca,[["__scopeId","data-v-2fb0320b"]]),ia=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),gt={fieldName:"file",maxFileSize:100*1024*1024,maxNumberOfFiles:10,allowedFileTypes:["image/*"],meta:{},metaWithUrl:!1,headers:{Accept:"*/*"},withCredentials:!0,timeout:60*1e3},ra={key:"group-image",title:"图片",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',menuKeys:["insertImage","uploadImage"]},ua={key:"group-video",title:"视频",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',menuKeys:["insertVideo","uploadVideo"]},da=["headerSelect","blockquote","|","bold","underline","italic",{key:"group-more-style",title:"更多",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',menuKeys:["through","code","sup","sub","clearStyle"]},"color","bgColor","|","fontSize","fontFamily","lineHeight","|","bulletedList","numberedList","todo",{key:"group-justify",title:"对齐",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',menuKeys:["justifyLeft","justifyRight","justifyCenter","justifyJustify"]},{key:"group-indent",title:"缩进",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',menuKeys:["indent","delIndent"]},"|","emotion","insertLink","insertTable","codeBlock","divider","|","undo","redo","|","fullScreen","insertImage","insertVideo"];class pa{constructor(t,o,n,s,a){le(this,"title");le(this,"iconSvg");le(this,"tag");le(this,"uploadLimit");le(this,"selectLimit");le(this,"type");le(this,"adapter");le(this,"modalTitle");this.title="选择附件",this.tag="button",this.iconSvg='<svg t="1723886754910" class="icon" viewBox="0 0 1260 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7681" width="200" height="200"><path d="M1181.855034 394.251483V246.013518A88.311979 88.311979 0 0 0 1093.017389 157.701539h-490.97255l-31.014326-95.67131A88.311979 88.311979 0 0 0 486.923866 0.001577H88.994294A88.311979 88.311979 0 0 0 0.156649 88.839223V935.688021a88.311979 88.311979 0 0 0 0 10.513331v14.718663a87.786312 87.786312 0 0 0 26.808993 37.847991h5.782332a87.260646 87.260646 0 0 0 39.950658 14.718663h986.150432A88.837646 88.837646 0 0 0 1145.058376 946.201352l113.018307-453.124559a88.837646 88.837646 0 0 0-76.221649-98.82531zM88.994294 88.839223h397.403906l52.566654 157.699962h554.052535v147.186632h-893.633121A88.837646 88.837646 0 0 0 115.803288 461.011134l-27.33466 109.338641z" fill="#5E5C5C" p-id="7682"></path></svg>',this.uploadLimit=t,this.selectLimit=o,this.type=n,this.adapter=s,this.modalTitle=a}isActive(t){return!1}getValue(t){return"title"}isDisabled(t){return!1}checkUrl(t){if(!t)return"";if(/\.(gif|jpg|jpeg|png|svg)$/.test(t))return{type:"image",src:t,children:[{text:""}]};if(/\.(mp4|webm|ogg|mp3|wav|flac|aac)$/.test(t))return{type:"video",src:t,children:[{text:""}]};if(/\.(webm|ogg|mp3|wav|flac|aac)$/.test(t))return{type:"image",src:t,children:[{text:""}]};const o=t.split("/").pop();return{type:"link",url:t,children:[{text:o}]}}exec(t,o){if(!this.uploadLimit)return U("请设置上传数量","温馨提示","warning"),Promise.reject(new Error("请设置上传数量"));if(!this.selectLimit)return U("请设置选择数量","温馨提示","warning"),Promise.reject(new Error("请设置选择数量"));if(!this.type)return U("请设置附件类型","温馨提示","warning"),Promise.reject(new Error("请设置附件类型"));it(this.uploadLimit,this.selectLimit,this.type,this.adapter,this.modalTitle).then(n=>{const s=n;for(const a of s){const c=a.toLowerCase(),i=this.checkUrl(c);t.insertNode(i)}})}}const ma=(e,t,o,n,s,a,c,i,u,r,d)=>{var Q,ae,ue,de;const{siteInfo:_}=W(),p=ge(),f=y(da),h=Eo(),C=y(e);n&&((Q=_.editor_upload_api)!=null&&Q.image)&&f.value.push({...ra}),s&&((ae=_.editor_upload_api)!=null&&ae.video)&&f.value.push({...ua}),a&&f.value.find(te=>te==="uploadify")===void 0&&f.value.push("uploadify");const T=y({toolbarKeys:f.value,...t??{}}),A=y({MENU_CONF:{uploadImage:{...gt,headers:{Authorization:`Bearer ${p.value}`},allowedFileTypes:["image/*"],server:((ue=_.editor_upload_api)==null?void 0:ue.image)??"Upload/image"},uploadVideo:{...gt,headers:{Authorization:`Bearer ${p.value}`},allowedFileTypes:["video/*"],server:((de=_.editor_upload_api)==null?void 0:de.video)??"Upload/video"}},...o??{}}),R=te=>{if(!te.getAllMenuKeys().includes("uploadify")){const Me={key:"uploadify",factory(){return new pa(c,i,u,r,d)}};Ct.registerMenu(Me)}h.value=te};return tt(()=>{const te=h.value;te!=null&&te.destroy()}),{editorRef:h,content:C,toolBarConf:T,editorConf:A,handleCreated:R}},_a={class:"wangedit-container"},fa=k({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},height:{default:350},imageUpload:{type:Boolean,default:!1},videoUpload:{type:Boolean,default:!1},uploadify:{type:Boolean,default:!0},uploadType:{default:"*"},adapter:{default:""},uploadLimit:{default:1},selectLimit:{default:1},modalTitle:{default:"附件选择器"}},emits:["update:modelValue"],setup(e,{emit:t}){ve(p=>({"01f8c3a7":l(n)})),Ct.registerModule(Uo);const o=t,n=E(()=>`${e.height}px`),s=p=>{const f=p.getHtml();o("update:modelValue",f)},{editorRef:a,content:c,handleCreated:i,toolBarConf:u,editorConf:r}=ma(e.modelValue,e.toolbarConfig,e.editorConfig,e.imageUpload,e.videoUpload,e.uploadify,e.uploadLimit,e.selectLimit,e.uploadType,e.adapter,e.modalTitle),d={defaultConfig:r.value,placeholder:"请输入内容",mode:"default"},_={onCreated:i,onChange:s};return(p,f)=>(m(),g("div",_a,[v(l(zo),{class:"toolbar",editor:l(a),defaultConfig:l(u)},null,8,["editor","defaultConfig"]),v(l(Fo),I({class:"content",modelValue:l(c),"onUpdate:modelValue":f[0]||(f[0]=h=>ie(c)?c.value=h:null)},d,K(_)),null,16,["modelValue"])]))}});const va=V(fa,[["__scopeId","data-v-eb59dc69"]]),ga=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"})),ht=Object.assign({"./xb-alert/index.vue":jn,"./xb-amap/index.vue":zn,"./xb-audio/index.vue":cs,"./xb-bmap/index.vue":us,"./xb-code/index.vue":gs,"./xb-icon/index.vue":Is,"./xb-image/index.vue":Ms,"./xb-info/index.vue":js,"./xb-input/index.vue":Us,"./xb-prompt/index.vue":Hs,"./xb-qmap/index.vue":Js,"./xb-remote/index.vue":Xs,"./xb-title/index.vue":ea,"./xb-upload/index.vue":Jo,"./xb-video/index.vue":ia,"./xb-wangEditor/index.vue":ga}),ha=e=>{Object.keys(ht).forEach(t=>{let o=t.split("/")[1]??"";const n=rn(o),s=ht[t];e.component(n,s.default)})},ya=Object.freeze(Object.defineProperty({__proto__:null,install:ha},Symbol.toStringTag,{value:"Module"})),ba="data:image/png;base64,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",xa={inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},wa={gutter:30,alignItems:void 0,type:void 0,align:void 0,justify:void 0,tag:"div"},ka={},Aa={props:{modalTitle:"图片预览",httpRequest:async e=>{const t=ge().value;return t&&(e.headers={...e.headers,Authorization:t}),await wo(e)},onSuccess(e,t,o){var s;let n=ba;(e==null?void 0:e.code)===200?n=((s=e==null?void 0:e.data)==null?void 0:s.url)??"":e!=null&&e.msg&&j(e.msg,"温馨提示"),t.url=n},onError(e){console.log("上传失败",e)}}},Ca={},Pa={"*":Ca,upload:Aa},Ea={global:Pa,form:xa,row:wa,wrap:ka,submitBtn:!1,resetBtn:!1},Sa=async(e,t,o={})=>{const n=y();return t==="GET"?n.value={params:o}:n.value={data:o},await Y({url:e,method:t,...n.value})},Va=["select","radio","checkbox"],Lt=e=>(e=e.map(t=>{var o,n;return typeof t=="string"||(Va.includes(t.type)&&((o=t==null?void 0:t.props)==null?void 0:o.replace)===!0&&(t.update=(s,a,c)=>{if(s===""||s===null||s===void 0||!(a!=null&&a.options))return;const i=a==null?void 0:a.options.find(r=>r.value===s),u=(i==null?void 0:i.replace)??null;if(!u)return!1;c.setValue(u)}),(n=t==null?void 0:t.on)!=null&&n.click&&(oo(),t.on.click=new Function(`return ${t.on.click}`)),t!=null&&t.children&&Array.isArray(t.children)&&(t.children=Lt(t.children))),t}),e),Ia=async(e,t,o)=>e?t?await Sa(e,t,o).then(n=>{var s,a;return(s=n.data.http)!=null&&s.api?n.data.formRule?((a=n==null?void 0:n.data)!=null&&a.formRule&&(n.data.formRule=Lt(n.data.formRule)),n):Promise.reject(new Error("未配置表单规则")):Promise.reject(new Error("未配置提交API地址"))}):Promise.reject(new Error("未配置表单请求方法")):Promise.reject(new Error("未配置表单API地址")),Ut=k({__name:"index",props:{api:{},method:{default:"GET"},params:{default:()=>({})}},emits:["init","initOk","initError","submit","submitOk","submitError","rest","restOk"],setup(e,{expose:t,emit:o}){const n=o,s=ze(),a=y(),c=y({title:"",option:void 0,rule:void 0}),i=y(),u=y({api:"",method:"GET",redirect:""});pt.use(ya);const r=async()=>(n("submit"),await Y({url:u.value.api,method:u.value.method,params:e.params,data:i.value}).then(f=>{const h=f;n("submitOk",h);const C=h.msg??"提交成功",T=h.code===200?"success":"error";return _e(C,T,"温馨提示"),Promise.resolve(h)}).catch(f=>(n("submitError",f),Promise.reject(f)))),d=()=>{n("rest"),a.value.resetFields(),n("restOk")},_={submit:r,reset:d};return(()=>{n("init"),Ia(e.api,e.method,e.params).then(f=>{var T,A;const h=f.data;c.value.option={...Ea,...h.config};const C=h.formRule;c.value.rule=C,u.value={api:(T=h.http)==null?void 0:T.api,method:(A=h.http)==null?void 0:A.method,redirect:h.redirect},n("initOk",{result:h,exposed:s.exposed})}).catch(f=>{n("initError",f)})})(),t({fApi:a,formProps:c,formData:i,submit:r,reset:d,submitApiData:u}),(f,h)=>(m(),w(l(pt),I({api:l(a),"onUpdate:api":h[0]||(h[0]=C=>ie(a)?a.value=C:null),modelValue:l(i),"onUpdate:modelValue":h[1]||(h[1]=C=>ie(i)?i.value=C:null),modelModifiers:{lazy:!0}},l(c),K(_)),null,16,["api","modelValue"]))}}),Ba=k({__name:"modal",props:{api:{},method:{},params:{},initOk:{type:Function}},setup(e){return(t,o)=>{const n=Ut;return m(),w(n,I({class:"xb-form-modal"},{api:t.api,method:t.method,params:t.params},K({initOk:t.initOk})),null,16)}}});const lt=V(Ba,[["__scopeId","data-v-b6f66b10"]]),Ve=(e,t,o,n)=>new Promise((s,a)=>{var r;const c=y(),i={api:e,method:t,params:o,initOk:d=>{c.value=d.exposed}};(r=i.params)!=null&&r.redirect&&delete i.params.redirect;const u={...n,beforeClose:(d,_,p)=>{var f,h;if(d==="confirm"){if(_.confirmButtonLoading=!0,_.confirmButtonDisabled=!0,_.confirmButtonText="提交中",!((f=c.value)!=null&&f.submit)){p(),a(new Error("表单实例不存在"));return}(h=c.value)==null||h.submit().then(C=>{p(),s(C)}).catch(C=>{[300,301,302].includes(C.code)&&p()}).finally(()=>{_.confirmButtonLoading=!1,_.confirmButtonDisabled=!1,_.confirmButtonText="确定"})}else p()}};re(lt,i,u)}),Ta=(e,t,o,n)=>new Promise(async s=>{const a={api:e,method:t,params:o,initOk:()=>{}},c={...n,showClose:!0,customClass:"xb-modal-button-none"};re(lt,a,c).catch(i=>{s(i)})}),zt={id:null,title:"全部",is_system:"20",active:!0},je=[{...zt}],Ma=1024*1024*1e3,Qe=1024*1024*2,$a=async e=>new Promise((t,o)=>{const n=new FileReader,s=new No.ArrayBuffer;n.onload=a=>{var c;s.append((c=a.target)==null?void 0:c.result),s.end&&t(s.end())},n.onerror=a=>{o(a)},n.readAsArrayBuffer(e)}),Ft=async(e,t,o,n,s)=>{var r,d;const a=o[n],c=new FormData;c.append("file",a),c.append("index",n.toString()),c.append("current",(n+1).toString()),c.append("total",o.length.toString()),c.append("name",e.name),c.append("size",e.size.toString());for(const _ in t)c.append(_,t[_]);const i=(r=W().siteInfo.upload_api)==null?void 0:r.chunk;if(!i)return U("请设置分片上传接口地址","温馨提示","error"),Promise.reject(new Error("请设置分片上传接口地址"));const u=await be(i,c);s({result:u,total:o.length,index:n}),(d=u==null?void 0:u.data)!=null&&d.url?ee((u==null?void 0:u.msg)??"上传成功","温馨提示"):await Ft(e,t,o,n+1,s)},Oa=async(e,t,o)=>{const n=Math.ceil(e.size/Qe),s=[];for(let u=0;u<n;u++){const r=u*Qe,d=Math.min(e.size,r+Qe);s.push(e.slice(r,d))}const a=Ae("正在计算"),c=await $a(e);t={...t,md5:c},a.close();const i=Ae("上传中");await Ft(e,t,s,0,o),i.close()},Nt=async(e,t)=>{const o=Ae("上传中");return await Tn(e,t).finally(()=>{o.close()})};function Ht(e,t,o,n){const s={image:"image/*",images:"image/*",video:"video/*",audio:"audio/*"},a={doc:".txt,.key,.pem,.p12,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf",font:".ttf,.otf,.woff,.woff2",zip:".zip,.rar,.7z",other:""},c=s[e]??a[e]??"",i=y([]);return{uploadProps:{accept:c,multiple:t>0,autoUpload:!1,showFileList:!1,onChange:async r=>{const d=r.raw;if(!d)return U("文件对象错误","温馨提示","error"),Promise.reject(new Error("文件对象错误"));d.size>=Ma?Oa(d,{adapter:n,limit:t,cid:o??""},p=>{const f=p.result.data,h=Math.ceil(p.index/p.total*100),C=i.value.findIndex(T=>T.md5===f.md5);C!==-1?i.value[C].progress=h:i.value.push({...f,progress:h})}):Nt(d,{adapter:n,limit:t,cid:o??""}).then(p=>{p&&i.value.push({...p,progress:100})})}},fileList:i}}const ja={class:"xb-upload-container"},Ra={key:0,class:"file-list"},qa={class:"info"},Da={class:"name"},La={key:0,class:"close"},Ua={class:"progress"},za=k({__name:"upload",props:{type:{},adapter:{},uploadLimit:{default:1},cid:{}},emits:["update:init"],setup(e,{emit:t}){const o=ze(),n=t,{uploadProps:s,fileList:a}=Ht(e.type,e.uploadLimit,e.cid,e.adapter);return ne(()=>{n("update:init",o.exposed)}),(c,i)=>{const u=D,r=P("el-upload"),d=P("el-progress");return m(),g("div",ja,[v(r,I({class:"xb-upload"},{...l(s),drag:!0}),{default:b(()=>[v(u,{icon:"UploadFilled",size:"32"}),i[0]||(i[0]=x("div",{class:"el-upload__text"},[H(" 将文件拖至此处或"),x("em",null,"点击上传")],-1))]),_:1},16),l(a).length?(m(),g("div",Ra,[(m(!0),g(G,null,Z(l(a),(_,p)=>(m(),g("div",{class:"item",key:p},[x("div",qa,[x("div",Da,O(_.name),1),_.progress<100?(m(),g("div",La,[v(u,{icon:"CloseOutlined",size:"16"})])):B("",!0)]),x("div",Ua,[v(d,{percentage:_.progress},null,8,["percentage"])])]))),128))])):B("",!0)])}}});const Fa=V(za,[["__scopeId","data-v-fe8b36e7"]]);function Na(e,t,o,n){const s=y(!1),a=y([]),c=y([]),i=y(zt),u=y(je),r=y([]),d=y({background:!0,layout:"prev, pager, next, jumper, total",total:0,defaultPageSize:24,currentPage:1});ne(async()=>{const M=await We();u.value=je.concat(M),await p()});const _={sizeChange:M=>{d.value.defaultPageSize=M,p()},currentChange:M=>{d.value.currentPage=M,p()}},p=async M=>{const S={type:e,adapter:n,page:d.value.currentPage,limit:d.value.defaultPageSize,...M},$=await Bn(S);r.value=($==null?void 0:$.data)??[],d.value.total=($==null?void 0:$.total)??0,d.value.defaultPageSize=($==null?void 0:$.per_page)??15,d.value.currentPage=($==null?void 0:$.current_page)??1};return{isEdit:s,selectedEdit:a,confirm:()=>c.value,selected:c,activeCate:i,pageEvents:_,cateList:u,datalist:r,paginateProps:d,getUploads:p,selectCate:M=>{var q;if(M.id===((q=i.value)==null?void 0:q.id))return;const S={cid:M.id},$=Ae("加载中...");i.value=M,p(S).finally(()=>{$.close()})},selectFile:M=>{s.value?a.value.includes(M)?a.value.splice(a.value.indexOf(M),1):a.value.push(M):o===1?c.value.includes(M)?c.value.splice(c.value.indexOf(M),1):c.value=[M]:c.value.includes(M)?c.value.splice(c.value.indexOf(M),1):(o===0||c.value.length<o)&&c.value.push(M)},openAdminEdit:()=>{s.value=!0,c.value=[]},closeAdminEdit:()=>{s.value=!1,a.value=[]},SelectAllFile:()=>{a.value.length===r.value.length?a.value=[]:a.value=[...r.value]},hanldEditFile:M=>{const S=W().siteInfo.upload_api;if(!(S!=null&&S.edit))return j("请先配置附件编辑接口");const $=y(S.edit),q=y({id:M.id});Ve($.value,"GET",q.value,{title:"修改附件",customStyle:{width:"400px"}}).then(()=>{p()})},moveSelectedFile:()=>{var $;const M=($=W().siteInfo.upload_api)==null?void 0:$.move;if(!M)return j("请先配置附件移动接口");if(a.value.length<=0)return j("请选择要移动的附件");const S=a.value.map(q=>q.id);Ve(M,"GET",{ids:S},{title:"移动附件",customStyle:{width:"400px"}}).then(()=>{s.value=!1,a.value=[],p()})},delSelectedFile:()=>{var S;const M=(S=W().siteInfo.upload_api)==null?void 0:S.del;if(!M)return j("请先配置附件删除接口");if(a.value.length<=0)return j("请先选择要删除的附件");U("是否确认删除已选中的附件？","温馨提示","error",{showCancelButton:!0}).then(()=>{const $=a.value.map(q=>q.id);xe(M,{ids:$}).then(q=>{s.value=!1,a.value=[],p(),ee((q==null?void 0:q.msg)??"删除成功")})})},hanldDelFile:M=>{var $;const S=($=W().siteInfo.upload_api)==null?void 0:$.del;if(!S)return j("请先配置附件删除接口");U("是否确认删除该附件？","温馨提示","error",{showCancelButton:!0}).then(()=>{const q={id:M==null?void 0:M.id};xe(S,q).then(ce=>{ee((ce==null?void 0:ce.msg)??"删除成功"),p()})})},hanldUpload:()=>{re(Fa,{type:e,adapter:n,uploadLimit:t,cid:i.value.id},{title:"上传附件",customStyle:{width:"1100px",height:"75vh"},customClass:"xb-modal-mask",showClose:!0,showCancelButton:!0,showConfirmButton:!0,beforeClose:(M,S,$)=>{p(),$()}})},formCategory:M=>{const S=W().siteInfo.upload_cate_api,$=y(""),q=y({});if(M){if(!(S!=null&&S.edit))return j("请先配置附件分类编辑接口");$.value=S==null?void 0:S.edit,q.value={id:M.id}}else{if(!(S!=null&&S.add))return j("请先配置附件分类添加接口");$.value=S==null?void 0:S.add}Ve($.value,"GET",q.value,{title:M?"修改分类":"添加分类",customStyle:{width:"400px"}}).finally(()=>{We().then(ce=>{u.value=je.concat(ce)})})},delCategory:M=>{var $;const S=($=W().siteInfo.upload_cate_api)==null?void 0:$.del;if(!S)return j("请先配置附件分类删除接口");U("是否确认删除该分类？","温馨提示","error",{showCancelButton:!0}).then(()=>{xe(S,{id:M==null?void 0:M.id}).then(q=>{ee((q==null?void 0:q.msg)??"删除成功"),We().then(ce=>{u.value=je.concat(ce)})})})}}}const Ha={class:"xb-preview"},Wa={key:3,class:"doc"},Qa={key:4,class:"zip"},Ga={key:5,class:"other"},Ja=k({__name:"preview",props:{extension:{},url:{},preview:{default:""},title:{default:""}},setup(e){const t=y({src:e.url,fit:"cover",class:"image"});e.preview&&(t.value={...t.value,previewSrcList:[e.preview]});const o=()=>{at(e.url,e.title)},n=()=>{ct(e.url,e.title)};return(s,a)=>{const c=P("el-image"),i=D;return m(),g("div",Ha,[l(Se)("image",s.extension)?(m(),w(c,z(I({key:0},l(t))),null,16)):l(Se)("video",s.extension)?(m(),g("div",{key:1,class:"video",onClick:n},[v(i,{icon:"VideoPlay",size:42})])):l(Se)("audio",s.extension)?(m(),g("div",{key:2,class:"audio",onClick:o},[v(i,{icon:"Bell",size:42})])):l(Se)("doc",s.extension)?(m(),g("div",Wa,[v(i,{icon:"Document",size:42})])):l(Se)("zip",s.extension)?(m(),g("div",Qa,[v(i,{icon:"Document",size:42})])):(m(),g("div",Ga,[v(i,{icon:"Menu",size:42})]))])}}});const Wt=V(Ja,[["__scopeId","data-v-65f8864f"]]),Za={class:"uploadify-modal"},Xa={class:"category-container"},Ka={class:"category-title"},Ya={class:"title"},ec={class:"action"},tc={class:"category-content"},oc=["onClick"],nc={key:0,class:"action"},sc={class:"content-container"},ac={class:"action-box"},cc={class:"action"},lc={class:"upload"},ic={key:0,class:"content-box"},rc=["onClick"],uc={class:"selected"},dc={class:"mask"},pc=["onClick"],mc=["onClick"],_c={key:1,class:"empty-box"},fc={key:2,class:"paginate-box"},vc=k({__name:"modal",props:{type:{},adapter:{},uploadLimit:{default:1},selectLimit:{default:1}},emits:["update:init"],setup(e,{expose:t,emit:o}){const n=ze(),s=o,{isEdit:a,selectedEdit:c,selected:i,confirm:u,pageEvents:r,cateList:d,datalist:_,paginateProps:p,activeCate:f,selectCate:h,selectFile:C,openAdminEdit:T,closeAdminEdit:A,SelectAllFile:R,hanldEditFile:Q,moveSelectedFile:ae,delSelectedFile:ue,hanldDelFile:de,hanldUpload:te,formCategory:Te,delCategory:Me}=Na(e.type,e.uploadLimit,e.selectLimit,e.adapter);return ne(()=>{s("update:init",n.exposed)}),t({confirm:u}),(M,S)=>{const $=D,q=P("el-button"),ce=P("el-text"),io=P("el-empty"),ro=P("el-pagination");return m(),g("div",Za,[x("div",Xa,[x("div",Ka,[x("div",Ya,[v($,{icon:"Folder",size:18}),S[1]||(S[1]=x("span",null,"分类选择",-1))]),x("div",ec,[v($,{icon:"PlusCircleFilled",size:20,onClick:S[0]||(S[0]=J=>l(Te)())})])]),x("div",tc,[(m(!0),g(G,null,Z(l(d),(J,$e)=>(m(),g("div",{key:$e,class:ke(["item",{active:J.id===l(f).id}])},[x("div",{class:"title",onClick:ut=>l(h)(J)},[v($,{icon:"Folder",size:17}),x("span",null,O(J.title),1)],8,oc),J.is_system==="10"?(m(),g("div",nc,[v($,{icon:"EditFilled",size:16,onClick:ut=>l(Te)(J)},null,8,["onClick"]),v($,{icon:"DeleteFilled",size:16,onClick:ut=>l(Me)(J)},null,8,["onClick"])])):B("",!0)],2))),128))])]),x("div",sc,[x("div",ac,[x("div",cc,[l(a)?B("",!0):(m(),w(q,{key:0,type:"primary",onClick:l(T)},{default:b(()=>S[2]||(S[2]=[H(" 管理 ")])),_:1},8,["onClick"])),l(a)?(m(),w(q,{key:1,type:"primary",onClick:l(A)},{default:b(()=>S[3]||(S[3]=[H(" 退出 ")])),_:1},8,["onClick"])):B("",!0),l(a)?(m(),w(q,{key:2,type:"info",onClick:l(R)},{default:b(()=>S[4]||(S[4]=[H(" 全选 ")])),_:1},8,["onClick"])):B("",!0),l(a)?(m(),w(q,{key:3,type:"warning",onClick:l(ae)},{default:b(()=>S[5]||(S[5]=[H(" 移动 ")])),_:1},8,["onClick"])):B("",!0),l(a)?(m(),w(q,{key:4,type:"danger",onClick:l(ue)},{default:b(()=>S[6]||(S[6]=[H(" 删除 ")])),_:1},8,["onClick"])):B("",!0)]),x("div",lc,[v(q,{type:"primary",class:"special",onClick:l(te)},{icon:b(()=>[v($,{icon:"UploadFilled",size:18})]),default:b(()=>[S[7]||(S[7]=H(" 文件上传 "))]),_:1},8,["onClick"])])]),l(_).length?(m(),g("div",ic,[(m(!0),g(G,null,Z(l(_),J=>(m(),g("div",{key:J.id,class:ke(["item",{active:l(i).includes(J)||l(c).includes(J)}])},[x("div",{class:"preview",onClick:$e=>l(C)(J)},[(m(),w(Wt,{extension:J.format,url:J.url,key:J.url,title:J.title},null,8,["extension","url","title"])),x("div",uc,[v($,{class:"icon",icon:"Check",size:28})])],8,rc),v(ce,{class:"title",truncated:""},{default:b(()=>[H(O(J.title),1)]),_:2},1024),x("div",dc,[x("div",{class:"action",onClick:$e=>l(Q)(J)},[v($,{icon:"EditFilled",title:"编辑附件",size:16}),S[8]||(S[8]=x("span",null,"修改",-1))],8,pc),x("div",{class:"action",onClick:$e=>l(de)(J)},[v($,{icon:"DeleteFilled",title:"删除附件",size:16}),S[9]||(S[9]=x("span",null,"删除",-1))],8,mc)])],2))),128))])):(m(),g("div",_c,[v(io,{description:"当前没有更多附件"})])),l(_).length?(m(),g("div",fc,[v(ro,I(l(p),K(l(r))),null,16)])):B("",!0)])])}}}),it=(e,t,o,n,s)=>new Promise(a=>{if(!o)return U("请设置附件类型","温馨提示","warning"),Promise.reject(new Error("请设置附件类型"));const c=y();re(vc,{...{uploadLimit:e,selectLimit:t,type:o,adapter:n},"onUpdate:init":u=>{c.value=u}},{title:s,customStyle:{width:"1100px",height:"75vh"},showClose:!0,beforeClose:(u,r,d)=>{var _;if(u==="confirm"){const p=(_=c.value)==null?void 0:_.confirm();if(!p){j("请选择文件");return}if(p.length){const f=p.map(h=>h==null?void 0:h.url);a(f),d()}else j("请选择文件")}else d()}})}),gc=["jpg","jpeg","png","gif","bmp"],hc=["mp4","avi","rmvb","rm","mpg","mpeg","mpe","wmv","mkv","vob","mov","3gp","flv","f4v","swf","webm","ts","mts","m2ts","m4v","dat","ogm","ogv","ogg","mod","tod","qt","amv","rm","m2v","m2p","m2t","3gp"],yc=["mp3","wav","wma","ogg","ape","flac","aac","m4a","ac3","mmf","amr","m4r","awb","mid","midi","xmf","rtttl","rtx","ota","imy","m3u","m4b","m4p"],bc=["doc","docx","xls","xlsx","ppt","pptx","pdf","txt","csv","rtf","xml","html","htm","json","log","md","markdown","yaml","yml","ini","conf","properties","java","c","cpp","psd","xmind","js","ts","jsx","tsx","vue","php","py","go","rb","sh","bat","cmd","sql","pl","perl","lua","swift","dart","asm","asmx","aspx","jsp","jspx","php","jsp","jspx","asp","aspx","cs","vb","vbs","html","htm","xhtml","jsp","jspx","php","php3","php4","php5","phtml","inc","asp","aspx","aspx","ascx","master","cs","vb"],xc=["zip","rar","7z","tar","gz","bz2","xz","z","arj","lzh","ace","jar","iso","dmg","pkg","xz","z","lz","lzma","lzo","lzx","zst","tz","zz","taz"],Se=(e,t)=>{const o=t.toLowerCase();return e==="image"?gc.includes(o):e==="video"?hc.includes(o):e==="audio"?yc.includes(o):e==="doc"?bc.includes(o):e==="zip"?xc.includes(o):!1},wc=e=>{const t=e.lastIndexOf(".");return e.substring(t+1)},kc={class:"upload-container"},Ac=["onClick"],Cc={class:"item"},Pc=k({__name:"index",props:{modelValue:{},title:{default:"附件管理"},type:{default:"image"},adapter:{default:""},isUpload:{type:Boolean,default:!1},uploadLimit:{default:1},selectLimit:{default:1},isAlert:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,n=y([]),{uploadProps:s}=Ht(e.type,e.uploadLimit,void 0,e.adapter),a=u=>{const r=u.raw;if(!r)return U("文件对象错误","温馨提示","error"),Promise.reject(new Error("文件对象错误"));Nt(r,{adapter:e.adapter,limit:e.uploadLimit}).then(d=>{d&&(e.uploadLimit===1?n.value=[d.url]:n.value.length<e.uploadLimit&&n.value.push(d.url),o("update:modelValue",n.value))})},c=()=>{if(e.isAlert)return j(e.isAlert),Promise.reject(new Error(e.isAlert));it(e.uploadLimit,e.selectLimit,e.type,e.adapter,e.title).then(u=>{o("update:modelValue",u)})},i=u=>{var d;const r=y([]);!((d=e.modelValue)!=null&&d.length)||!Array.isArray(e.modelValue)||(r.value=e.modelValue.filter((_,p)=>p!==u),o("update:modelValue",r.value))};return ne(()=>{if(!Array.isArray(e.modelValue)){const u=e.modelValue?[e.modelValue]:[];o("update:modelValue",u)}}),(u,r)=>{const d=D,_=P("el-upload");return m(),g("div",kc,[(m(!0),g(G,null,Z(u.modelValue,(p,f)=>(m(),g("div",{key:f,class:"item"},[(m(),w(Wt,{key:p,url:p,preview:p,extension:l(wc)(p),title:"在线播放"},null,8,["url","preview","extension"])),x("div",{class:"del-file",onClick:h=>i(f)},[v(d,{icon:"Delete",size:15})],8,Ac)]))),128)),u.isUpload&&!u.isAlert?(m(),w(_,I({key:0,class:"xb-upload"},{...l(s),onChange:a}),{default:b(()=>[x("div",Cc,[v(d,{icon:"PlusOutlined",size:22,color:"#888"})])]),_:1},16)):(m(),g("div",{key:1,class:"item",onClick:c},[v(d,{icon:"PlusOutlined",size:22,color:"#888"})]))])}}});const Qt=V(Pc,[["__scopeId","data-v-d52544ee"]]),Ec={class:"xb-remote-modal"},Sc=k({__name:"modal",props:{api:{},params:{},close:{type:Function}},emits:["update:modelValue"],setup(e,{emit:t}){const o=y({api:e.api,ajaxParams:e.params,isModal:!0}),n=y(Re()),s=pe(),a=fe(),c=t,_={value:p=>{c("update:modelValue",p)},redirect:p=>{if(!p.url){U("重定向地址参数错误","温馨提示","error");return}if(se(p.url)){U("重定向地址不合法","温馨提示","error");return}o.value.api=(p==null?void 0:p.url)??"";const f={...p.query??{}};o.value.ajaxParams=f,n.value=Re()},reload:()=>{n.value=Re()},refresh:()=>{e.close(),a.push({path:s.path,query:{t:Date.now(),...s.query}})},close:e.close};return(p,f)=>{const h=ye;return m(),g("div",Ec,[(m(),w(h,I({key:l(n)},l(o),K(_)),null,16))])}}});const Gt=V(Sc,[["__scopeId","data-v-fc9e9b80"]]),Jt=(e,t,o)=>new Promise(n=>{const s={api:e,params:t,close:()=>{Ue.close(),n({})}},a={...o,showClose:!0,customClass:"xb-modal-button-none"};re(Gt,s,a).catch(c=>{n(c)})}),Zt=async(e,t="GET",o={})=>await Y({url:e,method:t,params:o}),Vc={height:"auto",border:!1,showOverflow:!0,keepSource:!0,rowConfig:{keyField:"id"},columnConfig:{resizable:!0},pagerConfig:{enabled:!0,total:0,currentPage:1,pageSize:30,background:!0,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},editConfig:{trigger:"dblclick",mode:"row"},toolbarConfig:{custom:!0,slots:{buttons:"topButtons"}},proxyConfig:{seq:!0,props:{result:"result",total:"page.total"},ajax:{}},formConfig:{data:{name:""},items:[]},columns:[],data:[]},Ic=(e,t,o)=>{Y(o,{responseType:"blob"}).then(n=>{Ho.saveFile({filename:e,type:t,content:n.data})})},Bc=(e,t)=>new Promise((o,n)=>{var r,d,_;if(!((r=t.exportConfig)!=null&&r.api))return j("请设置请求API"),n(new Error("请设置请求API"));const s=e.options,a=(d=e.$grid)==null?void 0:d.getProxyInfo(),c={format:s.type??"xlsx",filename:s.filename??"导出文件",sheetName:s.sheetName??"",isHeader:s.isHeader??!1,original:s.original??!1,mode:s.mode??"all",pager:a?a.pager:null,ids:s.mode==="selected"?s.data.map(p=>p.id):[],fields:s.columns.map(p=>({field:p.field,title:p.title}))},i={method:"POST",data:{...c}},u=((_=t.exportConfig)==null?void 0:_.api)??"";Y(u,i).then(p=>{var h;const f=p;if(!((h=f==null?void 0:f.data)!=null&&h.url))return j("导出数据失败，缺少文件URL地址"),n(new Error("导出数据失败，缺少文件URL地址"));Ic(c.filename,c.format,f.data.url),o(p)})}),Tc=(e,t)=>{const o=e.$grid,n=new FormData;return n.append("file",e.file),new Promise(s=>{var i;const a=((i=t.importConfig)==null?void 0:i.api)??"";Y(a,{method:"POST",data:n}).then(u=>{const{msg:r}=u;ee(r||"操作成功"),o==null||o.commitProxy("query"),s(u)}).catch(u=>{console.error("导入失败",u)})})},Mc=(e,t)=>(e.$grid,new Promise(o=>{const n=new FileReader;n.onload=s=>{const a=s.target?s.target.result:"",c=Wo(a,{type:"binary"}),i=Qo.sheet_to_json(c.Sheets.Sheet1);e.$table.loadData(i),ee("已将数据导入至本地表格"),o(i)},n.readAsBinaryString(e.file)})),$c=(e,t)=>{var o,n;return(o=t.importConfig)!=null&&o.api&&((n=t.importConfig)!=null&&n.is_server)?Tc(e,t):Mc(e)},Oc=(e,t)=>{const o=e.form,n=e.page,s=y({...o,...t.params,page:n.currentPage,limit:n.pageSize});return Zt(t.api,t.method,s.value)},jc=(e,t="GET",o={})=>{const n=y(Vc),s=y(),a=y([]),c=y([]),i=y([]),u=y(),r=y(),d=`${e}Table`;return Zt(d,t,o).then(_=>{var f,h,C,T,A,R;if(_.code!==200)return Promise.reject(new Error("获取表格配置失败"));if(!n.value)return Promise.reject(new Error("没有表格配置"));if(Array.isArray(n.value)&&n.value.length<=0)return Promise.reject(new Error("没有更多的表格配置"));n.value=((f=_.data)==null?void 0:f.config)??{},r.value=((h=_.data)==null?void 0:h.headerDesc)??{},n.value.toolbarConfig={...n.value.toolbarConfig,slots:{buttons:"topButtons"}},n.value.toolbarConfig.import&&(n.value.importConfig={...n.value.importConfig,remote:!0,importMethod:Q=>$c(Q,n.value)}),n.value.toolbarConfig.export&&(n.value.exportConfig={...n.value.exportConfig,remote:!0,exportMethod:Q=>Bc(Q,n.value)});const p={api:e,method:t,params:o};n.value.proxyConfig={...n.value.proxyConfig,ajax:{query:Q=>Oc(Q,p)}},a.value=((C=_.data)==null?void 0:C.topButtons)??[],c.value=((T=_.data)==null?void 0:T.rightButtons)??[],i.value=((A=_.data)==null?void 0:A.extraButtons)??[],u.value=((R=_.data)==null?void 0:R.tabsConfig)??[]}),{config:n,headerDesc:r,gridRef:s,topButtons:a,extraButtons:i,rightButtons:c,tabsConfig:u}},X=e=>{var n,s;const t=((n=e==null?void 0:e.slots)==null?void 0:n.default)??"";let o={};return["image","images"].includes(t)&&(o={style:{width:"25px",height:"25px",fit:"cover"}}),t==="input"&&(o={...o,placeholder:`请输入${e.title}`}),t==="select"&&(o={...o,placeholder:`请选择${e.title}`}),(s=e==null?void 0:e.params)!=null&&s.props&&(o={...o,...e.params.props}),o},F=(e,t)=>{let o=null;if(!e||!t)return o;if(e.includes(".")){const n=e.split(".");let s=t;n.forEach(a=>{s=s[a]}),o=s}else o=t[e];return o},Ce=(e,t)=>({column:e.column,$table:e.$table,$grid:e.$grid,row:e.row,value:t}),Rc=["src"],qc={class:"text"},Dc=k({__name:"index",props:{scoped:{}},setup(e){const t=e,o=X(t.scoped.column),n=y((o==null?void 0:o.icon)||"Bell"),s=y((o==null?void 0:o.text)||"点击播放"),a=y((o==null?void 0:o.title)||"未知音频"),c=E(()=>F(t.scoped.column.field,t.scoped.row)),i=()=>{at(c.value,a.value)};return(u,r)=>{const d=D;return m(),g("div",I({class:"xb-audio"},l(o)),[x("div",{class:"audio-content",onClick:i},[l(se)(l(n))?(m(),g("img",{key:0,class:"icon",src:l(n)},null,8,Rc)):(m(),w(d,{key:1,icon:l(n)},null,8,["icon"])),x("span",qc,O(l(s)),1)])],16)}}});const Lc=V(Dc,[["__scopeId","data-v-2a09562c"]]),Uc=k({__name:"index",props:{scoped:{}},setup(e){const t=e,o=X(t.scoped.column),n=E(()=>F(t.scoped.column.field,t.scoped.row)??"未知标签名"),s=y(o.default??"未知字典"),a=y((o==null?void 0:o.options)??{}),c=E(()=>a.value[n.value]??s.value),i=y(o.style??{}),u=E(()=>i.value[n.value]??{});return(r,d)=>{const _=P("el-tag");return m(),w(_,z(N(l(u))),{default:b(()=>[H(O(l(c)),1)]),_:1},16)}}}),zc=["innerHTML"],Fc=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=X(o.scoped.column),s=E(()=>F(o.scoped.column.field,o.scoped.row));return(a,c)=>(m(),g("div",I(l(n),{innerHTML:l(s)}),null,16,zc))}}),Nc={class:"xb-icon"},Hc=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=y(!!s.edit),c=E(()=>F(o.scoped.column.field,o.scoped.row)),i=()=>{a.value&&Dt().then(u=>{const r=u;n("editClosed",Ce(o.scoped,r))})};return(u,r)=>{const d=D,_=P("el-tooltip");return m(),g("div",Nc,[v(_,{disabled:!l(a),effect:"dark",content:"点击修改图标"},{default:b(()=>[v(d,I({class:{"icon-edit":l(a)}},l(s),{icon:l(c),onClick:i}),null,16,["class","icon"])]),_:1},8,["disabled"])])}}});const Wc=V(Hc,[["__scopeId","data-v-f4663c87"]]),Qc={class:"xb-image-error"},Gc=k({__name:"index",props:{scoped:{}},setup(e){var c,i;const t=e,o=X(t.scoped.column),n=E(()=>F(t.scoped.column.field,t.scoped.row)),s=y(((i=(c=t==null?void 0:t.scoped.column)==null?void 0:c.params)==null?void 0:i.preview)||!0),a=E(()=>{var r;if(!s.value)return[];const u=((r=t.scoped.column.params)==null?void 0:r.default)||"";return n.value||u});return(u,r)=>{const d=D,_=P("el-image");return m(),w(_,I(l(o),{src:l(n),"preview-src-list":[l(a)],class:"xb-table-image"}),{error:b(()=>[x("div",Qc,[v(d,{icon:"Picture"})])]),_:1},16,["src","preview-src-list"])}}});const Jc=V(Gc,[["__scopeId","data-v-e67d245a"]]),Zc={class:"xb-images"},Xc={class:"xb-image-error"},Kc=k({__name:"index",props:{scoped:{}},setup(e){var i;const t=e,o=((i=t.scoped.column.params)==null?void 0:i.limit)||3,n=X(t.scoped.column),s=E(()=>F(t.scoped.column.field,t.scoped.row)),a=y(s.value.slice(0,o)),c=E(()=>{var r;const u=((r=t.scoped.column.params)==null?void 0:r.default)||"";return s.value||[u]});return(u,r)=>{const d=D,_=P("el-image");return m(),g("div",Zc,[(m(!0),g(G,null,Z(l(a),(p,f)=>(m(),w(_,I({ref_for:!0},l(n),{key:f,src:p,"preview-src-list":l(c),class:"xb-item-image"}),{error:b(()=>[x("div",Xc,[v(d,{icon:"Picture"})])]),_:2},1040,["src","preview-src-list"]))),128))])}}});const Yc=V(Kc,[["__scopeId","data-v-d1a3c671"]]),el={class:"xb-pictuer"},tl={key:1,class:"info"},ol=["title","innerHTML"],nl=["title","innerHTML"],sl=k({__name:"index",props:{scoped:{}},setup(e){const t=e,o=X(t.scoped.column),n=E(()=>{const c=F(o.image,t.scoped.row),i=y({previewSrcList:[],src:c});return((o==null?void 0:o.preview)??!0)!==!1&&(i.value.previewSrcList=[c]),i.value}),s=E(()=>F(o.title,t.scoped.row)),a=E(()=>F(o.desc,t.scoped.row));return(c,i)=>{const u=D,r=P("el-image");return m(),g("div",el,[l(o).image?(m(),w(r,I({key:0,class:"pictuer"},l(n)),{error:b(()=>[v(u,{icon:"Picture",size:26})]),_:1},16)):B("",!0),l(s)||l(a)?(m(),g("div",tl,[l(s)?(m(),g("div",{key:0,title:l(s),class:"title",innerHTML:l(s)},null,8,ol)):B("",!0),l(a)?(m(),g("div",{key:1,title:l(a),class:"desc",innerHTML:l(a)},null,8,nl)):B("",!0)])):B("",!0)])}}});const al=V(sl,[["__scopeId","data-v-3ec58a6b"]]),cl=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=y(F(o.scoped.column.field,o.scoped.row)),c=()=>{const i=F(o.scoped.column.field,o.scoped.row);a.value!==i&&n("editClosed",Ce(o.scoped,a.value))};return(i,u)=>{const r=P("el-input");return m(),w(r,I(l(s),{modelValue:l(a),"onUpdate:modelValue":u[0]||(u[0]=d=>ie(a)?a.value=d:null),onBlur:c}),null,16,["modelValue"])}}}),Xt=(e,t)=>{const o=y({});if(t)for(const n in t){const s=t[n],a=e[n]??"";o.value[s]=a}return o.value},ll=k({__name:"index",props:{scoped:{}},setup(e){const t=e,o=X(t.scoped.column),n=E(()=>F(t.scoped.column.field,t.scoped.row)),s=()=>{const a=(o==null?void 0:o.url)??"",c=(o==null?void 0:o.target)??"_blank";if(a&&se(a)){const i=(o==null?void 0:o.keyField)??"id",u=t.scoped.row[i]??"",r=(o==null?void 0:o.aliasParams)??{},d=Xt(t.scoped.row,r),_={[i]:u,...d},p=It(_),f=`${a}?${p}`;window.open(f,c);return}o.copy===!0?Tt(n.value):window.open(n.value,c)};return(a,c)=>(m(),g("div",{class:"xb-link",onClick:s},O(l(o).text?l(o).text:l(n)),1))}});const il=V(ll,[["__scopeId","data-v-f85ab968"]]),rl=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=(s==null?void 0:s.options)??[],c=y(F(o.scoped.column.field,o.scoped.row)),i=u=>{const r=F(o.scoped.column.field,o.scoped.row);u!==r&&n("editClosed",Ce(o.scoped,u))};return(u,r)=>{const d=P("el-radio"),_=P("el-radio-group");return m(),w(_,{modelValue:l(c),"onUpdate:modelValue":r[0]||(r[0]=p=>ie(c)?c.value=p:null),onChange:i},{default:b(()=>[(m(!0),g(G,null,Z(l(a),(p,f)=>(m(),w(d,{value:p.value,key:f},{default:b(()=>[H(O(p.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}}}),ul=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=y(F(o.scoped.column.field,o.scoped.row)),c=i=>{const u=F(o.scoped.column.field,o.scoped.row);i!==u&&n("editClosed",Ce(o.scoped,i))};return(i,u)=>{const r=P("el-rate");return m(),w(r,I({modelValue:l(a),"onUpdate:modelValue":u[0]||(u[0]=d=>ie(a)?a.value=d:null)},l(s),{onChange:c}),null,16,["modelValue"])}}}),dl=k({__name:"index",props:{scoped:{}},setup(e){var c,i,u;const t=e,o=((u=(i=(c=t.scoped.column)==null?void 0:c.params)==null?void 0:i.props)==null?void 0:u.url)??"",n=t.scoped.column.field,s=E(()=>F(t.scoped.column.field,t.scoped.row)),a={[n]:s.value};return(r,d)=>{const _=ye;return m(),w(_,{api:l(o),ajaxParams:a},null,8,["api"])}}}),pl=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=(s==null?void 0:s.options)??[],c=y(F(o.scoped.column.field,o.scoped.row)),i=u=>{const r=F(o.scoped.column.field,o.scoped.row);u!==r&&n("editClosed",Ce(o.scoped,u))};return(u,r)=>{const d=P("el-option"),_=P("el-select");return m(),w(_,I({modelValue:l(c),"onUpdate:modelValue":r[0]||(r[0]=p=>ie(c)?c.value=p:null)},l(s),{onChange:i}),{default:b(()=>[(m(!0),g(G,null,Z(l(a),(p,f)=>(m(),w(d,I({ref_for:!0},p,{key:f}),null,16))),128))]),_:1},16,["modelValue"])}}}),ml=k({__name:"index",props:{scoped:{}},emits:["editClosed"],setup(e,{emit:t}){const o=e,n=t,s=X(o.scoped.column),a=y(F(o.scoped.column.field,o.scoped.row)??""),c=i=>{n("editClosed",Ce(o.scoped,i))};return(i,u)=>{var d,_,p,f,h,C,T,A;const r=P("el-switch");return m(),w(r,{modelValue:l(a),"onUpdate:modelValue":u[0]||(u[0]=R=>ie(a)?a.value=R:null),"active-action-icon":((d=l(s))==null?void 0:d.activeActionIcon)??"","active-color":((_=l(s))==null?void 0:_.activeColor)??"#13ce66","active-text":(p=l(s))==null?void 0:p.activeText,"active-value":((f=l(s))==null?void 0:f.activeValue)??"20","inactive-action-icon":((h=l(s))==null?void 0:h.inactiveActionIcon)??"","inactive-color":((C=l(s))==null?void 0:C.inactiveColor)??"#ff4949","inactive-text":(T=l(s))==null?void 0:T.inactiveText,"inactive-value":((A=l(s))==null?void 0:A.inactiveValue)??"10","inline-prompt":"",onChange:c},null,8,["modelValue","active-action-icon","active-color","active-text","active-value","inactive-action-icon","inactive-color","inactive-text","inactive-value"])}}}),_l=k({__name:"index",props:{scoped:{}},setup(e){const t=e,o=Math.random(),n=X(t.scoped.column);var s=(n==null?void 0:n.default)??"未知标签";const a=E(()=>F(t.scoped.column.field,t.scoped.row)??s);return(c,i)=>{const u=P("el-tag");return m(),w(u,I(l(n),{key:l(o)}),{default:b(()=>[H(O(l(a)),1)]),_:1},16)}}}),fl=["title"],vl=k({__name:"index",props:{scoped:{}},setup(e){var i;const t=e,o=X(t.scoped.column),n=y(((i=t.scoped.column.params)==null?void 0:i.trigger)??"");n.value=n.value.toLowerCase();const s=n.value==="dbclick"?"双击":"单击",a=n.value?`${s}查看详情`:"",c=E(()=>F(t.scoped.column.field,t.scoped.row));return(u,r)=>(m(),g("div",I({class:["xb-text",{"is-modal":l(n)}],title:l(a)},l(o)),O(l(c)),17,fl))}});const gl=V(vl,[["__scopeId","data-v-0efb7924"]]),hl=["innerHTML"],yl=["innerHTML"],bl=k({__name:"index",props:{scoped:{}},setup(e){var c,i,u,r;const t=e,o=X(t.scoped.column),n=y(((i=(c=t.scoped.column)==null?void 0:c.params)==null?void 0:i.prefix)??""),s=y(((r=(u=t.scoped.column)==null?void 0:u.params)==null?void 0:r.suffix)??""),a=E(()=>F(t.scoped.column.field,t.scoped.row));return(d,_)=>(m(),g("div",I(l(o),{class:"flex items-center"}),[l(n)?(m(),g("div",{key:0,innerHTML:l(n)},null,8,hl)):B("",!0),x("div",null,O(l(a)),1),l(s)?(m(),g("div",{key:1,innerHTML:l(s)},null,8,yl)):B("",!0)],16))}}),xl=["src"],wl={class:"text"},kl=k({__name:"index",props:{scoped:{}},setup(e){var u,r,d,_,p,f;const t=e,o=y(((r=(u=t==null?void 0:t.scoped.column)==null?void 0:u.params)==null?void 0:r.icon)||"VideoPlay"),n=y(((_=(d=t==null?void 0:t.scoped.column)==null?void 0:d.params)==null?void 0:_.text)||"点击播放"),s=y(((f=(p=t==null?void 0:t.scoped.column)==null?void 0:p.params)==null?void 0:f.title)||"视频播放"),a=X(t.scoped.column),c=E(()=>F(t.scoped.column.field,t.scoped.row)),i=()=>{ct(c.value,s.value)};return(h,C)=>{const T=D;return m(),g("div",I({class:"xb-video"},l(a)),[x("div",{class:"video-content",onClick:i},[l(se)(l(o))?(m(),g("img",{key:0,class:"icon",src:l(o)},null,8,xl)):(m(),w(T,{key:1,icon:l(o)},null,8,["icon"])),x("span",wl,O(l(n)),1)])],16)}}});const Al=V(kl,[["__scopeId","data-v-ee4a42bd"]]),Kt=e=>{var o;const t=[];for(const n of e)if(t.push(n.path),(o=n.children)!=null&&o.length){const s=Kt(n.children);t.push(...s)}return t},Cl=()=>{const t=Pe().menus;return Kt(t)},Pl=e=>Cl().includes(e),Le=e=>{const t={...e};return t.icon&&delete t.icon,t},El=(e,t)=>{e.pageData.aliasParams;const o=y({});return{...e.pageData.queryParams,...o.value}},Sl=e=>!!Pl(e.pageData.path),Vl=async(e,t,o)=>{const n=y();return t==="GET"?n.value={params:o}:n.value={data:o},await Y({url:e,method:t,...n.value})},Il=(e,t,o)=>{var c,i,u;const n=((c=e.message)==null?void 0:c.type)??"",s=((i=e.message)==null?void 0:i.title)??"",a=((u=e.message)==null?void 0:u.content)??"";U(a,s,n,e.message).then(()=>{const r=t==null?void 0:t.$grid,d=e.pageData.api??"",_=pn(e.pageData.method);Vl(d,_,o).then(p=>{const f=p,h=f.code===200?"success":"error",C=f.msg;r==null||r.commitProxy("query"),_e(C,h,"温馨提示")})})},Bl={class:"xb-form-drawer"},Tl={key:0,class:"xb-buttons"},Ml=k({__name:"drawer",props:{api:{},method:{},params:{},initOk:{type:Function},submitOk:{type:Function},close:{type:Function}},setup(e){const t=e,o=y(),n=y(!1),s=y(),a=y(),c=r=>{s.value=r.result.extraConfig.submitBtn,a.value=r.result.extraConfig.resetBtn,t.initOk&&t.initOk(r)},i=()=>{n.value=!0,o.value.submit().then(r=>{t.submitOk&&t.submitOk(r)}).finally(()=>{n.value=!1})},u=()=>{t.close&&t.close()};return(r,d)=>{var f,h;const _=Ut,p=P("el-button");return m(),g("div",Bl,[v(_,I({class:"xb-form",ref_key:"formRef",ref:o},{api:r.api,method:r.method,params:r.params},K({initOk:c})),null,16),(f=l(s))!=null&&f.content&&((h=l(a))!=null&&h.content)?(m(),g("div",Tl,[v(p,I(l(s),{loading:l(n),class:"xb-button",onClick:i}),{default:b(()=>{var C;return[H(O((C=l(s))==null?void 0:C.content),1)]}),_:1},16,["loading"]),v(p,I(l(a),{class:"xb-button",onClick:u}),{default:b(()=>{var C;return[H(O((C=l(a))==null?void 0:C.content),1)]}),_:1},16)])):B("",!0)])}}});const $l=V(Ml,[["__scopeId","data-v-935f19c4"]]),Ol=k({__name:"drawer",props:{currentView:{},componentProps:{},onClose:{type:Function}},emits:["onClose"],setup(e,{emit:t}){const o=e,n=()=>{o.onClose()};return(s,a)=>{const c=P("ElDrawer");return m(),w(c,I({class:"xb-drawer"},s.$attrs,{onClosed:n}),{default:b(()=>[(m(),w(et(s.currentView),I(s.componentProps,{"onUpdate:close":s.onClose}),null,16,["onUpdate:close"]))]),_:1},16)}}}),Ne=(e,t,o)=>new Promise(n=>{const s=document.createElement("div");document.body.appendChild(s);const a=So(Ol,{title:"通用抽屉",closeOnClickModal:!1,closeOnPressEscape:!1,...o,modelValue:!0,currentView:e??{},componentProps:t,onClose:()=>{a.unmount(),s.remove()}}),c=()=>{a.unmount(),s.remove()};a.use(ko),a.mount(s),n({close:c})}),jl=(e,t,o,n)=>new Promise(s=>{const a=y();Ne($l,{api:e,method:t,params:o,submitOk:i=>{var u;(u=a.value)==null||u.close(),s(i)},close:()=>{var i;(i=a.value)==null||i.close()}},n).then(i=>{a.value=i})}),Rl=(e,t,o,n)=>new Promise(s=>{const a=y();Ne(lt,{api:e,method:t,params:o,close:()=>{var i,u;(i=a.value)==null||i.close(),s((u=a.value)==null?void 0:u.close)}},n).then(i=>{a.value=i})}),ql=(e,t,o,n)=>new Promise(s=>{const a=y();Ne(Gt,{api:e,method:t,params:o,close:()=>{var i,u;(i=a.value)==null||i.close(),s((u=a.value)==null?void 0:u.close)}},n).then(i=>{a.value=i})}),Dl=(e,t,o,n)=>new Promise(s=>{const a=y();Ne(eo,{api:e,method:t,params:o,close:()=>{var i,u;(i=a.value)==null||i.close(),s((u=a.value)==null?void 0:u.close)}},n).then(i=>{a.value=i})}),Ll=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"",a=e.pageData.method??"",c={...e.message};jl(s,a,o,c).then(()=>{n==null||n.commitProxy("query")})},Ul=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"",a=e.pageData.method??"",c={...e.message};Rl(s,a,o,c).then(()=>{n==null||n.commitProxy("query")})},zl=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"",a=e.pageData.method??"",c={...e.message};ql(s,a,o,c).then(()=>{n==null||n.commitProxy("query")})},Fl=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"",a=e.pageData.method??"",c={size:"60%",...e.message};Dl(s,a,o,c).then(()=>{n==null||n.commitProxy("query")})},Nl=(e,t,o)=>{if(!e.pageData.api){j("未配置链接地址");return}const n=e.pageData.target||"_blank";if(se(e.pageData.api)){window.open(e.pageData.api,n);return}Y({url:e.pageData.api,method:e.pageData.method,params:o}).then(s=>{var u,r;const a=s,c=(u=a.data)==null?void 0:u.url,i=It(((r=a.data)==null?void 0:r.query)??{});if(c){const d=i?`${c}?${i}`:c;window.open(d,n)}else j("未获取到跳转链接地址")})},Hl=(e,t,o)=>{const n={customClass:"xb-modal-mask"},s=t==null?void 0:t.$grid,a=e.pageData.api??"",c=e.pageData.method??"GET";Ve(a,c,o,{...e.message,...n}).then(()=>{s.commitProxy("query")})},Wl=(e,t,o)=>{const n={customClass:"xb-modal-button-none"},s=t==null?void 0:t.$grid,a=e.pageData.api??"",c=e.pageData.method??"";Ta(a,c,o,{...e.message,...n}).then(()=>{s.commitProxy("query")})},Ql=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"";Jt(s,o,e.message).then(()=>{n.commitProxy("query")})},Gl=(e,t,o)=>{const n=t==null?void 0:t.$grid,s=e.pageData.api??"",a=e.pageData.method??"";to(s,a,o,e.message).then(()=>{n.commitProxy("query")})},Jl=(e,t,o)=>{if(!e.pageData.path)return j("跳转地址不能为空");const n=e.pageData.path??"";Ze(`/${n}`,o)},Zl=(e,t)=>{const o=L.currentRoute.value;return{...e.pageData.queryParams,redirect:e.pageData.isBack?o.fullPath:void 0}},Xl=(e,t)=>{var u,r,d;const o=L.currentRoute.value,n=t.row,s=((d=(r=(u=t==null?void 0:t.$grid)==null?void 0:u.props)==null?void 0:r.rowConfig)==null?void 0:d.keyField)??"id",a=n[s]??"",c=Xt(n,e.pageData.aliasParams);return{[s]:a,...e.pageData.queryParams,...c,redirect:e.pageData.isBack?o.fullPath:void 0}},rt=(e,t,o)=>{const n=e.pageData.type??"page",s={page:Jl,link:Nl,confirm:Il,table:Gl,modal:Hl,remote:Ql,info:Wl,drawerForm:Ll,drawerInfo:Ul,drawerTable:Fl,drawerRemote:zl};if(!s[n]){j("事件类型错误");return}let a={};t.column?a=Xl(e,t):a=Zl(e),o={...o,...a},s[n](e,t,o)},Yt=e=>{var s,a,c,i,u,r;if((a=(s=e.column)==null?void 0:s.slots)!=null&&a.default&&((c=e==null?void 0:e.column)==null?void 0:c.fixed)==="right")return;const t=(u=(i=e.column.params)==null?void 0:i.pageData)==null?void 0:u.type,o=(r=e.column.params)==null?void 0:r.message;if(!t||!o)return;const n=e.column.params;rt(n,e)},Kl=e=>{var o;const t=((o=e.column.params)==null?void 0:o.trigger)??"";t&&t.toLowerCase()==="click"&&Yt(e)},Yl=e=>{var o;const t=((o=e.column.params)==null?void 0:o.trigger)??"";t&&t.toLowerCase()==="dbclick"&&Yt(e)},ei=async(e,t)=>{if(!e){U("请设置请求API接口","温馨提示","error");return}return await qe(e,t)},ti=e=>{var u,r,d,_;const t=e.column,o=e.row,n=((u=e.column.params)==null?void 0:u.keyField)??"id",s=e.value??"",a=((r=e.column.params)==null?void 0:r.api)??"",c=((_=(d=e.column)==null?void 0:d.params)==null?void 0:_.query)??{},i={[n]:o[n],keyField:n,field:t==null?void 0:t.field,value:s,...c};ei(a,i).then(p=>{p.code===200&&(e.$grid.commitProxy("query"),ee((p==null?void 0:p.msg)??"编辑成功"))})},oi={key:0,class:"no-group-button"},ni=k({__name:"ordinary",props:{scoped:{},config:{},buttonList:{}},setup(e){const t=e,o=E(()=>{var s;return((s=t.scoped.$grid.getCheckboxRecords())==null?void 0:s.length)<=0}),n=s=>{var d;const a=s.field,c=((d=t.config.rowConfig)==null?void 0:d.keyField)??"id",i=t.scoped.$grid.getCheckboxRecords();if(i.length<=0)return j("请先选择数据");const u=i.map(_=>_[c]),r={field:a,keyField:c,value:u};rt(s,t.scoped,r)};return(s,a)=>{const c=D,i=P("el-button"),u=Be("auth");return s.buttonList.length?(m(),g("div",oi,[(m(!0),g(G,null,Z(s.buttonList,(r,d)=>me((m(),g("div",{class:"item",key:d},[v(i,I({ref_for:!0},l(Le)(r.button),{disabled:l(o),onClick:_=>n(r)}),Ie({default:b(()=>[H(" "+O(r.title),1)]),_:2},[r.button.icon?{name:"icon",fn:b(()=>[v(c,I({icon:r.button.icon,ref_for:!0},r.button.iconAttrs),null,16,["icon"])]),key:"0"}:void 0]),1040,["disabled","onClick"])])),[[u,r.pageData.path]])),128))])):B("",!0)}}});const si=V(ni,[["__scopeId","data-v-f48c7510"]]),ai={key:0,class:"xb-extra-buttons"},ci=k({__name:"index",props:{scoped:{},config:{},extraButtons:{}},setup(e){var n;const o=(n=e.config.columns)==null?void 0:n.find(s=>s.type==="checkbox");return(s,a)=>s.extraButtons.length&&l(o)?(m(),g("div",ai,[v(si,{"button-list":s.extraButtons,scoped:s.scoped,config:s.config},null,8,["button-list","scoped","config"])])):B("",!0)}});const li=V(ci,[["__scopeId","data-v-1eb72134"]]),ii=k({__name:"form",props:{config:{}},setup(e){const t=e,o=fe(),n=pe(),s=y(t.config.formConfig),a={submit(c){const i=c.data;o.push({path:n.path,query:{...n.query,...i}})},reset(){var c;o.push({path:n.path,query:{redirect:(c=n==null?void 0:n.query)==null?void 0:c.redirect,t:Date.now()}})}};return(c,i)=>{const u=P("vxe-form");return m(),w(u,I(l(s),K(a)),null,16)}}}),ri=k({__name:"remote",props:{config:{}},setup(e){return(t,o)=>{const n=ye;return m(),w(n,{api:t.config.file,"ajax-params":t.config.ajaxParams},null,8,["api","ajax-params"])}}}),ui={class:"xb-tabs"},di=["onClick"],pi={class:"text"},mi=k({__name:"tabs",props:{config:{}},setup(e){var r,d;const t=e,o=y(((r=t.config)==null?void 0:r.list)??[]),n=pe(),s=fe(),a=((d=t.config)==null?void 0:d.field)??"",c=n==null?void 0:n.query[a],i=E(()=>{var _;return c??((_=t.config)==null?void 0:_.active)}),u=_=>{s.push({query:{...n.query,[a]:_.value}})};return(_,p)=>{const f=D;return m(),g("div",ui,[(m(!0),g(G,null,Z(l(o),(h,C)=>(m(),g("div",{class:ke(["item",{active:l(i)===(h==null?void 0:h.value)}]),key:C,onClick:T=>u(h)},[h.icon?(m(),w(f,{key:0,icon:h.icon},null,8,["icon"])):B("",!0),x("span",pi,O(h.label),1)],10,di))),128))])}}});const _i=V(mi,[["__scopeId","data-v-d8397be7"]]),fi={key:0,class:"xb-form"},vi={key:0,class:"xb-screen-remote"},gi={key:1,class:"xb-screen-form"},hi={key:2,class:"xb-screen-tabs"},yi={key:3,class:"xb-screen-alert"},bi={class:"xb-alert"},xi=["innerHTML"],wi=k({__name:"index",props:{scoped:{},config:{},tabsConfig:{},headerDesc:{}},setup(e){var c,i;const t=e,o=Array.isArray(t.config.formConfig),n=y(t.config.screenRemote??null),s=y(((c=t.tabsConfig)==null?void 0:c.list.length)??null),a=y(((i=t.headerDesc)==null?void 0:i.content)??null);return(u,r)=>{var _;const d=P("el-alert");return!l(o)||l(n)||l(s)||l(a)?(m(),g("div",fi,[l(n)?(m(),g("div",vi,[v(ri,{config:l(n)},null,8,["config"])])):B("",!0),l(o)?B("",!0):(m(),g("div",gi,[v(ii,{config:u.config},null,8,["config"])])),l(s)?(m(),g("div",hi,[v(_i,{config:u.tabsConfig},null,8,["config"])])):B("",!0),l(a)?(m(),g("div",yi,[x("div",bi,[v(d,z(N((_=u.headerDesc)==null?void 0:_.props)),{default:b(()=>{var p,f;return[x("div",{innerHTML:(p=u.headerDesc)==null?void 0:p.content,style:we((f=u.headerDesc)==null?void 0:f.style)},null,12,xi)]}),_:1},16)])])):B("",!0)])):B("",!0)}}});const ki=V(wi,[["__scopeId","data-v-bef9bd65"]]),Ai={class:"button-text"},Ci=k({__name:"dropdown",props:{scoped:{},buttonList:{}},setup(e){const t=e,o=E(()=>{var i;return((i=t.scoped.params)==null?void 0:i.button)??{type:"primary",link:!0}}),n=E(()=>{var i,u;return((u=(i=t.scoped.params)==null?void 0:i.button)==null?void 0:u.position)??"right"}),s=E(()=>{var i,u;return((u=(i=t.scoped.params)==null?void 0:i.button)==null?void 0:u.icon)??"Expand"}),a=E(()=>{var i,u;return((u=(i=t.scoped.params)==null?void 0:i.button)==null?void 0:u.text)??"更多功能"}),c=i=>{rt(i,t.scoped)};return(i,u)=>{const r=D,d=P("el-button"),_=P("el-dropdown-item"),p=P("el-dropdown-menu"),f=P("el-dropdown");return m(),w(f,{onCommand:c},{dropdown:b(()=>[v(p,null,{default:b(()=>[(m(!0),g(G,null,Z(i.buttonList,h=>(m(),w(_,{command:h},{default:b(()=>[h.button.icon?(m(),w(r,{key:0,icon:h.button.icon},null,8,["icon"])):B("",!0),x("span",null,O(h.title),1)]),_:2},1032,["command"]))),256))]),_:1})]),default:b(()=>[v(d,z(N(l(o))),{default:b(()=>[l(s)&&l(n)==="left"?(m(),w(r,{key:0,icon:l(s),size:"16"},null,8,["icon"])):B("",!0),x("span",Ai,O(l(a)),1),l(s)&&l(n)==="right"?(m(),w(r,{key:1,icon:l(s),size:"16"},null,8,["icon"])):B("",!0)]),_:1},16)]),_:1})}}});const Pi=V(Ci,[["__scopeId","data-v-cfd4a14c"]]),Ei=k({__name:"ordinary",props:{scoped:{},buttonList:{}},setup(e){return(t,o)=>{const n=D,s=P("el-button"),a=Be("xbEvent"),c=Be("auth");return m(!0),g(G,null,Z(t.buttonList,(i,u)=>me((m(),w(s,I({key:u,ref_for:!0},l(Le)(i.button)),Ie({default:b(()=>[H(" "+O(i.title),1)]),_:2},[i.button.icon?{name:"icon",fn:b(()=>[v(n,I({ref_for:!0},i.button.iconAttrs,{icon:i.button.icon}),null,16,["icon"])]),key:"0"}:void 0]),1040)),[[a,{button:i,scoped:t.scoped}],[c,i.pageData.path]])),128)}}}),Si={class:"xb-right-buttons"},Vi=k({__name:"index",props:{scoped:{},config:{},rightButtons:{}},setup(e){const t=e,o=E(()=>t.rightButtons.filter(s=>s.pageData.group&&Sl(s))),n=E(()=>t.rightButtons.filter(s=>!s.pageData.group));return(s,a)=>(m(),g("div",Si,[l(o).length?(m(),w(Pi,{key:0,"button-list":l(o),scoped:s.scoped,class:"group"},null,8,["button-list","scoped"])):B("",!0),l(n).length?(m(),w(Ei,{key:1,"button-list":l(n),scoped:s.scoped},null,8,["button-list","scoped"])):B("",!0)]))}});const Ii=V(Vi,[["__scopeId","data-v-0d941223"]]),Bi=k({__name:"index",props:{action:{},query:{}},emits:["success","error"],setup(e,{emit:t}){const o=e,n=t,s=y({action:`${st}/${o.action}`,data:o.query??{},showFileList:!1,headers:{Authorization:ge().value,"X-Requested-With":"XMLHttpRequest"},beforeUpload:()=>{},onSuccess:a=>{if(n("success",a),a.code!==200){j(a.msg??"上传失败");return}ee(a.msg??"上传成功")},onError:a=>{n("error",a),j("上传失败")}});return(a,c)=>{const i=P("el-upload");return m(),w(i,z(N(l(s))),{default:b(()=>[Vo(a.$slots,"default")]),_:3},16)}}}),Ti={key:0,class:"no-group-button"},Mi=k({__name:"ordinary",props:{scoped:{},buttonList:{}},setup(e){const t=e,o={success:n=>{t.scoped.$grid.commitProxy("query")},error:n=>{console.log("上传失败",n)}};return(n,s)=>{const a=D,c=P("el-button"),i=Bi,u=Be("auth"),r=Be("xbEvent");return n.buttonList.length?(m(),g("div",Ti,[(m(!0),g(G,null,Z(n.buttonList,(d,_)=>me((m(),g("div",{class:"item",key:_},[d.pageData.type==="upload"?(m(),w(i,I({key:0,action:d.pageData.api,query:l(El)(d)},K(o)),{default:b(()=>[me((m(),w(c,I({ref_for:!0},l(Le)(d.button)),Ie({default:b(()=>[H(" "+O(d.title),1)]),_:2},[d.button.icon?{name:"icon",fn:b(()=>[v(a,I({icon:d.button.icon,ref_for:!0},d.button.iconAttrs),null,16,["icon"])]),key:"0"}:void 0]),1040)),[[u,d.pageData.path]])]),_:2},1040,["action","query"])):me((m(),w(c,I({key:1,ref_for:!0},l(Le)(d.button)),Ie({default:b(()=>[H(" "+O(d.title),1)]),_:2},[d.button.icon?{name:"icon",fn:b(()=>[v(a,I({icon:d.button.icon,ref_for:!0},d.button.iconAttrs),null,16,["icon"])]),key:"0"}:void 0]),1040)),[[r,{button:d,scoped:n.scoped}]])])),[[u,d.pageData.path]])),128))])):B("",!0)}}}),$i={class:"xb-header-button"},Oi=k({__name:"index",props:{scoped:{},config:{},topButtons:{}},setup(e){const t=e;return(o,n)=>(m(),g("div",$i,[v(Mi,{"button-list":t.topButtons,scoped:t.scoped},null,8,["button-list","scoped"])]))}});const ji=V(Oi,[["__scopeId","data-v-40591b80"]]),Ri={key:0,class:"xb-top-view"},qi=k({__name:"index",props:{scoped:{},config:{}},setup(e){var s,a,c,i;const t=e,o=((a=(s=t.config)==null?void 0:s.topRemote)==null?void 0:a.file)??"",n=((i=(c=t.config)==null?void 0:c.topRemote)==null?void 0:i.ajaxParams)??{};return(u,r)=>{const d=ye;return l(o)?(m(),g("div",Ri,[v(d,{api:l(o),"ajax-params":l(n)},null,8,["api","ajax-params"])])):B("",!0)}}}),Di=k({__name:"index",props:{api:{},method:{},params:{}},emits:["update:init"],setup(e,{emit:t}){const o=e,n=t,{config:s,gridRef:a,headerDesc:c,topButtons:i,rightButtons:u,extraButtons:r,tabsConfig:d}=jc(o.api,o.method,o.params),_={cellClick:p=>Kl(p),cellDblclick:p=>Yl(p),editClosed:p=>ti(p)};return ne(()=>{n("update:init")}),(p,f)=>{var T;const h=P("el-empty"),C=P("vxe-grid");return(T=l(s))!=null&&T.id?(m(),w(C,I({key:0,ref_key:"gridRef",ref:a},l(s),K(_)),{form:b(A=>[v(ki,z(N({scoped:A,config:l(s),tabsConfig:l(d),headerDesc:l(c)})),null,16)]),top:b(A=>[v(qi,z(N({scoped:A,config:l(s)})),null,16)]),topButtons:b(A=>[v(ji,z(N({scoped:A,config:l(s),topButtons:l(i)})),null,16)]),rightButtons:b(A=>[v(Ii,z(N({scoped:A,config:l(s),rightButtons:l(u)})),null,16)]),bottom:b(A=>[v(li,z(N({scoped:A,config:l(s),extraButtons:l(r)})),null,16)]),text:b(A=>[v(gl,z(N({scoped:A})),null,16)]),icon:b(A=>[v(Wc,I({scoped:A},K(_)),null,16)]),image:b(A=>[v(Jc,z(N({scoped:A})),null,16)]),images:b(A=>[v(Yc,z(N({scoped:A})),null,16)]),imgtext:b(A=>[v(al,z(N({scoped:A})),null,16)]),input:b(A=>[v(cl,I({scoped:A},K(_)),null,16)]),select:b(A=>[v(pl,I({scoped:A},K(_)),null,16)]),radio:b(A=>[v(rl,I({scoped:A},K(_)),null,16)]),rate:b(A=>[v(ul,I({scoped:A},K(_)),null,16)]),link:b(A=>[v(il,z(N({scoped:A})),null,16)]),remote:b(A=>[v(dl,z(N({scoped:A})),null,16)]),switch:b(A=>[v(ml,I({scoped:A},K(_)),null,16)]),tag:b(A=>[v(_l,z(N({scoped:A})),null,16)]),dict:b(A=>[v(Uc,z(N({scoped:A})),null,16)]),unit:b(A=>[v(bl,z(N({scoped:A})),null,16)]),html:b(A=>[v(Fc,z(N({scoped:A})),null,16)]),audio:b(A=>[v(Lc,z(N({scoped:A})),null,16)]),video:b(A=>[v(Al,z(N({scoped:A})),null,16)]),empty:b(()=>[v(h,{description:"当前没有更多数据"})]),_:1},16)):B("",!0)}}});const Li=V(Di,[["__scopeId","data-v-8f5b878a"]]),Ui={class:"xb-table-modal"},zi=k({__name:"modal",props:{api:{},method:{},params:{}},setup(e){return(t,o)=>{const n=Li;return m(),g("div",Ui,[v(n,{api:t.api,method:t.method,params:t.params},null,8,["api","method","params"])])}}});const eo=V(zi,[["__scopeId","data-v-2b223b2a"]]),to=async(e,t="GET",o={},n)=>new Promise(s=>{const a={api:e,method:t,params:o,initOk:()=>{}},c={...n,showClose:!0,customClass:"xb-modal-button-none"};re(eo,a,c).catch(i=>{s(i)})}),Fi=(e,t,o)=>{Ao({message:e,type:t,...o})},oo=e=>{const t=window.useVue,o=he(),n=W(),s=Pe(),a=Fe();return t.$moduleName=a,t.$userApp=o,t.$siteApp=n,t.$menuApp=s,t.$axios={get:oe,post:be,put:qe,delete:xe},t.$http={useGet:oe,usePost:be,usePut:qe,useDelete:xe},t.$useGet=oe,t.$usePost=be,t.$usePut=qe,t.$useDelete=xe,t.$dplayer=At,t.$echarts=Go,t.$useKeyCodeEvent=un,t.component("XRemote")===void 0&&t.component("XRemote",ye),t.component("xbIcons")===void 0&&t.component("xbIcons",D),t.component("xbUpload")===void 0&&t.component("xbUpload",Qt),t.$useUploadModal=it,t.$useAlert=Ot,t.$useConfirm=U,t.$useMessage=Fi,t.$useNotify=_e,t.$useLoading=Ae,t.$useRemote=Jt,t.$useTable=to,t.$useForm=Ve,e&&(t.config.globalProperties.$route.query={...e}),t},yt=(e,t,o,n=!0)=>{const s=e.indexOf(t);let a=e.lastIndexOf(o);if(s===-1||a===-1)throw new Error("组件解析失败");return n&&(a+=1),e.slice(s,a)},Ni=e=>{const t="return { }";let o=new Function(t)();return o.template=`<div>${e}</div>`,o},Hi=(e,t)=>{const o=yt(e,"","export default",!1),n=yt(e,"{","}"),a=`const useVue = window.useVue
${o}
return ${n}`,c=new Function(a)();return c.template=t==null?void 0:t.template,c},Wi=e=>{const t=/import ['"]?([^'")]+)['"]?;/g;return Array.from(e.matchAll(t),n=>n[1])},no=async(e,t)=>{const o=y({});return t&&(Array.isArray(t)&&t.forEach(n=>{o.value={...o.value,...n}}),o.value={t:Date.now(),...o.value,...t}),await oe(e,t)},Qi=async(e,t,o)=>{for(let n=0;n<e.length;n++){const s=e[n],a=await no(s),c=s.includes(".js");if(!t&&c)t=a.toString();else if(t&&c){const u=a.toString();t+=`
${u}`}const i=s.includes(".css")||s.includes(".scss");if(!o&&i)o=a.toString();else if(o&&i){const u=a.toString();o+=`
${u}`}}return{jsContent:t,cssContent:o}},Gi=e=>{const t=e==null?void 0:e.match(/<template>([\s\S]*)<\/template>/),o=e==null?void 0:e.match(/<script.*>([\s\S]*)<\/script>/);let n=o?o[1]:"";n=n.replace(/\/\*[\s\S]*?\*\//g,""),n=n.replace(/\/\/.*/g,"");const s=Wi(n);n=n.replace(/import ['"]?([^'")]+)['"]?;/g,"");const a=e==null?void 0:e.match(/<style.*>([\s\S]*)<\/style>/);let c=a?a[1]:"";c=c.replace(/\/\*[\s\S]*?\*\//g,""),c=c.replace(/\/\/.*/g,"");const i=In(c);c=c.replace(/@import ['"]?([^'")]+)['"]?;/g,"");const u=Fe();let r=[...s,...i];r=r.map(p=>(p=`${st}${p}`,p.replace("{moduleName}",u)));const d=e.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null;return{template:t?t[1]:"",sctipt:n,style:c,stylesHasScoped:d,link:r}},Ji=async(e,t)=>{let o={jsContent:"",cssContent:""};return e.length>0&&(o=await Qi(e,o.jsContent,o.cssContent)),o.cssContent&&(t.style=o.cssContent+t.style),o.jsContent&&(t.sctipt=o.jsContent+t.sctipt),t},Zi=async(e,t)=>{let o=Gi(e);if(!o.template||!o.sctipt){const s=Ni("");return Promise.resolve(s)}o=await Ji(o.link,o),oo(t);const n=Hi(o.sctipt,o);return Promise.resolve({view:n,tplData:o})},ye=k({__name:"index",props:{api:{},ajaxParams:{},isModal:{type:Boolean},height:{}},setup(e){const t=e;E(()=>t.height||"auto"),y();const o=y(Re()),n=y(t.api),s=ho(async()=>{if(!n.value)return{template:"远程组件地址错误"};const a=await no(n.value,t.ajaxParams),c=await Zi(a,t.ajaxParams);return Vn(o.value,c.tplData),c.view});return(a,c)=>(m(),w(et(l(s)),I({class:`css${l(o)}`},{...a.$attrs,...t.ajaxParams}),null,16,["class"]))}}),Xi=async e=>{var s;const{siteInfo:t}=W(),o=(s=t.public_view)==null?void 0:s.toolbar;return o?(e={...L.currentRoute.value.query??{},...e},await oe(o,e)):null},Ki={class:"breadcrumb"},Yi=k({__name:"crumbs",setup(e){const t=pe(),o=y(t.matched),n=s=>{const a=s.split("/").length-1;return s==="/"||a>=3?s:""};return wt(()=>t.path,()=>{o.value=t.matched}),(s,a)=>{const c=P("el-breadcrumb-item"),i=P("el-breadcrumb");return m(),g("div",Ki,[v(i,{"separator-icon":l(To)},{default:b(()=>[(m(!0),g(G,null,Z(l(o),(u,r)=>(m(),w(c,{key:r,to:n(u.path)},{default:b(()=>[H(O(u.meta.title),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])])}}});const er=V(Yi,[["__scopeId","data-v-1be7440c"]]),tr=k({__name:"fold",setup(e){const t=he(),{layoutInfo:o}=t,n=E(()=>o.isCollapse),s=()=>{t.hanldCollapse(!n.value)};return(a,c)=>{const i=D;return m(),g("div",{class:"fold",onClick:s},[v(i,{icon:l(n)?"Expand":"Fold",size:17},null,8,["icon"])])}}});const or=V(tr,[["__scopeId","data-v-72c590ae"]]),nr={class:"user-layout"},sr={class:"user-container"},ar={class:"user-info"},cr={class:"nickname"},lr={key:0,class:"role"},ir=k({__name:"user",setup(e){const t=pe(),o=fe(),n=W(),s=E(()=>n.siteInfo),a=he(),c=E(()=>a.userInfo),i=y([{icon:"User",title:"我的资料",hanld:()=>{var r,d;const u=(r=s.value.public_view)==null?void 0:r.user;if(!u){jt("未配置个人中心");return}o.push({path:`/${u}`,query:{appid:(d=t.query)==null?void 0:d.appid}})}},{icon:"SwitchButton",title:"退出登录",hanld:()=>{a.loginOut()}}]);return(u,r)=>{const d=P("el-avatar"),_=D,p=D,f=P("el-dropdown-item"),h=P("el-dropdown-menu"),C=P("el-dropdown");return m(),g("div",nr,[v(C,{class:"user-dropdown",placement:"bottom"},{dropdown:b(()=>[v(h,null,{default:b(()=>[(m(!0),g(G,null,Z(l(i),(T,A)=>(m(),w(f,{key:A,onClick:T.hanld},{default:b(()=>[T.icon?(m(),w(p,{key:0,icon:T.icon},null,8,["icon"])):B("",!0),x("span",null,O(T.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:b(()=>[x("div",sr,[v(d,{size:35,src:l(c).avatar},null,8,["src"]),x("div",ar,[x("div",cr,O(l(c).nickname),1),l(c).role_name?(m(),g("div",lr,O(l(c).role_name),1)):B("",!0)]),v(_,{icon:"ArrowDown",size:14})])]),_:1})])}}});const rr=V(ir,[["__scopeId","data-v-efc3b25d"]]),ur={class:"xb-head"},dr={class:"xb-crumbs"},pr={class:"xb-toolbar"},mr={class:"toolbar-container"},_r={class:"user-container"},fr=k({__name:"header",setup(e){const t=y([]);return ne(()=>{Xi().then(o=>{const n=(o==null?void 0:o.data)||null;if(n)for(const s in n){const a=n[s];a&&t.value.push(a)}})}),(o,n)=>{const s=ye;return m(),g("div",ur,[x("div",dr,[v(or),v(er)]),x("div",pr,[x("div",mr,[l(t).length?(m(!0),g(G,{key:0},Z(l(t),(a,c)=>(m(),w(s,{api:a,key:c},null,8,["api"]))),128)):B("",!0)]),x("div",_r,[v(rr)])])])}}});const so=V(fr,[["__scopeId","data-v-f957f6e4"]]),vr={class:"xb-logo"},gr={class:"xb-content"},hr={key:0,class:"xb-footer"},yr=k({__name:"index",setup(e){ve(_=>({"85dd758a":l(r),"2a962f02":l(d)}));const{active:t}=lo(),{menus:o}=Pe(),{layoutInfo:n}=he(),{siteInfo:s}=W(),a=s.login_beian,c=E(()=>n.isCollapse),i=E(()=>n.defaultLayout.sideMenuCollapseWidth),u=E(()=>n.defaultLayout.sideMenuWidth),r=E(()=>`${c.value?i.value:u.value}px`),d=E(()=>`${n.footerHeight}px`);return(_,p)=>{const f=P("el-header"),h=P("el-aside"),C=kt,T=Pt,A=P("el-main"),R=P("el-container");return m(),w(R,{class:"xb-layout"},{default:b(()=>[v(f,{class:"xb-header"},{default:b(()=>[x("div",vr,[l(c)?(m(),w(Et,{key:0,class:"xb-logo-image",width:l(i),height:l(i)},null,8,["width","height"])):(m(),w(St,{key:1,center:!0}))]),v(so,{class:"xb-head"})]),_:1}),v(R,{class:"xb-layout-main"},{default:b(()=>[v(h,{class:"xb-sidebar",width:l(c)?`${l(i)}px`:`${l(u)}px`},{default:b(()=>[v(qt,{class:"xb-menus",active:l(t),menus:l(o)},null,8,["active","menus"])]),_:1},8,["width"]),v(A,{class:"xb-main"},{default:b(()=>{var Q;return[x("div",gr,[v(C)]),(Q=l(a))!=null&&Q.about_name&&l(a).about_url?(m(),g("div",hr,[v(T)])):B("",!0)]}),_:1})]),_:1})]),_:1})}}});const br=V(yr,[["__scopeId","data-v-a30e8b84"]]),xr={};function wr(e,t){return m(),g("div",null," 混合式布局 ")}const kr=V(xr,[["render",wr]]),Ar={class:"xb-menu-container"},Cr=["onClick"],Pr={class:"xb-icon"},Er={class:"xb-menu"},Sr=k({__name:"menus",props:{collapse:{type:Boolean},sideWidth:{},collapseWidth:{},active:{},menus:{}},setup(e){ve(r=>({aa792256:l(n),"11bf225a":l(s)}));const t=fe(),o=pe(),n=E(()=>e.collapse?`${e.collapseWidth}px`:`${e.sideWidth}px`),s=E(()=>e.collapse?"center":"flex-start"),a=E(()=>e.active.split("-")[0]??""),c=E(()=>{var p;const r=e.active.split("-")[0],d=((p=e.menus.find(f=>f.menu_key===r))==null?void 0:p.children)||[];return d.length<=0?e.menus.filter(h=>h.menu_key===r):d.filter(f=>f.show).length<=0?e.menus.filter(h=>h.menu_key===r):d}),i=r=>{var d;for(const _ of r){const p=(d=_.children)==null?void 0:d.find(f=>f.path&&!f.isGroup&&f.show);if(_.children&&_.children.length&&p){const f=i(_.children);if(f)return f}if(_.path&&!_.isGroup&&_.show)return _}},u=r=>{var f;const d=y(i(r.children??[]));if(!d.value){if(!r.path||r.isGroup||!r.show){j("无法找到可跳转的菜单");return}d.value=r}const _=`/${d.value.path}`,p=nt(d.value.params);t.push({path:_,query:{appid:(f=o.query)==null?void 0:f.appid,...p}})};return(r,d)=>{const _=D;return m(),g("div",Ar,[x("div",{class:ke(["xb-menu-sidebar",{"xb-collapse":r.collapse}])},[(m(!0),g(G,null,Z(r.menus,(p,f)=>(m(),g("div",{class:ke(["item",{active:p.menu_key===l(a),"xb-hidden":!p.show}]),key:f,onClick:h=>u(p)},[x("div",Pr,[v(_,{icon:p.icon,size:"20"},null,8,["icon"])]),me(x("div",{class:"xb-title"},O(p.title),513),[[dt,!r.collapse]])],10,Cr))),128))],2),me(x("div",Er,[v(qt,{class:"xb-el-menu","active-text-color":"#333",active:r.active,menus:l(c)},null,8,["active","menus"])],512),[[dt,!r.collapse]])])}}});const Vr=V(Sr,[["__scopeId","data-v-765e8efd"]]),Ir={class:"xb-logo"},Br={class:"xb-sidebar-menus"},Tr={class:"xb-content"},Mr={key:0,class:"xb-footer"},$r=k({__name:"index",setup(e){ve(h=>({"2669c409":l(p),b2f89932:l(_),"68bcfe8a":l(f)}));const{siteInfo:t}=W(),o=he(),{active:n}=lo(),{menus:s}=Pe(),{layoutInfo:a}=o,c=t.login_beian,i=E(()=>a.isCollapse),u=E(()=>a.sideBarLayout.sideMenuWidth),r=E(()=>a.sideBarLayout.sideMenuOrdinaryWidth),d=E(()=>a.sideBarLayout.sideMenuCollapseWidth),_=E(()=>a.isCollapse?"block":"flex"),p=E(()=>`${a.sideBarLayout.headerHeight}px`),f=E(()=>`${a.footerHeight}px`);return(h,C)=>{const T=P("el-aside"),A=P("el-header"),R=kt,Q=Pt,ae=P("el-main"),ue=P("el-container");return m(),w(ue,{class:"xb-layout"},{default:b(()=>[v(T,{class:"xb-sidebar",width:l(i)?`${l(d)}px`:`${l(u)}px`},{default:b(()=>[x("div",Ir,[v(Et,{class:"logo-image",logo:l(t).web_logo,size:l(a).sideBarLayout.logoSize,height:l(a).sideBarLayout.headerHeight,width:l(i)?l(d):l(r)},null,8,["logo","size","height","width"]),v(St,{class:"logo-text",text:l(t).web_name,center:!0},null,8,["text"])]),x("div",Br,[v(Vr,{collapse:l(i),sideWidth:l(r),collapseWidth:l(d),active:l(n),menus:l(s)},null,8,["collapse","sideWidth","collapseWidth","active","menus"])])]),_:1},8,["width"]),v(ue,{class:"xb-layout-main"},{default:b(()=>[v(A,{class:"xb-header"},{default:b(()=>[v(so)]),_:1}),v(ae,{class:"xb-main"},{default:b(()=>{var de;return[x("div",Tr,[v(R)]),(de=l(c))!=null&&de.about_name&&l(c).about_url?(m(),g("div",Mr,[v(Q)])):B("",!0)]}),_:1})]),_:1})]),_:1})}}});const Or=V($r,[["__scopeId","data-v-1109435a"]]),jr={};function Rr(e,t){return m(),g("div",null," 用户中心布局 ")}const qr=V(jr,[["render",Rr]]),Dr=k({__name:"index",setup(e){const t=he(),o=E(()=>t.layoutInfo);return(n,s)=>l(o).layoutMode==="default"?(m(),w(br,{key:0})):l(o).layoutMode==="sideBar"?(m(),w(Or,{key:1})):l(o).layoutMode==="mixBar"?(m(),w(kr,{key:2})):l(o).layoutMode==="user"?(m(),w(qr,{key:3})):B("",!0)}}),Lr=[{path:"/",name:"default-router",component:Dr,meta:{title:"首页",path:"/",pid:0,icon:"",ajaxParams:""},redirect:"/redirect",children:[{path:"/workbench/exception",name:"workbenchError",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>Ee(()=>import("../../views/exception/error-ae0d4f1b.js"),["assets/views/exception/error-ae0d4f1b.js","assets/vendor/vue-d9146581.js","assets/vendor/@amap-aca98dec.js","assets/vendor/@vue-23ae8903.js","assets/vendor/vue-router-2c20130a.js","assets/vendor/axios-4a70c6fc.js","assets/vendor/@vueuse-1ac2deba.js","assets/vendor/element-plus-2dce74ff.js","assets/vendor/lodash-es-ac69cfd6.js","assets/vendor/@element-plus-52f33995.js","assets/vendor/@sxzz-c75af06c.js","assets/vendor/@ctrl-f8748455.js","assets/vendor/dayjs-4bc3d4de.js","assets/vendor/async-validator-dee29e8b.js","assets/vendor/memoize-one-297ddbcb.js","assets/vendor/normalize-wheel-es-ed76fb12.js","assets/vendor/@floating-ui-606f2ab9.js","assets/static/css/element-plus.3fc0c9bf.css","assets/vendor/pinia-16b4dd55.js","assets/vendor/vue-demi-5e0f6d41.js","assets/components/xb-router-view/exception.vue-41d87dc1.js","assets/components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js","assets/vendor/@vicons-1c0b19b5.js","assets/vendor/less-8423defd.js","assets/vendor/@form-create-9ca1a427.js","assets/vendor/highlight.js-1559bd9d.js","assets/static/css/highlight.5687ac7b.css","assets/vendor/dplayer-82a19070.js","assets/vendor/@wangeditor-abba06a0.js","assets/static/css/@wangeditor.501cf061.css","assets/vendor/spark-md5-e0efa6a8.js","assets/vendor/vxe-table-432e8408.js","assets/vendor/xe-utils-51806c17.js","assets/vendor/@vxe-ui-dc74f8df.js","assets/vendor/dom-zindex-d72a3c32.js","assets/static/css/@vxe-ui.071039df.css","assets/static/css/vxe-table.e4478ebd.css","assets/vendor/xlsx-04f2268f.js","assets/vendor/echarts-fc39ec6a.js","assets/vendor/tslib-54e39b60.js","assets/vendor/zrender-ee7f9476.js"])}]},{path:"/redirect",name:"Redirect",component:()=>Ee(()=>import("./redirect.vue-b7723465.js"),["assets/components/xb-router-view/redirect.vue-b7723465.js","assets/vendor/vue-d9146581.js","assets/vendor/@amap-aca98dec.js","assets/vendor/@vue-23ae8903.js","assets/vendor/vue-router-2c20130a.js","assets/vendor/axios-4a70c6fc.js","assets/vendor/@vueuse-1ac2deba.js","assets/vendor/element-plus-2dce74ff.js","assets/vendor/lodash-es-ac69cfd6.js","assets/vendor/@element-plus-52f33995.js","assets/vendor/@sxzz-c75af06c.js","assets/vendor/@ctrl-f8748455.js","assets/vendor/dayjs-4bc3d4de.js","assets/vendor/async-validator-dee29e8b.js","assets/vendor/memoize-one-297ddbcb.js","assets/vendor/normalize-wheel-es-ed76fb12.js","assets/vendor/@floating-ui-606f2ab9.js","assets/static/css/element-plus.3fc0c9bf.css","assets/vendor/pinia-16b4dd55.js","assets/vendor/vue-demi-5e0f6d41.js","assets/components/xb-router-view/exception.vue-41d87dc1.js","assets/components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js","assets/vendor/@vicons-1c0b19b5.js","assets/vendor/less-8423defd.js","assets/vendor/@form-create-9ca1a427.js","assets/vendor/highlight.js-1559bd9d.js","assets/static/css/highlight.5687ac7b.css","assets/vendor/dplayer-82a19070.js","assets/vendor/@wangeditor-abba06a0.js","assets/static/css/@wangeditor.501cf061.css","assets/vendor/spark-md5-e0efa6a8.js","assets/vendor/vxe-table-432e8408.js","assets/vendor/xe-utils-51806c17.js","assets/vendor/@vxe-ui-dc74f8df.js","assets/vendor/dom-zindex-d72a3c32.js","assets/static/css/@vxe-ui.071039df.css","assets/static/css/vxe-table.e4478ebd.css","assets/vendor/xlsx-04f2268f.js","assets/vendor/echarts-fc39ec6a.js","assets/vendor/tslib-54e39b60.js","assets/vendor/zrender-ee7f9476.js"]),meta:{title:"正在重定向"}},{path:"/login",name:"Login",component:()=>Ee(()=>import("../../views/login/index-5c674749.js"),["assets/views/login/index-5c674749.js","assets/vendor/vue-d9146581.js","assets/vendor/@amap-aca98dec.js","assets/vendor/@vue-23ae8903.js","assets/components/xb-router-view/exception.vue-41d87dc1.js","assets/vendor/vue-router-2c20130a.js","assets/vendor/axios-4a70c6fc.js","assets/vendor/@vueuse-1ac2deba.js","assets/vendor/element-plus-2dce74ff.js","assets/vendor/lodash-es-ac69cfd6.js","assets/vendor/@element-plus-52f33995.js","assets/vendor/@sxzz-c75af06c.js","assets/vendor/@ctrl-f8748455.js","assets/vendor/dayjs-4bc3d4de.js","assets/vendor/async-validator-dee29e8b.js","assets/vendor/memoize-one-297ddbcb.js","assets/vendor/normalize-wheel-es-ed76fb12.js","assets/vendor/@floating-ui-606f2ab9.js","assets/static/css/element-plus.3fc0c9bf.css","assets/vendor/pinia-16b4dd55.js","assets/vendor/vue-demi-5e0f6d41.js","assets/components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js","assets/vendor/@vicons-1c0b19b5.js","assets/vendor/less-8423defd.js","assets/vendor/@form-create-9ca1a427.js","assets/vendor/highlight.js-1559bd9d.js","assets/static/css/highlight.5687ac7b.css","assets/vendor/dplayer-82a19070.js","assets/vendor/@wangeditor-abba06a0.js","assets/static/css/@wangeditor.501cf061.css","assets/vendor/spark-md5-e0efa6a8.js","assets/vendor/vxe-table-432e8408.js","assets/vendor/xe-utils-51806c17.js","assets/vendor/@vxe-ui-dc74f8df.js","assets/vendor/dom-zindex-d72a3c32.js","assets/static/css/@vxe-ui.071039df.css","assets/static/css/vxe-table.e4478ebd.css","assets/vendor/xlsx-04f2268f.js","assets/vendor/echarts-fc39ec6a.js","assets/vendor/tslib-54e39b60.js","assets/vendor/zrender-ee7f9476.js","assets/static/css/index.4e2040a6.css"]),meta:{title:"用户登录"}},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>Ee(()=>import("../../views/exception/index-82ebb7c0.js"),["assets/views/exception/index-82ebb7c0.js","assets/vendor/vue-d9146581.js","assets/vendor/@amap-aca98dec.js","assets/vendor/@vue-23ae8903.js","assets/vendor/vue-router-2c20130a.js","assets/vendor/axios-4a70c6fc.js","assets/vendor/@vueuse-1ac2deba.js","assets/vendor/element-plus-2dce74ff.js","assets/vendor/lodash-es-ac69cfd6.js","assets/vendor/@element-plus-52f33995.js","assets/vendor/@sxzz-c75af06c.js","assets/vendor/@ctrl-f8748455.js","assets/vendor/dayjs-4bc3d4de.js","assets/vendor/async-validator-dee29e8b.js","assets/vendor/memoize-one-297ddbcb.js","assets/vendor/normalize-wheel-es-ed76fb12.js","assets/vendor/@floating-ui-606f2ab9.js","assets/static/css/element-plus.3fc0c9bf.css","assets/vendor/pinia-16b4dd55.js","assets/vendor/vue-demi-5e0f6d41.js","assets/components/xb-router-view/exception.vue-41d87dc1.js","assets/components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js","assets/vendor/@vicons-1c0b19b5.js","assets/vendor/less-8423defd.js","assets/vendor/@form-create-9ca1a427.js","assets/vendor/highlight.js-1559bd9d.js","assets/static/css/highlight.5687ac7b.css","assets/vendor/dplayer-82a19070.js","assets/vendor/@wangeditor-abba06a0.js","assets/static/css/@wangeditor.501cf061.css","assets/vendor/spark-md5-e0efa6a8.js","assets/vendor/vxe-table-432e8408.js","assets/vendor/xe-utils-51806c17.js","assets/vendor/@vxe-ui-dc74f8df.js","assets/vendor/dom-zindex-d72a3c32.js","assets/static/css/@vxe-ui.071039df.css","assets/static/css/vxe-table.e4478ebd.css","assets/vendor/xlsx-04f2268f.js","assets/vendor/echarts-fc39ec6a.js","assets/vendor/tslib-54e39b60.js","assets/vendor/zrender-ee7f9476.js"])},{path:"/:pathMatch(.*)",component:()=>Ee(()=>import("../../views/exception/index-82ebb7c0.js"),["assets/views/exception/index-82ebb7c0.js","assets/vendor/vue-d9146581.js","assets/vendor/@amap-aca98dec.js","assets/vendor/@vue-23ae8903.js","assets/vendor/vue-router-2c20130a.js","assets/vendor/axios-4a70c6fc.js","assets/vendor/@vueuse-1ac2deba.js","assets/vendor/element-plus-2dce74ff.js","assets/vendor/lodash-es-ac69cfd6.js","assets/vendor/@element-plus-52f33995.js","assets/vendor/@sxzz-c75af06c.js","assets/vendor/@ctrl-f8748455.js","assets/vendor/dayjs-4bc3d4de.js","assets/vendor/async-validator-dee29e8b.js","assets/vendor/memoize-one-297ddbcb.js","assets/vendor/normalize-wheel-es-ed76fb12.js","assets/vendor/@floating-ui-606f2ab9.js","assets/static/css/element-plus.3fc0c9bf.css","assets/vendor/pinia-16b4dd55.js","assets/vendor/vue-demi-5e0f6d41.js","assets/components/xb-router-view/exception.vue-41d87dc1.js","assets/components/xb-router-view/index.vue_vue_type_script_setup_true_lang.ts-6f2243ac.js","assets/vendor/@vicons-1c0b19b5.js","assets/vendor/less-8423defd.js","assets/vendor/@form-create-9ca1a427.js","assets/vendor/highlight.js-1559bd9d.js","assets/static/css/highlight.5687ac7b.css","assets/vendor/dplayer-82a19070.js","assets/vendor/@wangeditor-abba06a0.js","assets/static/css/@wangeditor.501cf061.css","assets/vendor/spark-md5-e0efa6a8.js","assets/vendor/vxe-table-432e8408.js","assets/vendor/xe-utils-51806c17.js","assets/vendor/@vxe-ui-dc74f8df.js","assets/vendor/dom-zindex-d72a3c32.js","assets/static/css/@vxe-ui.071039df.css","assets/static/css/vxe-table.e4478ebd.css","assets/vendor/xlsx-04f2268f.js","assets/vendor/echarts-fc39ec6a.js","assets/vendor/tslib-54e39b60.js","assets/vendor/zrender-ee7f9476.js"])}],L=mo({routes:Lr,history:_o()}),Ur=async e=>{const o=`${Fe()}/Index/site`;return e={...L.currentRoute.value.query??{},...e},await oe(o,e).catch(s=>(s.message&&L.push({path:ot,query:{...e,message:s.message}}),s))},zr={web_name:"",web_url:"",web_title:"",public_api:{captcha:"",login:"",loginout:"",user:"",menu:"",user_edit:""},public_view:{login:"",toolbar:""},upload_api:{index:"",upload:"",chunk:"",edit:"",del:"",move:""}},W=Ye("app",()=>{const e=y({...zr}),t=n=>{var r,d,_,p;const s=["http://","https://"];if((r=n.login_beian)!=null&&r.about_url&&!s.includes(n.login_beian.about_url)){var a=n.login_beian.about_url;a=a.replace("http://",""),a=a.replace("https://",""),n.login_beian.about_url=`http://${a}`}if((d=n.login_beian)!=null&&d.system_url&&!s.includes(n.login_beian.system_url)){var c=n.login_beian.system_url;c=c.replace("http://",""),c=c.replace("https://",""),n.login_beian.system_url=`http://${c}`}if((_=n.login_beian)!=null&&_.beian_url&&!s.includes(n.login_beian.beian_url)){var i=n.login_beian.beian_url;i=i.replace("http://",""),i=i.replace("https://",""),n.login_beian.beian_url=`http://${i}`}if((p=n.login_beian)!=null&&p.police_beian_url&&!s.includes(n.login_beian.police_beian_url)){var u=n.login_beian.police_beian_url;u=u.replace("http://",""),u=u.replace("https://",""),n.login_beian.police_beian_url=`http://${u}`}e.value=n};return{siteInfo:e,getSite:async n=>{const s=await Ur(n);if(!(s!=null&&s.data))return null;const a=s.data;return t(a),a}}}),Fr=async e=>{var n;const{siteInfo:t}=W(),o=(n=t.public_api)==null?void 0:n.menu;return o?await oe(o,e).then(s=>s.data):(j("菜单接口未配置"),Promise.reject("菜单接口未配置"))},ao=e=>{let t=new Map;for(const o of e)if(o.menu_key){if(o.children&&o.children.length>0){const n=ao(o.children);t=new Map([...t,...n])}t.set(`/${o.path}`,o.menu_key)}return t},co=e=>(e.map(t=>{var n;const o=((n=t.children)==null?void 0:n.filter(s=>s.show))??[];return t.isGroup=t.children&&t.children.length>0&&o.length>0,t.children&&(t.children=co(t.children)),e}),e),Pe=Ye("menus",()=>{const e=y([]);return{menus:e,menuKey:()=>ao(e.value),getMenus:async s=>{const a=Object.assign({},L.currentRoute.value.query,s),c=await Fr(a);if(!c)return j("获取菜单失败"),Promise.reject(new Error("获取菜单失败"));const i=co(c);return e.value=i,e.value},clearMenus:()=>{e.value=[]}}}),Nr=()=>{const e=Pe(),t=pe(),o=Io({active:""}),n=s=>{const c=e.menuKey().get(s)??"";o.active=c};return wt(()=>t.fullPath,()=>{n(t.path)}),{...Bo(o),updateActive:n}},[hu,Hr]=yo(Nr),lo=()=>Hr()??{active:y(""),updateActive:()=>{}},yu=k({__name:"redirect",setup(e){const t=fe(),o=Bt();return t.push({path:o,query:{...t.currentRoute.value.query}}),(n,s)=>{const a=P("router-view");return m(),w(a)}}});export{Bt as A,Pl as B,F as C,rt as D,yu as _,D as a,Ut as b,W as c,he as d,un as e,oe as f,nt as g,vu as h,Pt as i,ye as j,Ve as k,De as l,U as m,xe as n,Ze as o,_e as p,Li as q,j as r,hu as s,L as t,ge as u,gu as v,Ee as w,ot as x,fu as y,Pe as z};
