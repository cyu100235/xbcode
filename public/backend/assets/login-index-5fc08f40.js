import{d as E,a as T,e as W,b as Y,f as Z,_ as ee,i as oe,j as te}from"./exception-error-d6acfb07.js";import"./vue-01dcdced.js";import{d as C,e as S,h as g,G as e,o as s,c as a,a2 as B,M as c,f as i,a as t,j as w,s as ne,$ as p,a1 as V,F as se,ae as ie,_ as z,X as ae}from"./@vue-be2e89c4.js";import"./vue-router-5591487d.js";import"./@vueuse-11421d81.js";import"./axios-4a70c6fc.js";import"./element-plus-a038b0d8.js";import"./lodash-es-ac69cfd6.js";import"./@element-plus-1f09cf57.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-4bc3d4de.js";import"./@amap-aca98dec.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-606f2ab9.js";import"./pinia-781a1133.js";import"./vue-demi-9cb86471.js";import"./@vicons-38e00357.js";import"./less-8423defd.js";import"./@form-create-f9f8e1c4.js";import"./highlight.js-397ad3bd.js";import"./dplayer-82a19070.js";import"./@wangeditor-5527408c.js";import"./spark-md5-e0efa6a8.js";import"./echarts-fc39ec6a.js";import"./tslib-54e39b60.js";import"./zrender-ee7f9476.js";const le="/backend/assets/beian.gov-a20583c8.png",_e={key:0,class:"beian-pro"},ce=["href"],re=["href"],de=C({__name:"beian",setup(N){const b=E(),o=S(()=>b.siteInfo.login_beian);return(I,f)=>{var u,m,r,l,h,y,k;const v=g("el-image");return(u=e(o))!=null&&u.beian_text||(m=e(o))!=null&&m.police_beian_text?(s(),a("div",_e,[(r=e(o))!=null&&r.beian_text?(s(),a("a",{key:0,class:"item",href:(l=e(o))==null?void 0:l.beian_url,target:"_blank"}," 备案编号："+B((h=e(o))==null?void 0:h.beian_text),9,ce)):c("",!0),(y=e(o))!=null&&y.police_beian_text?(s(),a("a",{key:1,class:"item",href:(k=e(o))==null?void 0:k.police_beian_url,target:"_blank"},[i(v,{class:"beian-gov",src:e(le)},null,8,["src"]),t("span",null,B(e(o).police_beian_text),1)],8,re)):c("",!0)])):c("",!0)}}});const pe=T(de,[["__scopeId","data-v-450808e6"]]),ue="/backend/assets/login-banner-f74bd0ff.jpg",me="/backend/assets/login-bg-af96d53f.png",R="/backend/assets/logo-fe91df71.svg",ge={key:0,class:"login-bg",autoplay:"",loop:"",muted:""},be=["src"],fe={class:"login-position"},ve={class:"login-box"},he={class:"login-bg"},ye={key:0,id:"banner",autoplay:"",loop:"",muted:""},ke=["src"],xe=["src"],we={class:"title-mask"},Ve={class:"title"},Be={class:"desc"},Ie={class:"login-content"},Ce={class:"logo-container"},Le=["src"],$e={class:"title"},Se={class:"form-container"},ze={class:"item"},Ee={class:"item"},Ne={key:0,class:"item"},Ue={class:"captcha-container"},Xe={class:"submit-button"},je={key:1,class:"register-password"},De={key:0,class:"register"},Fe={key:1,class:"password"},Ge={key:2,class:"other-login"},Me={class:"other-conntent"},Pe={class:"other-item"},Ae=["src"],Ke={key:1,class:"xbase-copyright"},Re=C({__name:"login-view",setup(N){var k,U;const{accounLogin:b}=W(),{siteInfo:o}=E(),I=S(()=>{var _;return(_=o.login_data)!=null&&_.bg?o.login_data.bg.includes(".mp4"):!1}),f=w(((k=o.login_data)==null?void 0:k.bg)||me),v=S(()=>{var _;return(_=o.login_data)!=null&&_.ad?o.login_data.ad.includes(".mp4"):!1}),u=w(((U=o.login_data)==null?void 0:U.ad)||ue),m=w(o.web_logo||R),r=w(""),l=w({username:"",password:"",vcode:""}),h=()=>{b(l.value)},y=async()=>{var x;const _=(x=o.public_api)==null?void 0:x.captcha;if(!_)return;const n=await Z(_);n&&(r.value=n)};return Y(()=>h()),ne(()=>{y();var _=document.getElementById("banner");_!==null&&(_.autoplay=!0,_.addEventListener("contextmenu",function(n){n.preventDefault()}))}),(_,n)=>{var j,D,F,G,M,P,A,K;const x=g("el-image"),L=ee,$=g("el-input"),q=g("el-button"),X=g("router-link"),H=g("el-divider"),J=g("el-tooltip"),O=oe,Q=pe;return s(),a("div",{class:"login-container",style:ae(e(I)?"":`background-image:url(${e(f)});`)},[e(I)?(s(),a("video",ge,[t("source",{src:e(f),type:"video/mp4"},null,8,be)])):c("",!0),t("div",fe,[t("div",ve,[t("div",he,[e(v)?(s(),a("video",ye,[t("source",{src:e(u),type:"video/mp4"},null,8,ke)])):(s(),a("img",{key:1,class:"login-banner",src:e(u)},null,8,xe)),t("div",we,[t("div",Ve,B(((j=e(o).login_data)==null?void 0:j.login_title)||""),1),t("div",Be,B(((D=e(o).login_data)==null?void 0:D.login_desc)||""),1)])]),t("div",Ie,[t("div",Ce,[i(x,{class:"logo",src:e(m)},{error:p(()=>[t("div",null,[t("img",{src:e(R),class:"logo"},null,8,Le)])]),_:1},8,["src"]),t("div",$e,B(e(o).web_name||"xbcode"),1)]),t("div",Se,[t("div",ze,[i($,{modelValue:e(l).username,"onUpdate:modelValue":n[0]||(n[0]=d=>e(l).username=d),placeholder:"请输入账号",size:"large"},{prefix:p(()=>[i(L,{icon:"UserFilled"})]),_:1},8,["modelValue"])]),t("div",Ee,[i($,{modelValue:e(l).password,"onUpdate:modelValue":n[1]||(n[1]=d=>e(l).password=d),type:"password",placeholder:"请输入密码",size:"large","show-password":""},{prefix:p(()=>[i(L,{icon:"Lock"})]),_:1},8,["modelValue"])]),e(r)?(s(),a("div",Ne,[t("div",Ue,[i($,{modelValue:e(l).vcode,"onUpdate:modelValue":n[2]||(n[2]=d=>e(l).vcode=d),placeholder:"请输入验证码",size:"large"},{prefix:p(()=>[i(L,{icon:"Picture"})]),_:1},8,["modelValue"]),i(x,{class:"captcha",src:e(r),onClick:y},null,8,["src"])])])):c("",!0),t("div",Xe,[i(q,{type:"primary",class:"submit",onClick:h},{default:p(()=>n[3]||(n[3]=[V(" 登录 ")])),_:1})]),(G=(F=e(o))==null?void 0:F.login_data)!=null&&G.register||(M=e(o).login_data)!=null&&M.findpwd?(s(),a("div",je,[e(o).login_data.register?(s(),a("div",De,[n[5]||(n[5]=V(" 没有账号？ ")),i(X,{to:e(o).login_data.register},{default:p(()=>n[4]||(n[4]=[V(" 立即注册 ")])),_:1},8,["to"])])):c("",!0),e(o).login_data.findpwd?(s(),a("div",Fe,[i(X,{to:e(o).login_data.findpwd},{default:p(()=>n[6]||(n[6]=[V(" 忘记密码 ")])),_:1},8,["to"])])):c("",!0)])):c("",!0),(A=(P=e(o).login_data)==null?void 0:P.other_login)!=null&&A.length?(s(),a("div",Ge,[i(H,null,{default:p(()=>n[7]||(n[7]=[V(" 其他登录方式 ")])),_:1}),t("div",Me,[(s(!0),a(se,null,ie(e(o).login_data.other_login,d=>(s(),z(J,{key:d,effect:"dark",content:d.title,placement:"top"},{default:p(()=>[t("div",Pe,[t("img",{src:d.icon,class:"other-logo"},null,8,Ae)])]),_:2},1032,["content"]))),128))])])):c("",!0)])])])]),(K=e(o).login_beian)!=null&&K.beian_text?(s(),a("div",Ke,[i(O),i(Q)])):c("",!0)],4)}}});const Te=T(Re,[["__scopeId","data-v-886559f3"]]),qe=C({name:"/login"}),wo=C({...qe,setup(N){const{siteInfo:b}=E();return(o,I)=>{var u,m,r,l;const f=Te,v=te;return(m=(u=e(b))==null?void 0:u.public_view)!=null&&m.login?(s(),z(v,{key:1,api:(l=(r=e(b))==null?void 0:r.public_view)==null?void 0:l.login},null,8,["api"])):(s(),z(f,{key:0}))}}});export{wo as default};
