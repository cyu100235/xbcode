import{h as V,_ as D,a as j,g as F,b as G,c as K,o as U}from"./exception-error-27c5287b.js";import"./vue-01dcdced.js";import{u as E}from"./vue-router-5591487d.js";import{d as P,h as v,G as t,o as k,c as y,f as a,$ as m,a as b,a1 as C,a2 as B,M as I,ax as H,j as n,e as g,A as h}from"./@vue-be2e89c4.js";const J={key:0,class:"xb-back"},L={class:"text"},Q=P({__name:"index",props:{title:{}},setup(N){const s=E();return(_,r)=>{var p;const i=D,l=v("el-button"),u=v("el-divider"),x=v("el-text");return(p=t(s).query)!=null&&p.redirect?(k(),y("div",J,[a(l,{text:"",onClick:t(V)},{icon:m(()=>[a(i,{icon:"Back"})]),default:m(()=>[r[0]||(r[0]=b("span",null,"返回",-1))]),_:1},8,["onClick"]),a(u,{direction:"vertical"}),b("div",L,[a(x,{tag:"b",size:"large"},{default:m(()=>[C(B(_.title),1)]),_:1})])])):I("",!0)}}});const Y=j(Q,[["__scopeId","data-v-8017549d"]]),Z={class:"xb-form-layout"},ee={class:"xb-form-container"},te={key:0,class:"xb-buttons-container"},oe={class:"xb-buttons"},se=P({name:"/form"}),ne=P({...se,setup(N){H(e=>({"2524997b":t(p),"64ea5eb4":t(x)}));const s=E(),_=n(),r=n(),i=n(!1),l=n(),u=n(),x=g(()=>{var e,o;return((o=(e=r.value)==null?void 0:e.config)==null?void 0:o.form_width)??"100%"}),p=g(()=>{var e,o;return((o=(e=r.value)==null?void 0:e.config)==null?void 0:o.form_position)??"center"}),d=n(),T=n(s.meta.title??""),R=n(s.query),X=n(F(s.meta.ajaxParams)),w=g(()=>{var e={...R.value,...X.value};return e!=null&&e.redirect&&delete e.redirect,{api:s.path,method:s.meta.method,params:e}}),z=e=>{var o;i.value=!1,(o=s.query)!=null&&o.isBack&&!d.value?V():d.value&&U(d.value)},M=e=>{i.value=!1},$=()=>{i.value=!0,_.value.submit()},W=()=>{_.value.reset()},A=e=>{var f;const o=e.exposed;_.value=o;const c=e.result;r.value=c,c.redirect?d.value=c.redirect:(f=s.query)!=null&&f.redirect&&(d.value=s.query.redirect),l.value=c.extraConfig.submitBtn,u.value=c.extraConfig.resetBtn};return G(()=>$()),(e,o)=>{var O;const c=Y,f=K,q=v("el-button");return k(),y("div",Z,[a(c,{title:t(T)},null,8,["title"]),b("div",ee,[a(f,h({class:"xb-form"},t(w),{onInitOk:A,onSubmitOk:z,onSubmitError:M}),null,16)]),(O=t(l))!=null&&O.content?(k(),y("div",te,[b("div",oe,[a(q,h(t(l),{loading:t(i),class:"xb-button",onClick:$}),{default:m(()=>[C(B(t(l).content),1)]),_:1},16,["loading"]),a(q,h(t(u),{class:"xb-button",onClick:W}),{default:m(()=>{var S;return[C(B((S=t(u))==null?void 0:S.content),1)]}),_:1},16)])])):I("",!0)])}}});const ae=j(ne,[["__scopeId","data-v-61467596"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{Y as _,_e as a,ae as i};
