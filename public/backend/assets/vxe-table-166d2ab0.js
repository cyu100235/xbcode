import"./vue-01dcdced.js";import{a as s}from"./xe-utils-51806c17.js";import{V as J}from"./@vxe-ui-a46a5faa.js";import{D as Ir}from"./dom-zindex-d72a3c32.js";import{w as ut,r as zo,z as u,d as Eo,j as Pe,k as ro,M as He,s as Ol,a5 as Sl,p as yl,n as ne,u as Dr,ar as vs,e as Ve,ac as $i,a8 as Bi,ad as Vi,h as Os}from"./@vue-be2e89c4.js";function ot(e){return e&&e.enabled!==!1}function Lr(e){return e==null||e===""}function Ar(e){const l=e.name,r=s.lastIndexOf(l,"."),a=l.substring(r+1,l.length).toLowerCase();return{filename:l.substring(0,r),type:a}}function Hr(){return Ir.getNext()}function $r(){return Ir.getCurrent()}function Nl(e){return e&&e.children&&e.children.length>0}function el(e,l){if(e){const r=J.getConfig().translate;return s.toValueString(r?r(""+e,l):e)}return""}function Pt(e,l){return""+(Lr(e)?l?J.getConfig().emptyCell:"":e)}function Qo(e){return e===""||s.eqNull(e)}const Ss="4.8.15";J.version=Ss;J.tableVersion=Ss;J.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,padding:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},dragConfig:{showRowIcon:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"normal"},columnConfig:{maxFixedSize:4},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0}},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const ft="vxe-table-icon-";J.setIcon({TABLE_SORT_ASC:ft+"caret-up",TABLE_SORT_DESC:ft+"caret-down",TABLE_FILTER_NONE:ft+"funnel",TABLE_FILTER_MATCH:ft+"funnel",TABLE_EDIT:ft+"edit",TABLE_TITLE_PREFIX:ft+"question-circle-fill",TABLE_TITLE_SUFFIX:ft+"question-circle-fill",TABLE_TREE_LOADED:ft+"spinner roll",TABLE_TREE_OPEN:ft+"caret-right rotate90",TABLE_TREE_CLOSE:ft+"caret-right",TABLE_EXPAND_LOADED:ft+"spinner roll",TABLE_EXPAND_OPEN:ft+"arrow-right rotate90",TABLE_EXPAND_CLOSE:ft+"arrow-right",TABLE_CHECKBOX_CHECKED:ft+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:ft+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:ft+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:ft+"radio-checked-fill",TABLE_RADIO_UNCHECKED:ft+"radio-unchecked",TABLE_CUSTOM_SORT:ft+"drag-handle",TABLE_MENU_OPTIONS:ft+"arrow-right",TABLE_DRAG_ROW:ft+"drag-handle",TOOLBAR_TOOLS_REFRESH:ft+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:ft+"repeat roll",TOOLBAR_TOOLS_IMPORT:ft+"upload",TOOLBAR_TOOLS_EXPORT:ft+"download",TOOLBAR_TOOLS_PRINT:ft+"print",TOOLBAR_TOOLS_FULLSCREEN:ft+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:ft+"minimize",TOOLBAR_TOOLS_CUSTOM:ft+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:ft+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:ft+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:ft+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:ft+"fixed-right-fill"});const ji=J.setTheme,Ni=J.getTheme,Pi=J.setConfig,_i=J.getConfig,zi=J.setIcon,Wi=J.getIcon,qi=J.setLanguage,Xi=J.setI18n,Ki=J.getI18n,Yi=J.globalEvents,Ui=J.globalResize,Gi=J.renderer,Zi=J.validators,Qi=J.menus,Ji=J.formats,ea=J.commands,ta=J.interceptor,oa=J.clipboard,la=J.log,na=J.hooks,sa=J.use,Br=e=>J.setConfig(e);J.setup=Br;const Vr=e=>J.setConfig(e);J.config=Vr;const jr=(e,l)=>J.getI18n(e,l);J.t=jr;const Nr=(e,l)=>el(e,l);J._t=Nr;const ra=J,ia=e=>J.saveFile(e),aa=e=>J.readFile(e),ca=e=>J.print(e),da={get(e){return J.modal.get(e)},close(e){return J.modal.close(e)},open(e){return J.modal.open(e)},alert(e,l,r){return J.modal.alert(e,l,r)},confirm(e,l,r){return J.modal.confirm(e,l,r)},message(e,l){return J.modal.message(e,l)},notification(e,l,r){return J.modal.notification(e,l,r)}},{log:Pr}=J,_r="table v4.8.15",Cs=Pr.create("warn",_r),so=Pr.create("error",_r),{getI18n:ua,formats:Qc}=J;class ws{constructor(l,r,{renderHeader:a,renderCell:C,renderFooter:g,renderData:F}={}){const O=l.xegrid,N=r.formatter,d=s.isBoolean(r.visible)?r.visible:!0;if(Object.assign(this,{type:r.type,property:r.field,field:r.field,title:r.title,width:r.width,minWidth:r.minWidth,maxWidth:r.maxWidth,resizable:r.resizable,fixed:r.fixed,align:r.align,headerAlign:r.headerAlign,footerAlign:r.footerAlign,showOverflow:r.showOverflow,showHeaderOverflow:r.showHeaderOverflow,showFooterOverflow:r.showFooterOverflow,className:r.className,headerClassName:r.headerClassName,footerClassName:r.footerClassName,formatter:N,footerFormatter:r.footerFormatter,sortable:r.sortable,sortBy:r.sortBy,sortType:r.sortType,filters:Xr(r.filters),filterMultiple:s.isBoolean(r.filterMultiple)?r.filterMultiple:!0,filterMethod:r.filterMethod,filterResetMethod:r.filterResetMethod,filterRecoverMethod:r.filterRecoverMethod,filterRender:r.filterRender,treeNode:r.treeNode,dragSort:r.dragSort,cellType:r.cellType,cellRender:r.cellRender,editRender:r.editRender,contentRender:r.contentRender,headerExportMethod:r.headerExportMethod,exportMethod:r.exportMethod,footerExportMethod:r.footerExportMethod,titleHelp:r.titleHelp,titlePrefix:r.titlePrefix,titleSuffix:r.titleSuffix,params:r.params,id:r.colId||s.uniqueId("col_"),parentId:null,visible:d,halfVisible:!1,defaultVisible:d,defaultFixed:r.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:a||r.renderHeader,renderCell:C||r.renderCell,renderFooter:g||r.renderFooter,renderData:F,slots:r.slots}),O){const{computeProxyOpts:h}=O.getComputeMaps(),b=h.value;b.beforeColumn&&b.beforeColumn({$grid:O,column:this})}}getTitle(){return el(this.title||(this.type==="seq"?ua("vxe.table.seqTitle"):""))}getKey(){const{type:l}=this;return this.field||(l?`type=${l}`:null)}update(l,r){l!=="filters"&&(l==="field"&&(this.property=r),this[l]=r)}}const ns={},ul=s.browse();function dl(e,l){return e?s.isFunction(e)?e(l):e:""}function zr(e){return ns[e]||(ns[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),ns[e]}function Wr(e,l,r){if(e){const a=e.parentNode;if(r.top+=e.offsetTop,r.left+=e.offsetLeft,a&&a!==document.documentElement&&a!==document.body&&(r.top-=a.scrollTop,r.left-=a.scrollLeft),!(l&&(e===l||e.offsetParent===l))&&e.offsetParent)return Wr(e.offsetParent,l,r)}return r}function Es(e){return e&&/^\d+(px)?$/.test(e)}function on(e){return e&&/^\d+%$/.test(e)}function Rl(e,l){return e&&e.className&&e.className.match&&e.className.match(zr(l))}function ho(e,l){e&&Rl(e,l)&&(e.className=e.className.replace(zr(l),""))}function Ao(e,l){e&&!Rl(e,l)&&(ho(e,l),e.className=`${e.className} ${l}`)}function Dn(){const e=document.documentElement,l=document.body;return{scrollTop:e.scrollTop||l.scrollTop,scrollLeft:e.scrollLeft||l.scrollLeft,visibleHeight:e.clientHeight||l.clientHeight,visibleWidth:e.clientWidth||l.clientWidth}}function Jl(e){return e?e.offsetHeight:0}function ys(e){if(e){const l=getComputedStyle(e),r=s.toNumber(l.paddingTop),a=s.toNumber(l.paddingBottom);return r+a}return 0}function $t(e,l){e&&(e.scrollTop=l)}function Ut(e,l){e&&(e.scrollLeft=l)}function Ms(e,l){const r=l.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==r&&e.setAttribute("title",r)}function pt(e,l,r,a){let C,g=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;g&&g.nodeType&&g!==document;){if(r&&Rl(g,r)&&(!a||a(g)))C=g;else if(g===l)return{flag:r?!!C:!0,container:l,targetElem:C};g=g.parentNode}return{flag:!1}}function fa(e,l){return Wr(e,l,{left:0,top:0})}function Sn(e){const l=e.getBoundingClientRect(),r=l.top,a=l.left,{scrollTop:C,scrollLeft:g,visibleHeight:F,visibleWidth:O}=Dn();return{boundingTop:r,top:C+r,boundingLeft:a,left:g+a,visibleHeight:F,visibleWidth:O}}const Js="scrollIntoViewIfNeeded",er="scrollIntoView";function pa(e){e&&(e[Js]?e[Js]():e[er]&&e[er]())}function ha(e,l){e&&e.dispatchEvent(new Event(l))}function ss(e){return e&&e.nodeType===1}const qr=(e,l)=>{const r=[];return e.forEach(a=>{a.parentId=l?l.id:null,a.visible&&(a.children&&a.children.length&&a.children.some(C=>C.visible)?(r.push(a),r.push(...qr(a.children,a))):r.push(a))}),r},ga=e=>{let l=1;const r=(g,F)=>{if(F&&(g.level=F.level+1,l<g.level&&(l=g.level)),g.children&&g.children.length&&g.children.some(O=>O.visible)){let O=0;g.children.forEach(N=>{N.visible&&(r(N,g),O+=N.colSpan)}),g.colSpan=O}else g.colSpan=1};e.forEach(g=>{g.level=1,r(g)});const a=[];for(let g=0;g<l;g++)a.push([]);return qr(e).forEach(g=>{g.children&&g.children.length&&g.children.some(F=>F.visible)?g.rowSpan=1:g.rowSpan=l-g.level+1,a[g.level-1].push(g)}),a};function rs(e,l,r){const{internalData:a}=e;return e.clearScroll().then(()=>{if(l||r)return a.lastScrollLeft=0,a.lastScrollTop=0,e.scrollTo(l,r)})}function is(){return s.uniqueId("row_")}function Zo(e){const{props:l}=e,{computeRowOpts:r}=e.getComputeMaps(),{rowId:a}=l,C=r.value;return a||C.keyField||"_X_ROW_KEY"}function ve(e,l){const r=s.get(l,Zo(e));return s.eqNull(r)?"":encodeURIComponent(r)}const Gt=(e,l)=>l?s.isString(l)?e.getColumnByField(l):l:null;function as(e){if(e){const l=getComputedStyle(e),r=s.toNumber(l.paddingLeft),a=s.toNumber(l.paddingRight);return r+a}return 0}function Ll(e){if(e){const l=getComputedStyle(e),r=s.toNumber(l.marginLeft),a=s.toNumber(l.marginRight);return e.offsetWidth+r+a}return 0}function il(e,l){return e.querySelector(".vxe-cell"+l)}function Xr(e){return e&&s.isArray(e)?e.map(({label:l,value:r,data:a,resetValue:C,checked:g})=>({label:l,value:r,data:a,resetValue:C,checked:!!g,_checked:!!g})):e}function ma(e){return e.map((l,r)=>r%2===0?Number(l)+1:".").join("")}function Jt(e,l){return s.get(e,l.field)}function _o(e,l,r){return s.set(e,l.field,r)}function ba(e){const{$table:l,column:r,cell:a}=e,{props:C}=l,{computeResizableOpts:g}=l.getComputeMaps(),F=g.value,{minWidth:O}=F;if(O){const x=s.isFunction(O)?O(e):O;if(x!=="auto")return Math.max(1,s.toNumber(x))}const{showHeaderOverflow:N}=C,{showHeaderOverflow:d,minWidth:h}=r,b=s.isUndefined(d)||s.isNull(d)?N:d,D=b==="title"||(b===!0||b==="tooltip")||b==="ellipsis",M=s.floor((s.toNumber(getComputedStyle(a).fontSize)||14)*1.6),k=as(a)+as(il(a,""));let v=M+k;if(D){const x=as(il(a,"--title>.vxe-cell--checkbox")),y=Ll(il(a,">.vxe-cell--required-icon")),S=Ll(il(a,">.vxe-cell--edit-icon")),w=Ll(il(a,">.vxe-cell-title-prefix-icon")),$=Ll(il(a,">.vxe-cell-title-suffix-icon")),q=Ll(il(a,">.vxe-cell--sort")),Y=Ll(il(a,">.vxe-cell--filter"));v+=x+y+S+w+$+Y+q}if(h){const{refTableBody:x}=l.getRefMaps(),y=x.value,S=y?y.$el:null;if(S){if(on(h)){const $=(S.clientWidth-1)/100;return Math.max(v,Math.floor(s.toInteger(h)*$))}else if(Es(h))return Math.max(v,s.toInteger(h))}}return v}function Mn(e){return e&&(e.constructor===ws||e instanceof ws)}function xa(e,l,r){return Mn(l)?l:zo(new ws(e,l,r))}function Kr(e,l,r){Object.keys(l).forEach(a=>{ut(()=>l[a],C=>{r.update(a,C),e&&(a==="filters"?(e.setFilter(r,C),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(a)&&e.handleRefreshColumnQueue())})})}function Yr(e,l,r,a){const{reactData:C}=e,{staticColumns:g}=C,F=l.parentNode,O=a?a.columnConfig:null,N=O?O.children:g;F&&N&&(N.splice(s.arrayIndexOf(F.children,l),0,r),C.staticColumns=g.slice(0))}function Ur(e,l){const{reactData:r}=e,{staticColumns:a}=r,C=s.findTree(a,g=>g.id===l.id,{children:"children"});C&&C.items.splice(C.index,1),r.staticColumns=a.slice(0)}function tr(e,l){const{internalData:r}=e,{fullColumnIdData:a}=r;if(!l)return null;let C=l.parentId;for(;a[C];){const g=a[C].column;if(C=g.parentId,!C)return g}return l}function Gr(e,l,r){for(let a=0;a<e.length;a++){const{row:C,col:g,rowspan:F,colspan:O}=e[a];if(g>-1&&C>-1&&F&&O){if(C===l&&g===r)return{rowspan:F,colspan:O};if(l>=C&&l<C+F&&r>=g&&r<g+O)return{rowspan:0,colspan:0}}}}function va(e){const{props:l,internalData:r}=e;return r.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(l.keyboardConfig||l.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&l.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function Ca(e){return e.clearFilter&&e.clearFilter(),va(e)}function or(e,l){const{reactData:r,internalData:a}=e,C=e.props,{showOverflow:g}=C,{refTableBody:F}=e.getRefMaps(),{columnStore:O,scrollYLoad:N}=r,{afterFullData:d,scrollYStore:h,fullAllDataRowIdData:b}=a,B=F.value,{leftList:L,rightList:X}=O,D=B?B.$el:null,M=ve(e,l);let k=0;L.forEach(x=>{k+=x.renderWidth});let v=0;if(X.forEach(x=>{v+=x.renderWidth}),D){const x=D.clientHeight,y=D.scrollTop,S=D.querySelector(`[rowid="${M}"]`);if(S){const w=S.offsetParent,$=S.offsetTop+(w?w.offsetTop:0),q=S.clientHeight;if($<y||$>y+x)return e.scrollTo(null,$);if($+q>=x+y)return e.scrollTo(null,y+q)}else if(N){if(g)return e.scrollTo(null,(e.findRowIndexOf(d,l)-1)*h.rowHeight);let w=0;const $=b[M],q=$?$.height:0;for(let Y=0;Y<d.length;Y++){const ue=d[Y],Ce=ve(e,ue);if(ue===l||Ce===M)break;const P=b[Ce];w+=P?P.height:0}return w<y?e.scrollTo(null,w-k-1):e.scrollTo(null,w+q-(x-v-1))}}return Promise.resolve()}function wa(e,l){const{reactData:r,internalData:a}=e,{refTableBody:C}=e.getRefMaps(),{columnStore:g,scrollXLoad:F}=r,{visibleColumn:O}=a,{leftList:N,rightList:d}=g,h=C.value,b=h?h.$el:null;if(l.fixed)return Promise.resolve();let B=0;N.forEach(X=>{B+=X.renderWidth});let L=0;if(d.forEach(X=>{L+=X.renderWidth}),b){const X=b.clientWidth,D=b.scrollLeft,M=b.querySelector(`.${l.id}`);if(M){const k=M.offsetParent,v=M.offsetLeft+(k?k.offsetLeft:0),x=M.clientWidth;if(v<D+B)return e.scrollTo(v-B-1);if(v+x-D>X-L)return e.scrollTo(v+x-(X-L-1))}else if(F){let k=0;const v=l.renderWidth;for(let x=0;x<O.length;x++){const y=O[x];if(y===l||y.id===l.id)break;k+=y.renderWidth}return k<D?e.scrollTo(k-B-1):e.scrollTo(k+v-(X-L-1))}}return Promise.resolve()}function Pl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Zr(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Qr(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function wo(e){return s.isArray(e)?e:[e]}const{getI18n:bn,getIcon:Lt,renderer:ln,formats:lr,renderEmptyElement:nr}=J;function Ea(e){const{$table:l,column:r}=e,a=r.titlePrefix||r.titleHelp;return a?[u("i",{class:["vxe-cell-title-prefix-icon",a.icon||Lt().TABLE_TITLE_PREFIX],onMouseenter(C){l.triggerHeaderTitleEvent(C,a,e)},onMouseleave(C){l.handleTargetLeaveEvent(C)}})]:[]}function ya(e){const{$table:l,column:r}=e,a=r.titleSuffix;return a?[u("i",{class:["vxe-cell-title-suffix-icon",a.icon||Lt().TABLE_TITLE_SUFFIX],onMouseenter(C){l.triggerHeaderTitleEvent(C,a,e)},onMouseleave(C){l.handleTargetLeaveEvent(C)}})]:[]}function Ra(e){const{$table:l}=e,{computeDragOpts:r}=l.getComputeMaps(),a=r.value,{rowIcon:C,rowDisabledMethod:g}=a,F=g&&g(e);return u("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":F}],onMousedown(O){F||l.handleCellDragMousedownEvent(O,e)},onMouseup:l.handleCellDragMouseupEvent},[u("i",{class:C||Lt().TABLE_DRAG_ROW})])}function no(e,l){const{$table:r,column:a,level:C}=e,{dragSort:g}=a,F=r.props,{treeConfig:O}=F,{computeRowOpts:N,computeDragOpts:d}=r.getComputeMaps(),h=N.value,b=d.value,{showRowIcon:B,rowVisibleMethod:L}=b,X=s.isArray(l)?l:[l];return g&&h.drag&&B&&(!L||L(e))&&(!O||!C)&&X.unshift(Ra(e)),X}function al(e,l){const{$table:r,column:a}=e,{props:C,reactData:g}=r,{computeTooltipOpts:F}=r.getComputeMaps(),{showHeaderOverflow:O}=C,{type:N,showHeaderOverflow:d}=a,b=F.value.showAll,B=s.isUndefined(d)||s.isNull(d)?O:d,L=B==="title",X=B===!0||B==="tooltip",D={};return(L||X||b)&&(D.onMouseenter=M=>{g._isResize||(L?Ms(M.currentTarget,a):(X||b)&&r.triggerHeaderTooltipEvent(M,e))}),(X||b)&&(D.onMouseleave=M=>{g._isResize||(X||b)&&r.handleTargetLeaveEvent(M)}),[N==="html"&&s.isString(l)?u("span",Object.assign({class:"vxe-cell--title",innerHTML:l},D)):u("span",Object.assign({class:"vxe-cell--title"},D),wo(l))]}function sr(e,l){if(s.isFunction(e))return e(l);const r=s.isArray(e),a=r?lr.get(e[0]):lr.get(e),C=a?a.tableFooterCellFormatMethod:null;return C?r?C(l,...e.slice(1)):C(l):""}function Oa(e){const{$table:l,column:r,_columnIndex:a,items:C,row:g}=e,{slots:F,editRender:O,cellRender:N,footerFormatter:d}=r,h=O||N,b=F?F.footer:null;if(b)return l.callSlot(b,e);if(h){const L=ln.get(h.name);if(L){const X=L.renderTableFooter||L.renderFooter;if(X)return wo(X(h,e))}}let B="";return s.isArray(C)?(B=C[a],[d?sr(d,{itemValue:B,column:r,row:g,items:C,_columnIndex:a}):Pt(B,1)]):(B=s.get(g,r.field),[d?sr(d,{itemValue:B,column:r,row:g,items:C,_columnIndex:a}):Pt(B,1)])}function rr(e){const{$table:l,row:r,column:a}=e;return Pt(l.getCellLabel(r,a),1)}const Ke={createColumn(e,l){const{type:r,sortable:a,filters:C,editRender:g,treeNode:F}=l,{props:O}=e,{editConfig:N}=O,{computeEditOpts:d,computeCheckboxOpts:h}=e.getComputeMaps(),b=h.value,B=d.value,L={renderHeader:Ke.renderDefaultHeader,renderCell:F?Ke.renderTreeCell:Ke.renderDefaultCell,renderFooter:Ke.renderDefaultFooter};switch(r){case"seq":L.renderHeader=Ke.renderSeqHeader,L.renderCell=F?Ke.renderTreeIndexCell:Ke.renderSeqCell;break;case"radio":L.renderHeader=Ke.renderRadioHeader,L.renderCell=F?Ke.renderTreeRadioCell:Ke.renderRadioCell;break;case"checkbox":L.renderHeader=Ke.renderCheckboxHeader,L.renderCell=b.checkField?F?Ke.renderTreeSelectionCellByProp:Ke.renderCheckboxCellByProp:F?Ke.renderTreeSelectionCell:Ke.renderCheckboxCell;break;case"expand":L.renderCell=Ke.renderExpandCell,L.renderData=Ke.renderExpandData;break;case"html":L.renderCell=F?Ke.renderTreeHTMLCell:Ke.renderHTMLCell,C&&a?L.renderHeader=Ke.renderSortAndFilterHeader:a?L.renderHeader=Ke.renderSortHeader:C&&(L.renderHeader=Ke.renderFilterHeader);break;default:N&&g?(L.renderHeader=Ke.renderEditHeader,L.renderCell=B.mode==="cell"?F?Ke.renderTreeCellEdit:Ke.renderCellEdit:F?Ke.renderTreeRowEdit:Ke.renderRowEdit):C&&a?L.renderHeader=Ke.renderSortAndFilterHeader:a?L.renderHeader=Ke.renderSortHeader:C&&(L.renderHeader=Ke.renderFilterHeader)}return xa(e,l,L)},renderHeaderTitle(e){const{$table:l,column:r}=e,{slots:a,editRender:C,cellRender:g}=r,F=C||g,O=a?a.header:null;if(O)return al(e,l.callSlot(O,e));if(F){const N=ln.get(F.name);if(N){const d=N.renderTableHeader||N.renderHeader;if(d)return al(e,wo(d(F,e)))}}return al(e,Pt(r.getTitle(),1))},renderDefaultHeader(e){return Ea(e).concat(Ke.renderHeaderTitle(e)).concat(ya(e))},renderDefaultCell(e){const{$table:l,row:r,column:a}=e,{slots:C,editRender:g,cellRender:F}=a,O=g||F,N=C?C.default:null;if(N)return no(e,l.callSlot(N,e));if(O){const b=ln.get(O.name);if(b){const B=b.renderTableCell||b.renderCell,L=b.renderTableDefault||b.renderDefault,X=g?B:L;if(X)return no(e,wo(X(O,Object.assign({$type:g?"edit":"cell"},e))))}}const d=l.getCellLabel(r,a),h=g?g.placeholder:"";return no(e,[u("span",{class:"vxe-cell--label"},[g&&Qo(d)?u("span",{class:"vxe-cell--placeholder"},Pt(el(h),1)):u("span",Pt(d,1))])])},renderTreeCell(e){return Ke.renderTreeIcon(e,Ke.renderDefaultCell(e))},renderDefaultFooter(e){return[u("span",{class:"vxe-cell--item"},Oa(e))]},renderTreeIcon(e,l){const{$table:r,isHidden:a}=e,{reactData:C,internalData:g}=r,{computeTreeOpts:F}=r.getComputeMaps(),{treeExpandedMaps:O,treeExpandLazyLoadedMaps:N}=C,{fullAllDataRowIdData:d}=g,h=F.value,{row:b,column:B,level:L}=e,{slots:X}=B,{indent:D,lazy:M,trigger:k,iconLoaded:v,showIcon:x,iconOpen:y,iconClose:S}=h,w=h.children||h.childrenField,$=h.hasChild||h.hasChildField,q=b[w],Y=q&&q.length,ue=X?X.icon:null;let Ce=!1,P=!1,oe=!1,we=!1;const Ee={};if(ue)return r.callSlot(ue,e);if(!a){const Le=ve(r,b);if(P=!!O[Le],M){const $e=d[Le];oe=!!N[Le],Ce=b[$],we=!!$e.treeLoaded}}return(!k||k==="default")&&(Ee.onClick=Le=>{r.triggerTreeExpandEvent(Le,e)}),[u("div",{class:["vxe-cell--tree-node",{"is--active":P}],style:{paddingLeft:`${L*D}px`}},[x&&(M?we?Y:Ce:Y)?[u("div",Object.assign({class:"vxe-tree--btn-wrapper"},Ee),[u("i",{class:["vxe-tree--node-btn",oe?v||Lt().TABLE_TREE_LOADED:P?y||Lt().TABLE_TREE_OPEN:S||Lt().TABLE_TREE_CLOSE]})])]:null,u("div",{class:"vxe-tree-cell"},l)])]},renderSeqHeader(e){const{$table:l,column:r}=e,{slots:a}=r,C=a?a.header:null;return al(e,C?l.callSlot(C,e):Pt(r.getTitle(),1))},renderSeqCell(e){const{$table:l,column:r}=e,{props:a}=l,{treeConfig:C}=a,{computeSeqOpts:g}=l.getComputeMaps(),F=g.value,{slots:O}=r,N=O?O.default:null;if(N)return no(e,l.callSlot(N,e));const{seq:d}=e,h=F.seqMethod;return no(e,[u("span",`${Pt(h?h(e):C?d:(F.startIndex||0)+d,1)}`)])},renderTreeIndexCell(e){return Ke.renderTreeIcon(e,Ke.renderSeqCell(e))},renderRadioHeader(e){const{$table:l,column:r}=e,{slots:a}=r,C=a?a.header:null,g=a?a.title:null;return al(e,C?l.callSlot(C,e):[u("span",{class:"vxe-radio--label"},g?l.callSlot(g,e):Pt(r.getTitle(),1))])},renderRadioCell(e){const{$table:l,column:r,isHidden:a}=e,{reactData:C}=l,{computeRadioOpts:g}=l.getComputeMaps(),{selectRadioRow:F}=C,O=g.value,{slots:N}=r,{labelField:d,checkMethod:h,visibleMethod:b}=O,{row:B}=e,L=N?N.default:null,X=N?N.radio:null,D=l.eqRow(B,F),M=!b||b({row:B});let k=!!h,v;a||(v={onClick(S){!k&&M&&l.triggerRadioRowEvent(S,e)}},h&&(k=!h({row:B})));const x=Object.assign(Object.assign({},e),{checked:D,disabled:k,visible:M});if(X)return no(e,l.callSlot(X,x));const y=[];return M&&y.push(u("span",{class:["vxe-radio--icon",D?Lt().TABLE_RADIO_CHECKED:Lt().TABLE_RADIO_UNCHECKED]})),(L||d)&&y.push(u("span",{class:"vxe-radio--label"},L?l.callSlot(L,x):s.get(B,d))),no(e,[u("span",Object.assign({class:["vxe-cell--radio",{"is--checked":D,"is--disabled":k}]},v),y)])},renderTreeRadioCell(e){return Ke.renderTreeIcon(e,Ke.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:l,column:r,isHidden:a}=e,{reactData:C}=l,{computeIsAllCheckboxDisabled:g,computeCheckboxOpts:F}=l.getComputeMaps(),{isAllSelected:O,isIndeterminate:N}=C,d=g.value,{slots:h}=r,b=h?h.header:null,B=h?h.title:null,L=F.value,X=r.getTitle();let D;a||(D={onClick(k){d||l.triggerCheckAllEvent(k,!O)}});const M=Object.assign(Object.assign({},e),{checked:O,disabled:d,indeterminate:N});return b?al(M,l.callSlot(b,M)):(L.checkStrictly?!L.showHeader:L.showHeader===!1)?al(M,[u("span",{class:"vxe-checkbox--label"},B?l.callSlot(B,M):X)]):al(M,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":O,"is--disabled":d,"is--indeterminate":N}],title:bn("vxe.table.allTitle")},D),[u("span",{class:["vxe-checkbox--icon",N?Lt().TABLE_CHECKBOX_INDETERMINATE:O?Lt().TABLE_CHECKBOX_CHECKED:Lt().TABLE_CHECKBOX_UNCHECKED]})].concat(B||X?[u("span",{class:"vxe-checkbox--label"},B?l.callSlot(B,M):X)]:[]))])},renderCheckboxCell(e){const{$table:l,row:r,column:a,isHidden:C}=e,{props:g,reactData:F}=l,{treeConfig:O}=g,{selectCheckboxMaps:N,treeIndeterminateMaps:d}=F,{computeCheckboxOpts:h}=l.getComputeMaps(),b=h.value,{labelField:B,checkMethod:L,visibleMethod:X}=b,{slots:D}=a,M=D?D.default:null,k=D?D.checkbox:null;let v=!1,x=!1;const y=!X||X({row:r});let S=!!L,w;if(!C){const Y=ve(l,r);x=!!N[Y],w={onClick(ue){!S&&y&&l.triggerCheckRowEvent(ue,e,!x)}},L&&(S=!L({row:r})),O&&(v=!!d[Y])}const $=Object.assign(Object.assign({},e),{checked:x,disabled:S,visible:y,indeterminate:v});if(k)return no(e,l.callSlot(k,$));const q=[];return y&&q.push(u("span",{class:["vxe-checkbox--icon",v?Lt().TABLE_CHECKBOX_INDETERMINATE:x?Lt().TABLE_CHECKBOX_CHECKED:Lt().TABLE_CHECKBOX_UNCHECKED]})),(M||B)&&q.push(u("span",{class:"vxe-checkbox--label"},M?l.callSlot(M,$):s.get(r,B))),no(e,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":x,"is--disabled":S,"is--indeterminate":v,"is--hidden":!y}]},w),q)])},renderTreeSelectionCell(e){return Ke.renderTreeIcon(e,Ke.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:l,row:r,column:a,isHidden:C}=e,{props:g,reactData:F}=l,{treeConfig:O}=g,{treeIndeterminateMaps:N}=F,{computeCheckboxOpts:d}=l.getComputeMaps(),h=d.value,{labelField:b,checkField:B,checkMethod:L,visibleMethod:X}=h,D=h.indeterminateField||h.halfField,{slots:M}=a,k=M?M.default:null,v=M?M.checkbox:null;let x=!1,y=!1;const S=!X||X({row:r});let w=!!L,$;if(!C){const ue=ve(l,r);y=s.get(r,B),$={onClick(Ce){!w&&S&&l.triggerCheckRowEvent(Ce,e,!y)}},L&&(w=!L({row:r})),O&&(x=!!N[ue])}const q=Object.assign(Object.assign({},e),{checked:y,disabled:w,visible:S,indeterminate:x});if(v)return no(e,l.callSlot(v,q));const Y=[];return S&&(Y.push(u("span",{class:["vxe-checkbox--icon",x?Lt().TABLE_CHECKBOX_INDETERMINATE:y?Lt().TABLE_CHECKBOX_CHECKED:Lt().TABLE_CHECKBOX_UNCHECKED]})),(k||b)&&Y.push(u("span",{class:"vxe-checkbox--label"},k?l.callSlot(k,q):s.get(r,b)))),no(e,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":w,"is--indeterminate":D&&!y?r[D]:x,"is--hidden":!S}]},$),Y)])},renderTreeSelectionCellByProp(e){return Ke.renderTreeIcon(e,Ke.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:l,isHidden:r,row:a,column:C}=e,{reactData:g}=l,{rowExpandedMaps:F,rowExpandLazyLoadedMaps:O}=g,{computeExpandOpts:N}=l.getComputeMaps(),d=N.value,{lazy:h,labelField:b,iconLoaded:B,showIcon:L,iconOpen:X,iconClose:D,visibleMethod:M}=d,{slots:k}=C,v=k?k.default:null,x=k?k.icon:null;let y=!1,S=!1;if(x)return no(e,l.callSlot(x,e));if(!r){const w=ve(l,a);y=!!F[w],h&&(S=!!O[w])}return no(e,[L&&(!M||M(e))?u("span",{class:["vxe-table--expanded",{"is--active":y}],onClick(w){l.triggerRowExpandEvent(w,e)}},[u("i",{class:["vxe-table--expand-btn",S?B||Lt().TABLE_EXPAND_LOADED:y?X||Lt().TABLE_EXPAND_OPEN:D||Lt().TABLE_EXPAND_CLOSE]})]):nr(l),v||b?u("span",{class:"vxe-table--expand-label"},v?l.callSlot(v,e):s.get(a,b)):nr(l)])},renderExpandData(e){const{$table:l,column:r}=e,{slots:a,contentRender:C}=r,g=a?a.content:null;if(g)return l.callSlot(g,e);if(C){const F=ln.get(C.name);if(F){const O=F.renderTableExpand||F.renderExpand;if(O)return wo(O(C,e))}}return[]},renderHTMLCell(e){const{$table:l,column:r}=e,{slots:a}=r,C=a?a.default:null;return C?no(e,l.callSlot(C,e)):no(e,[u("span",{class:"vxe-cell--html",innerHTML:rr(e)})])},renderTreeHTMLCell(e){return Ke.renderTreeIcon(e,Ke.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Ke.renderDefaultHeader(e).concat(Ke.renderSortIcon(e)).concat(Ke.renderFilterIcon(e))},renderSortHeader(e){return Ke.renderDefaultHeader(e).concat(Ke.renderSortIcon(e))},renderSortIcon(e){const{$table:l,column:r}=e,{computeSortOpts:a}=l.getComputeMaps(),C=a.value,{showIcon:g,iconLayout:F,iconAsc:O,iconDesc:N}=C,{order:d}=r;return g?[u("span",{class:["vxe-cell--sort",`vxe-cell--sort-${F}-layout`]},[u("i",{class:["vxe-sort--asc-btn",O||Lt().TABLE_SORT_ASC,{"sort--active":d==="asc"}],title:bn("vxe.table.sortAsc"),onClick(h){h.stopPropagation(),l.triggerSortEvent(h,r,"asc")}}),u("i",{class:["vxe-sort--desc-btn",N||Lt().TABLE_SORT_DESC,{"sort--active":d==="desc"}],title:bn("vxe.table.sortDesc"),onClick(h){h.stopPropagation(),l.triggerSortEvent(h,r,"desc")}})])]:[]},renderFilterHeader(e){return Ke.renderDefaultHeader(e).concat(Ke.renderFilterIcon(e))},renderFilterIcon(e){const{$table:l,column:r,hasFilter:a}=e,{reactData:C}=l,{filterStore:g}=C,{computeFilterOpts:F}=l.getComputeMaps(),O=F.value,{showIcon:N,iconNone:d,iconMatch:h}=O;return N?[u("span",{class:["vxe-cell--filter",{"is--active":g.visible&&g.column===r}]},[u("i",{class:["vxe-filter--btn",a?h||Lt().TABLE_FILTER_MATCH:d||Lt().TABLE_FILTER_NONE],title:bn("vxe.table.filter"),onClick(b){l.triggerFilterEvent&&l.triggerFilterEvent(b,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:l,column:r}=e,{props:a}=l,{computeEditOpts:C}=l.getComputeMaps(),{editConfig:g,editRules:F}=a,O=C.value,{sortable:N,filters:d,editRender:h}=r;let b=!1;if(F){const B=s.get(F,r.field);B&&(b=B.some(L=>L.required))}return(ot(g)?[b&&O.showAsterisk?u("i",{class:"vxe-cell--required-icon"}):null,ot(h)&&O.showIcon?u("i",{class:["vxe-cell--edit-icon",O.icon||Lt().TABLE_EDIT]}):null]:[]).concat(Ke.renderDefaultHeader(e)).concat(N?Ke.renderSortIcon(e):[]).concat(d?Ke.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:l,column:r}=e,{reactData:a}=l,{editStore:C}=a,{actived:g}=C,{editRender:F}=r;return Ke.runRenderer(e,ot(F)&&g&&g.row===e.row)},renderTreeRowEdit(e){return Ke.renderTreeIcon(e,Ke.renderRowEdit(e))},renderCellEdit(e){const{$table:l,column:r}=e,{reactData:a}=l,{editStore:C}=a,{actived:g}=C,{editRender:F}=r;return Ke.runRenderer(e,ot(F)&&g&&g.row===e.row&&g.column===e.column)},renderTreeCellEdit(e){return Ke.renderTreeIcon(e,Ke.renderCellEdit(e))},runRenderer(e,l){const{$table:r,column:a}=e,{slots:C,editRender:g,formatter:F}=a,O=C?C.default:null,N=C?C.edit:null,d=ln.get(g.name),h=d?d.renderTableEdit||d.renderEdit:null,b=Object.assign({$type:"",isEdit:l},e);return l?(b.$type="edit",N?r.callSlot(N,b):h?wo(h(g,b)):[]):O?no(e,r.callSlot(O,b)):F?no(e,[u("span",{class:"vxe-cell--label"},rr(b))]):Ke.renderDefaultCell(b)}},Jr={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},fl=Eo({name:"VxeColumn",props:Jr,setup(e,{slots:l}){const r=Pe(),a=ro("$xeTable",null),C=ro("$xeColgroup",null);if(!a)return()=>He();const g=Ke.createColumn(a,e);g.slots=l;const F=()=>u("div",{ref:r}),O={columnConfig:g,renderVN:F};return Kr(a,e,g),Ol(()=>{const N=r.value;N&&Yr(a,N,g,C)}),Sl(()=>{Ur(a,g)}),yl("$xeColumn",O),yl("$xeGrid",null),F}}),Ts=Object.assign({},fl,{install(e){e.component(fl.name,fl),e.component("VxeTableColumn",fl)}});J.dynamicApp&&(J.dynamicApp.component(fl.name,fl),J.dynamicApp.component("VxeTableColumn",fl));J.component(fl);const Sa=Ts,pl=Eo({name:"VxeColgroup",props:Jr,setup(e,{slots:l}){const r=Pe(),a=ro("$xeTable",null),C=ro("$xeColgroup",null);if(!a)return()=>He();const g=Ke.createColumn(a,e),F={};l.header&&(F.header=l.header),g.slots=F,g.children=[],Kr(a,e,g),Ol(()=>{const d=r.value;d&&Yr(a,d,g,C)}),Sl(()=>{Ur(a,g)});const O=()=>u("div",{ref:r},l.default?l.default():[]);return yl("$xeColgroup",{columnConfig:g}),yl("$xeGrid",null),O}}),ks=Object.assign({},pl,{install(e){e.component(pl.name,pl),e.component("VxeTableColgroup",pl)}});J.dynamicApp&&(J.dynamicApp.component(pl.name,pl),J.dynamicApp.component("VxeTableColgroup",pl));J.component(pl);const Ma=ks,{getI18n:Ta,renderer:ir}=J,Cl="body",ka={mini:3,small:2,medium:1},ar=Eo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const l=ro("$xeTable",{}),r=ro("xesize",null),{xID:a,props:C,context:g,reactData:F,internalData:O}=l,{refTableBody:N,refTableHeader:d,refTableFooter:h,refTableLeftBody:b,refTableRightBody:B,refScrollXHandleElem:L,refScrollYHandleElem:X}=l.getRefMaps(),{computeEditOpts:D,computeMouseOpts:M,computeSYOpts:k,computeEmptyOpts:v,computeKeyboardOpts:x,computeTooltipOpts:y,computeRadioOpts:S,computeExpandOpts:w,computeTreeOpts:$,computeCheckboxOpts:q,computeCellOpts:Y,computeValidOpts:ue,computeRowOpts:Ce,computeColumnOpts:P}=l.getComputeMaps(),oe=Pe(),we=Pe(),Ee=Pe(),Le=Pe(),$e=Pe(),A=Pe(),W=Pe(),_=()=>{if(r){const ge=r.value;if(ge)return ka[ge]||0}return 0},Q=()=>{const{delayHover:ge}=C,{lastScrollTime:de,_isResize:ke}=F;return!!(ke||de&&Date.now()<de+ge)},fe=(ge,de)=>{let ke=1;if(!ge)return ke;const et=$.value,qe=et.children||et.childrenField,Ae=ge[qe];if(Ae&&l.isTreeExpandByRow(ge))for(let ze=0;ze<Ae.length;ze++)ke+=fe(Ae[ze]);return ke},z=(ge,de,ke)=>{let et=1;return ke&&(et=fe(de[ke-1])),F.rowHeight*et-(ke?1:12-_())},U=ge=>{const{row:de,column:ke}=ge,{afterFullData:et}=O,{treeConfig:qe}=C,Ae=$.value,{slots:ze,treeNode:Xe}=ke,{fullAllDataRowIdData:Fe}=O,ce=ve(l,de),je=Fe[ce];let Ie=0,Oe=0,Ye=[];if(je&&(Ie=je.level,Oe=je._index,Ye=je.items),ze&&ze.line)return l.callSlot(ze.line,ge);const Je=l.eqRow(et[0],de);return qe&&Xe&&(Ae.showLine||Ae.line)?[u("div",{class:"vxe-tree--line-wrapper"},[u("div",{class:"vxe-tree--line",style:{height:`${Je?1:z(ge,Ye,Oe)}px`,left:`${Ie*Ae.indent+(Ie?2-_():0)+16}px`}})])]:[]},le=(ge,de,ke,et,qe,Ae,ze,Xe,Fe,ce,je,Ie)=>{const{fullAllDataRowIdData:Oe}=O,{columnKey:Ye,height:Je,showOverflow:Ge,cellClassName:V,cellStyle:ee,align:se,spanMethod:De,mouseConfig:ye,editConfig:We,editRules:Ze,tooltipConfig:ht}=C,{tableData:ct,overflowX:qt,currentColumn:it,scrollYLoad:lt,mergeList:gt,editStore:io,isAllOverflow:eo,validErrorMaps:to}=F,{afterFullData:Ft}=O,_t=Y.value,mt=ue.value,yo=q.value,rt=D.value,Mo=y.value,oo=Ce.value,It=k.value,m=P.value,{type:bt,cellRender:Mt,editRender:At,align:jt,showOverflow:Ht,className:Xt,treeNode:zt,slots:Bt}=Fe,{verticalAlign:co}=_t,{actived:Ot}=io,{rHeight:Ct}=It,{height:Kt}=oo,To=Fe.id,Wo=At||Mt,ko=Wo?ir.get(Wo.name):null,Vn=ko?ko.tableCellClassName||ko.cellClassName:null,Ml=ko?ko.tableCellStyle||ko.cellStyle:"",hl=Mo.showAll,jn=l.getColumnIndex(Fe),ql=l.getVTColumnIndex(Fe),gl=ot(At);let qo=ke?Fe.fixed!==ke:Fe.fixed&&qt;const ol=s.isUndefined(Ht)||s.isNull(Ht)?Ge:Ht,$o=ol==="ellipsis",ll=ol==="title",Vt=ol===!0||ol==="tooltip",Fo=ll||Vt||$o;let Tl;const nl={},Nn=Oe[de],sn=jt||(ko?ko.tableCellAlign:"")||se,ml=to[`${de}:${To}`],Pn=Ze&&mt.showMessage&&(mt.message==="default"?Je||ct.length>1:mt.message==="inline"),ao={colid:To},Wt={$table:l,$grid:l.xegrid,isEdit:!1,seq:ge,rowid:de,row:qe,rowIndex:Ae,$rowIndex:ze,_rowIndex:Xe,column:Fe,columnIndex:jn,$columnIndex:ce,_columnIndex:ql,fixed:ke,type:Cl,isHidden:qo,level:et,visibleData:Ft,data:ct,items:Ie};if((ll||Vt||hl||ht)&&(nl.onMouseenter=St=>{Q()||(ll?Ms(St.currentTarget,Fe):(Vt||hl)&&l.triggerBodyTooltipEvent(St,Wt),l.dispatchEvent("cell-mouseenter",Object.assign({cell:St.currentTarget},Wt),St))}),(Vt||hl||ht)&&(nl.onMouseleave=St=>{Q()||((Vt||hl)&&l.handleTargetLeaveEvent(St),l.dispatchEvent("cell-mouseleave",Object.assign({cell:St.currentTarget},Wt),St))}),(yo.range||ye)&&(nl.onMousedown=St=>{l.triggerCellMousedownEvent(St,Wt)}),nl.onClick=St=>{l.triggerCellClickEvent(St,Wt)},nl.onDblclick=St=>{l.triggerCellDblclickEvent(St,Wt)},gt.length){const St=Gr(gt,Xe,ql);if(St){const{rowspan:Ro,colspan:Xo}=St;if(!Ro||!Xo)return null;Ro>1&&(ao.rowspan=Ro),Xo>1&&(ao.colspan=Xo)}}else if(De){const{rowspan:St=1,colspan:Ro=1}=De(Wt)||{};if(!St||!Ro)return null;St>1&&(ao.rowspan=St),Ro>1&&(ao.colspan=Ro)}qo&&gt&&(ao.colspan>1||ao.rowspan>1)&&(qo=!1),!qo&&We&&(At||Mt)&&(rt.showStatus||rt.showUpdateStatus)&&(Tl=l.isUpdateByRow(qe,Fe.field));const Io=[];if(qo&&Ge&&eo)Io.push(u("div",{class:["vxe-cell",{"c--title":ll,"c--tooltip":Vt,"c--ellipsis":$o}],style:{maxHeight:Fo&&(Ct||Kt)?`${Ct||Kt}px`:""}}));else if(Io.push(...U(Wt),u("div",{class:["vxe-cell",{"c--title":ll,"c--tooltip":Vt,"c--ellipsis":$o}],style:{maxHeight:Fo&&(Ct||Kt)?`${Ct||Kt}px`:""},title:ll?l.getCellLabel(qe,Fe):null},Fe.renderCell(Wt))),Pn&&ml){const St=ml.rule,Ro=Bt?Bt.valid:null,Xo=Object.assign(Object.assign({},Wt),ml);Io.push(u("div",{class:["vxe-cell--valid-error-tip",dl(mt.className,Xo)],style:St&&St.maxWidth?{width:`${St.maxWidth}px`}:null},[u("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${mt.theme||"normal"}`},[Ro?l.callSlot(Ro,Xo):[u("span",{class:"vxe-cell--valid-error-msg"},ml.content)]])]))}let bl="";return Fo&&(Ct||Kt)?bl=`${Ct||Kt}px`:lt&&(Fo||(bl=`${Nn.height||24}px`)),u("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",To,{[`col--${sn}`]:sn,[`col--vertical-${co}`]:co,[`col--${bt}`]:bt,"col--last":ce===je.length-1,"col--tree-node":zt,"col--edit":gl,"col--ellipsis":Fo,"fixed--hidden":qo,"col--dirty":Tl,"col--active":We&&gl&&Ot.row===qe&&(Ot.column===Fe||rt.mode==="row"),"col--valid-error":!!ml,"col--current":it===Fe},dl(Vn,Wt),dl(Xt,Wt),dl(V,Wt)],key:Ye||m.useKey||oo.useKey?To:ce},ao),{style:Object.assign({height:bl},s.isFunction(Ml)?Ml(Wt):Ml,s.isFunction(ee)?ee(Wt):ee)}),nl),Io)},re=(ge,de,ke)=>{const{stripe:et,rowKey:qe,highlightHoverRow:Ae,rowClassName:ze,rowStyle:Xe,showOverflow:Fe,editConfig:ce,treeConfig:je}=C,{hasFixedColumn:Ie,treeExpandedMaps:Oe,scrollYLoad:Ye,rowExpandedMaps:Je,expandColumn:Ge,selectRadioRow:V,pendingRowMaps:ee,pendingRowList:se}=F,{fullAllDataRowIdData:De}=O,ye=q.value,We=S.value,Ze=$.value,ht=D.value,ct=Ce.value,{transform:qt}=Ze,it=Ze.children||Ze.childrenField,lt=[];return de.forEach((gt,io)=>{const eo={};let to=io;to=l.getRowIndex(gt),(ct.isHover||Ae)&&(eo.onMouseenter=Mt=>{Q()||l.triggerHoverEvent(Mt,{row:gt,rowIndex:to})},eo.onMouseleave=()=>{Q()||l.clearHoverRow()}),ct.drag&&(eo.onDragstart=l.handleRowDragDragstartEvent,eo.onDragend=l.handleRowDragDragendEvent,eo.onDragover=l.handleRowDragDragoverEvent);const Ft=ve(l,gt),_t=De[Ft];let mt=0,yo=-1,rt=0;_t&&(mt=_t.level,yo=_t.seq,rt=_t._index);const Mo={$table:l,seq:yo,rowid:Ft,fixed:ge,type:Cl,level:mt,row:gt,rowIndex:to,$rowIndex:io,_rowIndex:rt},oo=Ge&&!!Je[Ft];let It=!1,m=[],bt=!1;if(ce&&(bt=l.isInsertByRow(gt)),je&&!Ye&&!qt&&(m=gt[it],It=m&&m.length>0&&!!Oe[Ft]),lt.push(u("tr",Object.assign({class:["vxe-body--row",je?`row--level-${mt}`:"",{"row--stripe":et&&(l.getVTRowIndex(gt)+1)%2===0,"is--new":bt,"is--expand-row":oo,"is--expand-tree":It,"row--new":bt&&(ht.showStatus||ht.showInsertStatus),"row--radio":We.highlight&&l.eqRow(V,gt),"row--checked":ye.highlight&&l.isCheckedByCheckboxRow(gt),"row--pending":se.length&&!!ee[Ft]},dl(ze,Mo)],rowid:Ft,style:Xe?s.isFunction(Xe)?Xe(Mo):Xe:null,key:qe||ct.useKey||ct.drag||je?Ft:io},eo),ke.map((Mt,At)=>le(yo,Ft,ge,mt,gt,to,io,rt,Mt,At,ke,de)))),oo){const Mt=w.value,{height:At,padding:jt}=Mt,Ht={};At&&(Ht.height=`${At}px`),je&&(Ht.paddingLeft=`${mt*Ze.indent+30}px`);const{showOverflow:Xt}=Ge,zt=s.isUndefined(Xt)||s.isNull(Xt)?Fe:Xt,Bt={$table:l,seq:yo,column:Ge,fixed:ge,type:Cl,level:mt,row:gt,rowIndex:to,$rowIndex:io,_rowIndex:rt};lt.push(u("tr",Object.assign({class:["vxe-body--expanded-row",{"is--padding":jt}],key:`expand_${Ft}`,style:Xe?s.isFunction(Xe)?Xe(Bt):Xe:null},eo),[u("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":ge&&!Ie,"col--ellipsis":zt},colspan:ke.length},[u("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":At},style:Ht},[Ge.renderData(Bt)])])]))}It&&lt.push(...re(ge,m,ke))}),lt},Me=ge=>{const{fixedType:de}=e,{lastScrollTop:ke,lastScrollLeft:et}=O,qe=d.value,Ae=N.value,ze=h.value,Xe=b.value,Fe=B.value,ce=oe.value,je=qe?qe.$el:null,Ie=ze?ze.$el:null,Oe=Ae.$el,Ye=Xe?Xe.$el:null,Je=Fe?Fe.$el:null,Ge=ce.scrollTop,V=Oe.scrollLeft,ee=V!==et,se=Ge!==ke,De=L.value,ye=X.value;ye?ye.scrollTop=Ge:se&&(Ye&&de==="left"?($t(Oe,Ge),$t(Je,Ge)):Je&&de==="right"?($t(Oe,Ge),$t(Ye,Ge)):($t(Ye,Ge),$t(Je,Ge)),l.handleScrollEvent(ge,se,ee,Ge,V,{type:Cl,fixed:de})),De?De.scrollLeft=V:ee&&(Ut(je,V),Ut(Ie,V),l.handleScrollEvent(ge,se,ee,Ge,V,{type:Cl,fixed:de}))};let K,be=0,pe=0,xe=0,ae=!1;const he=(ge,de,ke,et,qe)=>{const{elemStore:Ae}=O,{scrollXLoad:ze,scrollYLoad:Xe}=F,Fe=N.value,ce=b.value,je=B.value,Ie=ce?ce.$el:null,Oe=je?je.$el:null,Ye=Fe.$el,Je=Ae["main-body-ySpace"],Ge=Je?Je.value:null,V=Ae["main-body-xSpace"],ee=V?V.value:null,se=Xe&&Ge?Ge.clientHeight:Ye.clientHeight,De=ze&&ee?ee.clientWidth:Ye.clientWidth,ye=ae===de?Math.max(0,be-xe):0;ae=de,be=Math.abs(de?ke-ye:ke+ye),pe=0,xe=0,clearTimeout(K);const We=()=>{if(xe<be){const{fixedType:Ze}=e;pe=Math.max(5,Math.floor(pe*1.5)),xe=xe+pe,xe>be&&(pe=pe-(xe-be));const{scrollTop:ht,clientHeight:ct,scrollHeight:qt}=Ye,it=ht+pe*(de?-1:1);Ye.scrollTop=it,Ie&&(Ie.scrollTop=it),Oe&&(Oe.scrollTop=it),(de?it<qt-ct:it>=0)&&(K=setTimeout(We,10)),l.dispatchEvent("scroll",{type:Cl,fixed:Ze,scrollTop:Ye.scrollTop,scrollLeft:Ye.scrollLeft,scrollHeight:Ye.scrollHeight,scrollWidth:Ye.scrollWidth,bodyHeight:se,bodyWidth:De,isX:et,isY:qe},ge)}};We()},Se=ge=>{const{deltaY:de,deltaX:ke}=ge,{highlightHoverRow:et}=C,{scrollYLoad:qe}=F,{lastScrollTop:Ae,lastScrollLeft:ze}=O,Xe=Ce.value,Fe=N.value,ce=oe.value,je=Fe.$el,Ie=de,Oe=ke,Ye=Ie<0;if(Ye?ce.scrollTop<=0:ce.scrollTop>=ce.scrollHeight-ce.clientHeight)return;const Je=ce.scrollTop+Ie,Ge=je.scrollLeft+Oe,V=Ge!==ze,ee=Je!==Ae;ee&&(ge.preventDefault(),O.lastScrollTop=Je,O.lastScrollLeft=Ge,F.lastScrollTime=Date.now(),(Xe.isHover||et)&&l.clearHoverRow(),he(ge,Ye,Ie,V,ee),qe&&l.triggerScrollYEvent(ge))};return Ol(()=>{ne(()=>{const{fixedType:ge}=e,{elemStore:de}=O,ke=`${ge||"main"}-body-`;de[`${ke}wrapper`]=oe,de[`${ke}table`]=we,de[`${ke}colgroup`]=Ee,de[`${ke}list`]=Le,de[`${ke}xSpace`]=$e,de[`${ke}ySpace`]=A,de[`${ke}emptyBlock`]=W})}),Dr(()=>{clearTimeout(K)}),Sl(()=>{const{fixedType:ge}=e,{elemStore:de}=O,ke=`${ge||"main"}-body-`;de[`${ke}wrapper`]=null,de[`${ke}table`]=null,de[`${ke}colgroup`]=null,de[`${ke}list`]=null,de[`${ke}xSpace`]=null,de[`${ke}ySpace`]=null,de[`${ke}emptyBlock`]=null}),()=>{let{fixedColumn:ge,fixedType:de,tableColumn:ke}=e;const{keyboardConfig:et,showOverflow:qe,spanMethod:Ae,mouseConfig:ze}=C,{tableData:Xe,mergeList:Fe,scrollYLoad:ce,isAllOverflow:je,isDragRowMove:Ie}=F,{visibleColumn:Oe}=O,{slots:Ye}=g,Je=Ce.value,Ge=k.value,V=v.value,ee=x.value,se=M.value;de&&(!F.expandColumn&&(ce||qe&&je)&&!Fe.length&&!Ae&&!(et&&ee.isMerge)?ke=ge:ke=Oe);let De;const ye=Ye?Ye.empty:null;if(ye)De=l.callSlot(ye,{$table:l,$grid:l.xegrid});else{const We=V.name?ir.get(V.name):null,Ze=We?We.renderTableEmpty||We.renderTableEmptyView||We.renderEmpty:null;Ze?De=wo(Ze(V,{$table:l})):De=C.emptyText||Ta("vxe.table.emptyText")}return u("div",Object.assign({ref:oe,class:["vxe-table--body-wrapper",de?`fixed-${de}--wrapper`:"body--wrapper"],xid:a,onScroll:Me},Ge.mode==="wheel"?{onWheel:Se}:{}),[de?He():u("div",{ref:$e,class:"vxe-body--x-space"}),u("div",{ref:A,class:"vxe-body--y-space"}),u("table",{ref:we,class:"vxe-table--body",xid:a,cellspacing:0,cellpadding:0,border:0},[u("colgroup",{ref:Ee},ke.map((We,Ze)=>u("col",{name:We.id,key:Ze}))),Je.drag?u(vs,{name:`vxe-body--row-list${Ie?"":"-disabled"}`,tag:"tbody"},{default:()=>re(de,Xe,ke)}):u("tbody",{ref:Le},re(de,Xe,ke))]),u("div",{class:"vxe-table--checkbox-range"}),ze&&se.area?u("div",{class:"vxe-table--cell-area"},[u("span",{class:"vxe-table--cell-main-area"},se.extension?[u("span",{class:"vxe-table--cell-main-area-btn",onMousedown(We){l.triggerCellExtendMousedownEvent(We,{$table:l,fixed:de,type:Cl})}})]:[]),u("span",{class:"vxe-table--cell-copy-area"}),u("span",{class:"vxe-table--cell-extend-area"}),u("span",{class:"vxe-table--cell-multi-area"}),u("span",{class:"vxe-table--cell-active-area"})]):null,de?null:u("div",{class:"vxe-table--empty-block",ref:W},[u("div",{class:"vxe-table--empty-content"},De)])])}}}),{renderer:Fa}=J,cs="header",cr=Eo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const l=ro("$xeTable",{}),{xID:r,props:a,reactData:C,internalData:g}=l,{refElem:F,refTableBody:O,refLeftContainer:N,refRightContainer:d,refCellResizeBar:h}=l.getRefMaps(),{computeColumnOpts:b}=l.getComputeMaps(),B=Pe([]),L=Pe(),X=Pe(),D=Pe(),M=Pe(),k=Pe(),v=Pe(),x=()=>{const{isGroup:w}=C;B.value=w?ga(e.tableGroupColumn):[]},y=(w,$)=>{const{column:q}=$,{fixedType:Y}=e,ue=O.value,Ce=N.value,P=d.value,oe=h.value,{clientX:we}=w,Ee=L.value,Le=w.target,$e=$.cell=Le.parentNode;let A=0;const W=ue.$el,_=fa(Le,Ee),Q=Le.clientWidth,fe=Math.floor(Q/2),z=ba($)-fe;let U=_.left-$e.clientWidth+Q+z,le=_.left+fe;const re=document.onmousemove,Me=document.onmouseup,K=Y==="left",be=Y==="right",pe=F.value;let xe=0;if(K||be){const he=K?"nextElementSibling":"previousElementSibling";let Se=$e[he];for(;Se&&!Rl(Se,"fixed--hidden");)Rl(Se,"col--group")||(xe+=Se.offsetWidth),Se=Se[he];be&&P&&(le=P.offsetLeft+xe)}const ae=function(he){he.stopPropagation(),he.preventDefault();const Se=he.clientX-we;let Be=le+Se;const ge=Y?0:W.scrollLeft;K?Be=Math.min(Be,(P?P.offsetLeft:W.clientWidth)-xe-z):be?(U=(Ce?Ce.clientWidth:0)+xe+z,Be=Math.min(Be,le+$e.clientWidth-z)):U=Math.max(W.scrollLeft,U),A=Math.max(Be,U),oe.style.left=`${A-ge}px`};C._isResize=!0,Ao(pe,"drag--resize"),oe.style.display="block",document.onmousemove=ae,document.onmouseup=function(he){document.onmousemove=re,document.onmouseup=Me;const Se=q.renderWidth+(be?le-A:A-le);q.resizeWidth=Se,oe.style.display="none",C._isResize=!1,g._lastResizeTime=Date.now(),l.analyColumnWidth(),l.recalculate(!0).then(()=>{l.saveCustomStore("update:visible"),l.updateCellAreas(),l.dispatchEvent("resizable-change",Object.assign(Object.assign({},$),{resizeWidth:Se}),he),setTimeout(()=>l.recalculate(!0),300)}),ho(pe,"drag--resize")},ae(w),l.closeMenu&&l.closeMenu()};return ut(()=>e.tableColumn,x),Ol(()=>{ne(()=>{const{fixedType:w}=e,{internalData:$}=l,{elemStore:q}=$,Y=`${w||"main"}-header-`;q[`${Y}wrapper`]=L,q[`${Y}table`]=X,q[`${Y}colgroup`]=D,q[`${Y}list`]=M,q[`${Y}xSpace`]=k,q[`${Y}repair`]=v,x()})}),Sl(()=>{const{fixedType:w}=e,{internalData:$}=l,{elemStore:q}=$,Y=`${w||"main"}-header-`;q[`${Y}wrapper`]=null,q[`${Y}table`]=null,q[`${Y}colgroup`]=null,q[`${Y}list`]=null,q[`${Y}xSpace`]=null,q[`${Y}repair`]=null}),()=>{const{fixedType:w,fixedColumn:$,tableColumn:q}=e,{resizable:Y,border:ue,columnKey:Ce,headerRowClassName:P,headerCellClassName:oe,headerRowStyle:we,headerCellStyle:Ee,showHeaderOverflow:Le,headerAlign:$e,align:A,mouseConfig:W}=a,{isGroup:_,currentColumn:Q,scrollXLoad:fe,overflowX:z,scrollbarWidth:U}=C,{visibleColumn:le}=g,re=b.value;let Me=B.value,K=q;return _?K=le:(w&&(fe||Le)&&(K=$),Me=[K]),u("div",{ref:L,class:["vxe-table--header-wrapper",w?`fixed-${w}--wrapper`:"body--wrapper"],xid:r},[w?He():u("div",{ref:k,class:"vxe-body--x-space"}),u("table",{ref:X,class:"vxe-table--header",xid:r,cellspacing:0,cellpadding:0,border:0},[u("colgroup",{ref:D},K.map((be,pe)=>u("col",{name:be.id,key:pe})).concat(U?[u("col",{name:"col_gutter"})]:[])),u("thead",{ref:M},Me.map((be,pe)=>u("tr",{class:["vxe-header--row",P?s.isFunction(P)?P({$table:l,$rowIndex:pe,fixed:w,type:cs}):P:""],style:we?s.isFunction(we)?we({$table:l,$rowIndex:pe,fixed:w,type:cs}):we:null},be.map((xe,ae)=>{const{type:he,showHeaderOverflow:Se,headerAlign:Be,align:ge,headerClassName:de,editRender:ke,cellRender:et}=xe,qe=xe.id,Ae=ke||et,ze=Ae?Fa.get(Ae.name):null,Xe=xe.children&&xe.children.length,Fe=w?xe.fixed!==w&&!Xe:!!xe.fixed&&z,ce=s.eqNull(Se)?Le:Se,je=Be||(ze?ze.tableHeaderCellAlign:"")||$e||ge||(ze?ze.tableCellAlign:"")||A;let Ie=ce==="ellipsis";const Oe=ce==="title",Ye=ce===!0||ce==="tooltip";let Je=Oe||Ye||Ie;const Ge=xe.filters&&xe.filters.some(ye=>ye.checked),V=l.getColumnIndex(xe),ee=l.getVTColumnIndex(xe),se={$table:l,$grid:l.xegrid,$rowIndex:pe,column:xe,columnIndex:V,$columnIndex:ae,_columnIndex:ee,fixed:w,type:cs,isHidden:Fe,hasFilter:Ge},De={onClick:ye=>l.triggerHeaderCellClickEvent(ye,se),onDblclick:ye=>l.triggerHeaderCellDblclickEvent(ye,se)};return fe&&!Je&&(Ie=Je=!0),W&&(De.onMousedown=ye=>l.triggerHeaderCellMousedownEvent(ye,se)),u("th",Object.assign(Object.assign({class:["vxe-header--column",qe,{[`col--${je}`]:je,[`col--${he}`]:he,"col--last":ae===be.length-1,"col--fixed":xe.fixed,"col--group":Xe,"col--ellipsis":Je,"fixed--hidden":Fe,"is--sortable":xe.sortable,"col--filter":!!xe.filters,"is--filter-active":Ge,"col--current":Q===xe},de?s.isFunction(de)?de(se):de:"",oe?s.isFunction(oe)?oe(se):oe:""],colid:qe,colspan:xe.colSpan>1?xe.colSpan:null,rowspan:xe.rowSpan>1?xe.rowSpan:null,style:Ee?s.isFunction(Ee)?Ee(se):Ee:null},De),{key:Ce||re.useKey||Xe?qe:ae}),[u("div",{class:["vxe-cell",{"c--title":Oe,"c--tooltip":Ye,"c--ellipsis":Ie}]},xe.renderHeader(se)),!Fe&&!Xe&&(s.isBoolean(xe.resizable)?xe.resizable:re.resizable||Y)?u("div",{class:["vxe-resizable",{"is--line":!ue||ue==="none"}],onMousedown:ye=>y(ye,se)}):null])}).concat(U?[u("th",{class:"vxe-header--gutter col--gutter"})]:[]))))]),u("div",{ref:v,class:"vxe-table--header-border-line"})])}}}),{renderer:Ia}=J,ds="footer";function Da(e,l,r){for(let a=0;a<e.length;a++){const{row:C,col:g,rowspan:F,colspan:O}=e[a];if(g>-1&&C>-1&&F&&O){if(C===l&&g===r)return{rowspan:F,colspan:O};if(l>=C&&l<C+F&&r>=g&&r<g+O)return{rowspan:0,colspan:0}}}}const dr=Eo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const l=ro("$xeTable",{}),{xID:r,props:a,reactData:C,internalData:g}=l,{refTableHeader:F,refTableBody:O,refScrollXHandleElem:N}=l.getRefMaps(),{computeTooltipOpts:d,computeColumnOpts:h}=l.getComputeMaps(),b=Pe(),B=Pe(),L=Pe(),X=Pe(),D=Pe(),M=v=>{const{fixedType:x}=e,y=F.value,S=O.value,w=y?y.$el:null,$=b.value,q=S.$el,Y=$.scrollLeft,ue=N.value;if(ue)ue.scrollLeft=Y;else{const oe=q.scrollTop;Ut(w,Y),Ut(q,Y),l.handleScrollEvent(v,!1,!0,oe,Y,{type:ds,fixed:x})}};return Ol(()=>{ne(()=>{const{fixedType:v}=e,{elemStore:x}=g,y=`${v||"main"}-footer-`;x[`${y}wrapper`]=b,x[`${y}table`]=B,x[`${y}colgroup`]=L,x[`${y}list`]=X,x[`${y}xSpace`]=D})}),Sl(()=>{const{fixedType:v}=e,{elemStore:x}=g,y=`${v||"main"}-footer-`;x[`${y}wrapper`]=null,x[`${y}table`]=null,x[`${y}colgroup`]=null,x[`${y}list`]=null,x[`${y}xSpace`]=null}),()=>{let{fixedType:v,fixedColumn:x,tableColumn:y,footerTableData:S}=e;const{footerRowClassName:w,footerCellClassName:$,footerRowStyle:q,footerCellStyle:Y,footerAlign:ue,footerSpanMethod:Ce,align:P,columnKey:oe,showFooterOverflow:we}=a,{visibleColumn:Ee}=g,{scrollXLoad:Le,overflowX:$e,scrollbarWidth:A,currentColumn:W,mergeFooterList:_}=C,Q=d.value,fe=h.value;return v&&(!C.expandColumn&&(Le||we)&&(!_.length||!Ce)?y=x:y=Ee),u("div",{ref:b,class:["vxe-table--footer-wrapper",v?`fixed-${v}--wrapper`:"body--wrapper"],xid:r,onScroll:M},[v?He():u("div",{ref:D,class:"vxe-body--x-space"}),u("table",{ref:B,class:"vxe-table--footer",xid:r,cellspacing:0,cellpadding:0,border:0},[u("colgroup",{ref:L},y.map((z,U)=>u("col",{name:z.id,key:U})).concat(A?[u("col",{name:"col_gutter"})]:[])),u("tfoot",{ref:X},S.map((z,U)=>{const le=U,re={$table:l,row:z,_rowIndex:U,$rowIndex:le,fixed:v,type:ds};return u("tr",{class:["vxe-footer--row",w?s.isFunction(w)?w(re):w:""],style:q?s.isFunction(q)?q(re):q:null},y.map((Me,K)=>{const{type:be,showFooterOverflow:pe,footerAlign:xe,align:ae,footerClassName:he,editRender:Se,cellRender:Be}=Me,ge=Se||Be,de=ge?Ia.get(ge.name):null,ke=Q.showAll,et=Me.children&&Me.children.length,qe=v?Me.fixed!==v&&!et:Me.fixed&&$e,Ae=s.eqNull(pe)?we:pe,ze=xe||(de?de.tableFooterCellAlign:"")||ue||ae||(de?de.tableCellAlign:"")||P;let Xe=Ae==="ellipsis";const Fe=Ae==="title",ce=Ae===!0||Ae==="tooltip";let je=Fe||ce||Xe;const Ie={colid:Me.id},Oe={},Ye=l.getColumnIndex(Me),Je=l.getVTColumnIndex(Me),Ge=Je,V={$table:l,$grid:l.xegrid,row:z,rowIndex:U,_rowIndex:U,$rowIndex:le,column:Me,columnIndex:Ye,$columnIndex:K,_columnIndex:Je,itemIndex:Ge,items:z,fixed:v,type:ds,data:S};if(Le&&!je&&(Xe=je=!0),(Fe||ce||ke)&&(Oe.onMouseenter=ee=>{Fe?Ms(ee.currentTarget,Me):(ce||ke)&&l.triggerFooterTooltipEvent(ee,V)}),(ce||ke)&&(Oe.onMouseleave=ee=>{(ce||ke)&&l.handleTargetLeaveEvent(ee)}),Oe.onClick=ee=>{l.dispatchEvent("footer-cell-click",Object.assign({cell:ee.currentTarget},V),ee)},Oe.onDblclick=ee=>{l.dispatchEvent("footer-cell-dblclick",Object.assign({cell:ee.currentTarget},V),ee)},_.length){const ee=Da(_,U,Je);if(ee){const{rowspan:se,colspan:De}=ee;if(!se||!De)return null;se>1&&(Ie.rowspan=se),De>1&&(Ie.colspan=De)}}else if(Ce){const{rowspan:ee=1,colspan:se=1}=Ce(V)||{};if(!ee||!se)return null;ee>1&&(Ie.rowspan=ee),se>1&&(Ie.colspan=se)}return u("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",Me.id,{[`col--${ze}`]:ze,[`col--${be}`]:be,"col--last":K===y.length-1,"fixed--hidden":qe,"col--ellipsis":je,"col--current":W===Me},dl(he,V),dl($,V)]},Ie),{style:Y?s.isFunction(Y)?Y(V):Y:null}),Oe),{key:oe||fe.useKey?Me.id:K}),[u("div",{class:["vxe-cell",{"c--title":Fe,"c--tooltip":ce,"c--ellipsis":Xe}]},Me.renderFooter(V))])}).concat(A?[u("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])}}}),{getConfig:kt}=J,Fs={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>kt().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>kt().table.resizable},stripe:{type:Boolean,default:()=>kt().table.stripe},border:{type:[Boolean,String],default:()=>kt().table.border},padding:{type:Boolean,default:()=>kt().table.padding},round:{type:Boolean,default:()=>kt().table.round},size:{type:String,default:()=>kt().table.size||kt().size},fit:{type:Boolean,default:()=>kt().table.fit},loading:Boolean,align:{type:String,default:()=>kt().table.align},headerAlign:{type:String,default:()=>kt().table.headerAlign},footerAlign:{type:String,default:()=>kt().table.footerAlign},showHeader:{type:Boolean,default:()=>kt().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>kt().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>kt().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>kt().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>kt().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>kt().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>kt().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>kt().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>kt().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>kt().table.emptyText},keepSource:{type:Boolean,default:()=>kt().table.keepSource},autoResize:{type:Boolean,default:()=>kt().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,cellConfig:Object,rowConfig:Object,dragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>kt().table.animat},delayHover:{type:Number,default:()=>kt().table.delayHover},params:Object},Is=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:xt,getIcon:Qt,renderEmptyElement:xn}=J,La=Eo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const l=J.getComponent("VxeModal"),r=J.getComponent("VxeDrawer"),a=J.getComponent("VxeButton"),C=J.getComponent("VxeNumberInput"),g=J.getComponent("VxeTooltip"),F=J.getComponent("VxeRadioGroup"),O=ro("$xeTable",{}),{props:N,reactData:d}=O,{computeCustomOpts:h,computeColumnOpts:b,computeIsMaxFixedColumn:B,computeResizableOpts:L}=O.getComputeMaps(),X=Pe(),D=Pe(),M=Pe(),k=Pe();let v;const x=z=>{const{customStore:U}=e;U.activeWrapper=!0,O.customOpenEvent(z)},y=z=>{const{customStore:U}=e;U.activeWrapper=!1,setTimeout(()=>{!U.activeBtn&&!U.activeWrapper&&O.customCloseEvent(z)},300)},S=({$event:z})=>{O.saveCustom(),O.closeCustom(),O.emitCustomEvent("confirm",z)},w=({$event:z})=>{O.closeCustom(),O.emitCustomEvent("close",z)},$=({$event:z})=>{O.cancelCustom(),O.closeCustom(),O.emitCustomEvent("cancel",z)},q=z=>{O.resetCustom(!0),O.closeCustom(),O.emitCustomEvent("reset",z)},Y=({$event:z})=>{J.modal?J.modal.confirm({content:xt("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(U=>{U==="confirm"&&q(z)}):q(z)},ue=z=>{const{customColumnList:U}=d,le=s.findTree(U,re=>re===z);if(le&&le.parent){const{parent:re}=le;re.children&&re.children.length&&(re.renderVisible=re.children.every(Me=>Me.renderVisible),re.halfVisible=!re.renderVisible&&re.children.some(Me=>Me.renderVisible||Me.halfVisible),ue(re))}},Ce=z=>{const U=!z.renderVisible;h.value.immediate?(s.eachTree([z],re=>{re.visible=U,re.renderVisible=U,re.halfVisible=!1}),O.handleCustom(),O.saveCustomStore("update:visible")):s.eachTree([z],re=>{re.renderVisible=U,re.halfVisible=!1}),ue(z),O.checkCustomStatus()},P=(z,U)=>{const le=B.value;h.value.immediate?(z.renderFixed===U?s.eachTree([z],Me=>{Me.fixed="",Me.renderFixed=""}):(!le||z.renderFixed)&&s.eachTree([z],Me=>{Me.fixed=U,Me.renderFixed=U}),O.handleCustom(),O.saveCustomStore("update:fixed")):z.renderFixed===U?s.eachTree([z],Me=>{Me.renderFixed=""}):(!le||z.renderFixed)&&s.eachTree([z],Me=>{Me.renderFixed=U})},oe=()=>{O.toggleCustomAllCheckbox()},we=z=>{const re=z.currentTarget.parentNode.parentNode,Me=re.getAttribute("colid"),K=O.getColumnById(Me);re.draggable=!0,k.value=K,Ao(re,"active--drag-origin"),W(z)},Ee=z=>{const re=z.currentTarget.parentNode.parentNode,Me=M.value;re.draggable=!1,k.value=null,ho(re,"active--drag-origin"),Me&&(Me.style.display="")},Le=z=>{const U=new Image;z.dataTransfer&&z.dataTransfer.setDragImage(U,0,0)},$e=z=>{const{customColumnList:U}=d,le=h.value,re=z.currentTarget,Me=M.value;if(v){if(v!==re){const K=v.getAttribute("drag-pos"),be=re.getAttribute("colid"),pe=O.getColumnById(be);if(!pe)return;const xe=s.findIndexOf(U,Be=>Be.id===pe.id),ae=v.getAttribute("colid"),he=O.getColumnById(ae);if(!he)return;U.splice(xe,1);const Se=s.findIndexOf(U,Be=>Be.id===he.id);U.splice(Se+(K==="bottom"?1:0),0,pe)}v.draggable=!1,v.removeAttribute("drag-pos"),ho(v,"active--drag-target")}k.value=null,re.draggable=!1,re.removeAttribute("drag-pos"),Me&&(Me.style.display=""),ho(re,"active--drag-target"),ho(re,"active--drag-origin"),le.immediate&&(s.eachTree(U,(K,be,pe,xe,ae)=>{if(!ae){const he=be+1;K.renderSortNumber=he}}),O.handleCustom(),O.saveCustomStore("update:sort"))},A=z=>{const U=z.currentTarget;v!==U&&ho(v,"active--drag-target");const le=U.getAttribute("colid"),re=O.getColumnById(le);if(re&&re.level===1){z.preventDefault();const K=z.clientY-U.getBoundingClientRect().y<U.clientHeight/2?"top":"bottom";Ao(U,"active--drag-target"),U.setAttribute("drag-pos",K),v=U}W(z)},W=z=>{const U=M.value,le=D.value;if(le&&U){const re=le.parentNode,Me=re.getBoundingClientRect();U.style.display="block",U.style.top=`${Math.min(re.clientHeight-re.scrollTop-U.clientHeight,z.clientY-Me.y)}px`,U.style.left=`${Math.min(re.clientWidth-re.scrollLeft-U.clientWidth-16,z.clientX-Me.x)}px`}},_=()=>{const{customStore:z}=e,{customColumnList:U}=d,le=h.value,{maxHeight:re}=z,{checkMethod:Me,visibleMethod:K,allowVisible:be,allowSort:pe,allowFixed:xe,trigger:ae,placement:he}=le,Se=B.value,Be=le.slots||{},ge=Be.header,de=Be.top,ke=Be.bottom,et=Be.default,qe=Be.footer,Ae=[],ze={},Xe=z.isAll,Fe=z.isIndeterminate,ce=k.value;ae==="hover"&&(ze.onMouseenter=x,ze.onMouseleave=y);const je={$table:O,$grid:O.xegrid,columns:U,isAllChecked:Xe,isAllIndeterminate:Fe};return s.eachTree(U,(Ie,Oe,Ye,Je,Ge)=>{if(K?K({column:Ie}):!0){const ee=Ie.renderVisible,se=Ie.halfVisible,De=Ie.children&&Ie.children.length,ye=Pt(Ie.getTitle(),1),We=Me?!Me({column:Ie}):!1,Ze=!ee;Ae.push(u("li",{key:Ie.id,colid:Ie.id,class:["vxe-table-custom--option",`level--${Ie.level}`,{"is--hidden":We||Ze,"is--group":De}],onDragstart:Le,onDragend:$e,onDragover:A},[be?u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ee,"is--indeterminate":se,"is--disabled":We}],title:xt("vxe.custom.setting.colVisible"),onClick:()=>{We||Ce(Ie)}},[u("span",{class:["vxe-checkbox--icon",se?Qt().TABLE_CHECKBOX_INDETERMINATE:ee?Qt().TABLE_CHECKBOX_CHECKED:Qt().TABLE_CHECKBOX_UNCHECKED]})]):He(),pe&&Ie.level===1?u("div",{class:"vxe-table-custom--sort-option"},[u("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":We||Ze}],title:xt("vxe.custom.setting.sortHelpTip")},We||Ze?{}:{onMousedown:we,onMouseup:Ee}),[u("i",{class:Qt().TABLE_CUSTOM_SORT})])]):He(),Ie.type==="html"?u("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:ye}):u("div",{key:"0",class:"vxe-table-custom--checkbox-label"},ye),!Ge&&xe?u("div",{class:"vxe-table-custom--fixed-option"},[a?u(a,{mode:"text",icon:Ie.renderFixed==="left"?Qt().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Qt().TOOLBAR_TOOLS_FIXED_LEFT,status:Ie.renderFixed==="left"?"primary":"",disabled:We||Ze||Se&&!Ie.renderFixed,title:xt(Ie.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{P(Ie,"left")}}):He(),a?u(a,{mode:"text",icon:Ie.renderFixed==="right"?Qt().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Qt().TOOLBAR_TOOLS_FIXED_RIGHT,status:Ie.renderFixed==="right"?"primary":"",disabled:We||Ze||Se&&!Ie.renderFixed,title:xt(Ie.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{P(Ie,"right")}}):He()]):He()]))}}),u("div",{ref:X,key:"simple",class:["vxe-table-custom-wrapper",`placement--${he}`,{"is--active":z.visible}],style:re&&!["left","right"].includes(he)?{maxHeight:`${re}px`}:{}},z.visible?[u("div",{class:"vxe-table-custom--header"},ge?O.callSlot(ge,je):[u("ul",{class:"vxe-table-custom--panel-list"},[u("li",{class:"vxe-table-custom--option"},[be?u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Xe,"is--indeterminate":Fe}],title:xt("vxe.table.allTitle"),onClick:oe},[u("span",{class:["vxe-checkbox--icon",Fe?Qt().TABLE_CHECKBOX_INDETERMINATE:Xe?Qt().TABLE_CHECKBOX_CHECKED:Qt().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},xt("vxe.toolbar.customAll"))]):u("span",{class:"vxe-checkbox--label"},xt("vxe.table.customTitle"))])])]),u("div",{ref:D,class:"vxe-table-custom--body"},[de?u("div",{class:"vxe-table-custom--panel-top"},O.callSlot(de,je)):xn(O),et?u("div",{class:"vxe-table-custom--panel-body"},O.callSlot(et,je)):u(vs,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ze),{default:()=>Ae}),ke?u("div",{class:"vxe-table-custom--panel-bottom"},O.callSlot(ke,je)):xn(O),u("div",{ref:M,class:"vxe-table-custom-popup--drag-hint"},xt("vxe.custom.cstmDragTarget",[ce&&ce.type!=="html"?ce.getTitle():""]))]),le.showFooter?u("div",{class:"vxe-table-custom--footer"},qe?O.callSlot(qe,je):[u("div",{class:"vxe-table-custom--footer-buttons"},[a?u(a,{mode:"text",content:le.resetButtonText||xt("vxe.table.customRestore"),onClick:Y}):He(),le.immediate?a?u(a,{mode:"text",content:le.closeButtonText||xt("vxe.table.customClose"),onClick:w}):He():a?u(a,{mode:"text",content:le.cancelButtonText||xt("vxe.table.customCancel"),onClick:$}):He(),le.immediate?He():a?u(a,{mode:"text",status:"primary",content:le.confirmButtonText||xt("vxe.table.customConfirm"),onClick:S}):He()])]):null]:[])},Q=()=>{const{customStore:z}=e,{resizable:U}=N,{customColumnList:le}=d,re=h.value,{modalOptions:Me,drawerOptions:K,allowVisible:be,allowSort:pe,allowFixed:xe,allowResizable:ae,checkMethod:he,visibleMethod:Se}=re,Be=b.value,{maxFixedSize:ge}=Be,de=L.value,{minWidth:ke,maxWidth:et}=de,{mode:qe}=re,Ae=Object.assign({},Me),ze=Object.assign({},K),Xe=B.value,Fe=re.slots||{},ce=Fe.header,je=Fe.top,Ie=Fe.bottom,Oe=Fe.default,Ye=Fe.footer,Je=[],Ge=z.isAll,V=z.isIndeterminate,ee=k.value,se={$table:O,$grid:O.xegrid,columns:le,isAllChecked:Ge,isAllIndeterminate:V};s.eachTree(le,(ye,We,Ze,ht,ct)=>{if(Se?Se({column:ye}):!0){let it=0,lt=0;if(ae){const mt={$table:O,column:ye,columnIndex:We,$columnIndex:We,$rowIndex:-1};ke&&(it=s.toNumber(s.isFunction(ke)?ke(mt):ke)),et&&(lt=s.toNumber(s.isFunction(et)?et(mt):et))}const gt=ye.renderVisible,io=ye.halfVisible,eo=Pt(ye.getTitle(),1),to=ye.children&&ye.children.length,Ft=he?!he({column:ye}):!1,_t=!gt;Je.push(u("tr",{key:ye.id,colid:ye.id,class:[`vxe-table-custom-popup--row level--${ye.level}`,{"is--group":to}],onDragstart:Le,onDragend:$e,onDragover:A},[be?u("td",{class:"vxe-table-custom-popup--column-item col--visible"},[u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":gt,"is--indeterminate":io,"is--disabled":Ft}],title:xt("vxe.custom.setting.colVisible"),onClick:()=>{Ft||Ce(ye)}},[u("span",{class:["vxe-checkbox--icon",io?Qt().TABLE_CHECKBOX_INDETERMINATE:gt?Qt().TABLE_CHECKBOX_CHECKED:Qt().TABLE_CHECKBOX_UNCHECKED]})])]):He(),pe?u("td",{class:"vxe-table-custom-popup--column-item col--sort"},[ye.level===1?u("span",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Ft||_t}],title:xt("vxe.custom.setting.sortHelpTip")},Ft||_t?{}:{onMousedown:we,onMouseup:Ee}),[u("i",{class:Qt().TABLE_CUSTOM_SORT})]):u("span","-")]):He(),u("td",{class:"vxe-table-custom-popup--column-item col--name"},[ye.type==="html"?u("div",{key:"1",class:"vxe-table-custom-popup--name",innerHTML:eo}):u("div",{key:"0",class:"vxe-table-custom-popup--name",title:eo},eo)]),ae?u("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[ye.children&&ye.children.length||!(s.isBoolean(ye.resizable)?ye.resizable:Be.resizable||U)?u("span","-"):C?u(C,{type:"integer",disabled:Ft||_t,modelValue:ye.renderResizeWidth,min:it||void 0,max:lt||void 0,"onUpdate:modelValue"(mt){ye.renderResizeWidth=Math.max(0,Number(mt))}}):He()]):He(),xe?u("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[ct?u("span","-"):F?u(F,{modelValue:ye.renderFixed||"",type:"button",size:"mini",disabled:Ft||_t,options:[{label:xt("vxe.custom.setting.fixedLeft"),value:"left",disabled:Ft||_t||Xe},{label:xt("vxe.custom.setting.fixedUnset"),value:"",disabled:Ft||_t},{label:xt("vxe.custom.setting.fixedRight"),value:"right",disabled:Ft||_t||Xe}],"onUpdate:modelValue"(mt){ye.renderFixed=mt}}):He()]):He()]))}});const De={default:()=>Oe?O.callSlot(Oe,se):u("div",{ref:D,class:"vxe-table-custom-popup--body"},[je?u("div",{class:"vxe-table-custom-popup--table-top"},O.callSlot(je,se)):xn(O),u("div",{class:"vxe-table-custom-popup--table-wrapper"},[u("table",{},[u("colgroup",{},[be?u("col",{class:"vxe-table-custom-popup--table-col-seq"}):He(),pe?u("col",{class:"vxe-table-custom-popup--table-col-sort"}):He(),u("col",{class:"vxe-table-custom-popup--table-col-title"}),ae?u("col",{class:"vxe-table-custom-popup--table-col-width"}):He(),xe?u("col",{class:"vxe-table-custom-popup--table-col-fixed"}):He()]),u("thead",{},[u("tr",{},[be?u("th",{},[u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ge,"is--indeterminate":V}],title:xt("vxe.table.allTitle"),onClick:oe},[u("span",{class:["vxe-checkbox--icon",V?Qt().TABLE_CHECKBOX_INDETERMINATE:Ge?Qt().TABLE_CHECKBOX_CHECKED:Qt().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},xt("vxe.toolbar.customAll"))])]):He(),pe?u("th",{},[u("span",{class:"vxe-table-custom-popup--table-sort-help-title"},xt("vxe.custom.setting.colSort")),g?u(g,{enterable:!0,content:xt("vxe.custom.setting.sortHelpTip"),popupClassName:"vxe-table--ignore-clear"},{default:()=>u("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})}):He()]):He(),u("th",{},xt("vxe.custom.setting.colTitle")),ae?u("th",{},xt("vxe.custom.setting.colResizable")):He(),xe?u("th",{},xt(`vxe.custom.setting.${ge?"colFixedMax":"colFixed"}`,[ge])):He()])]),u(vs,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Je})])]),Ie?u("div",{class:"vxe-table-custom-popup--table-bottom"},O.callSlot(Ie,se)):xn(O),u("div",{ref:M,class:"vxe-table-custom-popup--drag-hint"},xt("vxe.custom.cstmDragTarget",[ee?ee.getTitle():""]))]),footer:()=>Ye?O.callSlot(Ye,se):u("div",{class:"vxe-table-custom-popup--footer"},[a?u(a,{content:re.resetButtonText||xt("vxe.custom.cstmRestore"),onClick:Y}):He(),a?u(a,{content:re.resetButtonText||xt("vxe.custom.cstmCancel"),onClick:$}):He(),a?u(a,{status:"primary",content:re.confirmButtonText||xt("vxe.custom.cstmConfirm"),onClick:S}):He()])};return ce&&(De.header=()=>O.callSlot(ce,se)),qe==="drawer"?r?u(r,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",ze.className||""].join(" "),modelValue:z.visible,title:ze.title||xt("vxe.custom.cstmTitle"),width:ze.width||Math.min(880,document.documentElement.clientWidth),position:ze.position,escClosable:!!ze.escClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ye){z.visible=ye}},De):He():l?u(l,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Ae.className||""].join(" "),modelValue:z.visible,title:Ae.title||xt("vxe.custom.cstmTitle"),width:Ae.width||Math.min(880,document.documentElement.clientWidth),minWidth:Ae.minWidth||700,height:Ae.height||Math.min(680,document.documentElement.clientHeight),minHeight:Ae.minHeight||400,showZoom:Ae.showZoom,showMaximize:Ae.showMaximize,showMinimize:Ae.showMinimize,mask:Ae.mask,lockView:Ae.lockView,resize:Ae.resize,escClosable:!!Ae.escClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ye){z.visible=ye}},De):He()};return()=>{const z=h.value;return["modal","drawer","popup"].includes(`${z.mode}`)?Q():_()}}}),{getI18n:vn,getIcon:en,renderer:ur}=J,Aa=Eo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const l=ro("$xeTable",{}),{reactData:r,internalData:a,getComputeMaps:C}=l,{computeFilterOpts:g}=C(),F=Ve(()=>{const{filterStore:v}=e;return v&&v.options.some(x=>x.checked)}),O=(v,x)=>{const{filterStore:y}=e;y.options.forEach(S=>{S._checked=x,S.checked=x}),y.isAllSelected=x,y.isIndeterminate=!1},N=v=>{l.handleFilterConfirmFilter(v)},d=(v,x,y)=>{l.handleFilterChangeRadioOption(v,x,y)},h=v=>{l.handleFilterResetFilter(v)},b=(v,x,y)=>{l.handleFilterChangeMultipleOption(v,x,y)},B=(v,x,y)=>{l.handleFilterChangeOption(v,x,y)},L=(v,x)=>{const{filterStore:y}=e;y.multiple?O(v,x):h(v)},X={changeRadioOption:d,changeMultipleOption:b,changeAllOption:L,changeOption:B,confirmFilter:N,resetFilter:h},D=(v,x)=>{const{filterStore:y}=e,{column:S,multiple:w,maxHeight:$}=y,q=S?S.slots:null,Y=q?q.filter:null,ue=Object.assign({},a._currFilterParams,{$panel:X,$table:l}),Ce=x?x.renderTableFilter||x.renderFilter:null;if(Y)return[u("div",{class:"vxe-table--filter-template"},l.callSlot(Y,ue))];if(Ce)return[u("div",{class:"vxe-table--filter-template"},wo(Ce(v,ue)))];const P=w?y.isAllSelected:!y.options.some(we=>we._checked),oe=w&&y.isIndeterminate;return[u("ul",{class:"vxe-table--filter-header"},[u("li",{class:["vxe-table--filter-option",{"is--checked":P,"is--indeterminate":oe}],title:vn(w?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:we=>{L(we,!y.isAllSelected)}},(w?[u("span",{class:["vxe-checkbox--icon",oe?en().TABLE_CHECKBOX_INDETERMINATE:P?en().TABLE_CHECKBOX_CHECKED:en().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([u("span",{class:"vxe-checkbox--label"},vn("vxe.table.allFilter"))]))]),u("ul",{class:"vxe-table--filter-body",style:$?{maxHeight:`${$}px`}:{}},y.options.map(we=>{const Ee=we._checked;return u("li",{class:["vxe-table--filter-option",{"is--checked":we._checked}],title:we.label,onClick:Le=>{B(Le,!we._checked,we)}},(w?[u("span",{class:["vxe-checkbox--icon",Ee?en().TABLE_CHECKBOX_CHECKED:en().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([u("span",{class:"vxe-checkbox--label"},Pt(we.label,1))]))}))]},M=()=>{const{filterStore:v}=e,{column:x,multiple:y}=v,S=g.value,w=F.value,{filterRender:$}=x,q=ot($)?ur.get($.name):null,Y=!w&&!v.isAllSelected&&!v.isIndeterminate;return y&&(!q||!(q.showTableFilterFooter===!1||q.showFilterFooter===!1||q.isFooter===!1))?[u("div",{class:"vxe-table--filter-footer"},[u("button",{class:{"is--disabled":Y},disabled:Y,onClick:N},S.confirmButtonText||vn("vxe.table.confirmFilter")),u("button",{onClick:h},S.resetButtonText||vn("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:v}=e,{initStore:x}=r,{column:y}=v,S=y?y.filterRender:null,w=ot(S)?ur.get(S.name):null,$=w?w.tableFilterClassName||w.filterClassName:"",q=Object.assign({},a._currFilterParams,{$panel:X,$table:l});return u("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",dl($,q),{"is--animat":l.props.animat,"is--multiple":v.multiple,"is--active":v.visible}],style:v.style},x.filter&&y?D(S,w).concat(M()):[])}}}),{getI18n:wl,getIcon:Ha}=J,$a=Eo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=J.getComponent("VxeModal"),r=J.getComponent("VxeButton"),a=J.getComponent("VxeSelect"),C=ro("$xeTable",{}),{computeImportOpts:g}=C.getComputeMaps(),F=zo({loading:!1}),O=Pe(),N=Ve(()=>{const{storeData:k}=e;return`${k.filename}.${k.type}`}),d=Ve(()=>{const{storeData:k}=e;return k.file&&k.type}),h=Ve(()=>{const{storeData:k}=e,{type:v,typeList:x}=k;if(v){const y=s.find(x,S=>v===S.value);return y?y.label:"*.*"}return`*.${x.map(y=>y.value).join(", *.")}`}),b=()=>{const{storeData:k}=e;Object.assign(k,{filename:"",sheetName:"",type:""})},B=()=>{const{storeData:k,defaultOptions:v}=e;C.readFile(v).then(x=>{const{file:y}=x;Object.assign(k,Ar(y),{file:y})}).catch(x=>x)},L=()=>{ne(()=>{const k=O.value;k&&k.focus()})},X=()=>{const{storeData:k}=e;k.visible=!1},D=()=>{const{storeData:k,defaultOptions:v}=e,x=g.value;F.loading=!0,C.importByFile(k.file,Object.assign({},x,v)).then(()=>{F.loading=!1,k.visible=!1}).catch(()=>{F.loading=!1})};return()=>{const{defaultOptions:k,storeData:v}=e,x=N.value,y=d.value,S=h.value,w=k.slots||{},$=w.top,q=w.bottom,Y=w.default,ue=w.footer;return l?u(l,{id:"VXE_IMPORT_MODAL",modelValue:v.visible,title:wl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:F.loading,"onUpdate:modelValue"(Ce){v.visible=Ce},onShow:L},{default:()=>{const Ce={$table:C,$grid:C.xegrid,options:k,params:k.params};return u("div",{class:"vxe-table-export--panel"},[$?u("div",{class:"vxe-table-export--panel-top"},C.callSlot($,Ce)):He(),u("div",{class:"vxe-table-export--panel-body"},Y?C.callSlot(Y,Ce):[u("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[u("tbody",[u("tr",[u("td",wl("vxe.import.impFile")),u("td",[y?u("div",{class:"vxe-table-export--selected--file",title:x},[u("span",x),u("i",{class:Ha().INPUT_CLEAR,onClick:b})]):u("button",{ref:O,class:"vxe-table-export--select--file",onClick:B},wl("vxe.import.impSelect"))])]),u("tr",[u("td",wl("vxe.import.impType")),u("td",S)]),u("tr",[u("td",wl("vxe.import.impMode")),u("td",[a?u(a,{modelValue:k.mode,options:v.modeList,"onUpdate:modelValue"(P){k.mode=P}}):He()])])])])]),q?u("div",{class:"vxe-table-export--panel-bottom"},C.callSlot(q,Ce)):He()])},footer(){const Ce={$table:C,$grid:C.xegrid,options:k,params:k.params};return u("div",{class:"vxe-table-export--panel-footer"},ue?C.callSlot(ue,Ce):[u("div",{class:"vxe-table-export--panel-btns"},[r?u(r,{content:wl("vxe.import.impCancel"),onClick:X}):He(),r?u(r,{status:"primary",disabled:!y,content:wl("vxe.import.impConfirm"),onClick:D}):He()])])}}):He()}}}),{getI18n:Rt,getIcon:Al}=J,Ba=Eo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=J.getComponent("VxeModal"),r=J.getComponent("VxeButton"),a=J.getComponent("VxeSelect"),C=J.getComponent("VxeInput"),g=J.getComponent("VxeCheckbox"),F=ro("$xeTable",{}),{computeExportOpts:O,computePrintOpts:N}=F.getComputeMaps(),d=zo({isAll:!1,isIndeterminate:!1,loading:!1}),h=Pe(),b=Pe(),B=Pe(),L=Ve(()=>{const{storeData:P}=e;return P.columns.every(oe=>oe.checked)}),X=Ve(()=>{const{defaultOptions:P}=e;return["html","xml","xlsx","pdf"].indexOf(P.type)>-1}),D=Ve(()=>{const{storeData:P,defaultOptions:oe}=e;return!oe.original&&oe.mode==="current"&&(P.isPrint||["html","xlsx"].indexOf(oe.type)>-1)}),M=Ve(()=>{const{defaultOptions:P}=e;return!P.original&&["xlsx"].indexOf(P.type)>-1}),k=P=>{const{storeData:oe}=e,we=s.findTree(oe.columns,Ee=>Ee===P);if(we&&we.parent){const{parent:Ee}=we;Ee.children&&Ee.children.length&&(Ee.checked=Ee.children.every(Le=>Le.checked),Ee.halfChecked=!Ee.checked&&Ee.children.some(Le=>Le.checked||Le.halfChecked),k(Ee))}},v=()=>{const{storeData:P}=e,oe=P.columns;d.isAll=oe.every(we=>we.disabled||we.checked),d.isIndeterminate=!d.isAll&&oe.some(we=>!we.disabled&&(we.checked||we.halfChecked))},x=P=>{const oe=!P.checked;s.eachTree([P],we=>{we.checked=oe,we.halfChecked=!1}),k(P),v()},y=()=>{const{storeData:P}=e,oe=!d.isAll;s.eachTree(P.columns,we=>{we.disabled||(we.checked=oe,we.halfChecked=!1)}),d.isAll=oe,v()},S=()=>{ne(()=>{const P=b.value,oe=B.value,we=h.value,Ee=P||oe||we;Ee&&Ee.focus()}),v()},w=()=>{const{storeData:P,defaultOptions:oe}=e,{hasMerge:we,columns:Ee}=P,Le=L.value,$e=D.value,A=s.searchTree(Ee,W=>W.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},oe,{columns:A,isMerge:we&&$e&&Le?oe.isMerge:!1})},$=()=>{const{storeData:P}=e,oe=N.value;P.visible=!1,F.print(Object.assign({},oe,w()))},q=()=>{const{storeData:P}=e,oe=O.value;d.loading=!0,F.exportData(Object.assign({},oe,w())).then(()=>{d.loading=!1,P.visible=!1}).catch(()=>{d.loading=!1})},Y=()=>{const{storeData:P}=e;P.visible=!1},ue=()=>{const{storeData:P}=e;P.isPrint?$():q()};return()=>{const{defaultOptions:P,storeData:oe}=e,{isAll:we,isIndeterminate:Ee}=d,{hasTree:Le,hasMerge:$e,isPrint:A,hasColgroup:W,columns:_}=oe,{isHeader:Q}=P,fe=[],z=L.value,U=X.value,le=D.value,re=M.value,Me=P.slots||{},K=Me.top,be=Me.bottom,pe=Me.default,xe=Me.footer,ae=Me.parameter;return s.eachTree(_,he=>{const Se=Pt(he.getTitle(),1),Be=he.children&&he.children.length,ge=he.checked,de=he.halfChecked,ke=he.type==="html";fe.push(u("li",{key:he.id,class:["vxe-table-export--panel-column-option",`level--${he.level}`,{"is--group":Be,"is--checked":ge,"is--indeterminate":de,"is--disabled":he.disabled}],title:ke?"":Se,onClick:()=>{he.disabled||x(he)}},[u("span",{class:["vxe-checkbox--icon",de?Al().TABLE_CHECKBOX_INDETERMINATE:ge?Al().TABLE_CHECKBOX_CHECKED:Al().TABLE_CHECKBOX_UNCHECKED]}),ke?u("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Se}):u("span",{key:"0",class:"vxe-checkbox--label"},Se)]))}),l?u(l,{id:"VXE_EXPORT_MODAL",modelValue:oe.visible,title:Rt(A?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(he){oe.visible=he},onShow:S},{default:()=>{const he={$table:F,$grid:F.xegrid,options:P,columns:_,params:P.params};return u("div",{class:"vxe-table-export--panel"},[K?u("div",{class:"vxe-table-export--panel-top"},F.callSlot(K,he)):He(),u("div",{class:"vxe-table-export--panel-body"},pe?F.callSlot(pe,he):[u("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[u("tbody",[[A?He():u("tr",[u("td",Rt("vxe.export.expName")),u("td",[C?u(C,{ref:b,modelValue:P.filename,type:"text",clearable:!0,placeholder:Rt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Se){P.filename=Se}}):He()])]),A?He():u("tr",[u("td",Rt("vxe.export.expType")),u("td",[a?u(a,{modelValue:P.type,options:oe.typeList,"onUpdate:modelValue"(Se){P.type=Se}}):He()])]),A||U?u("tr",[u("td",Rt("vxe.export.expSheetName")),u("td",[C?u(C,{ref:B,modelValue:P.sheetName,type:"text",clearable:!0,placeholder:Rt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Se){P.sheetName=Se}}):He()])]):He(),u("tr",[u("td",Rt("vxe.export.expMode")),u("td",[a?u(a,{modelValue:P.mode,options:oe.modeList.map(Se=>({value:Se.value,label:Rt(Se.label)})),"onUpdate:modelValue"(Se){P.mode=Se}}):He()])]),u("tr",[u("td",[Rt("vxe.export.expColumn")]),u("td",[u("div",{class:"vxe-table-export--panel-column"},[u("ul",{class:"vxe-table-export--panel-column-header"},[u("li",{class:["vxe-table-export--panel-column-option",{"is--checked":we,"is--indeterminate":Ee}],title:Rt("vxe.table.allTitle"),onClick:y},[u("span",{class:["vxe-checkbox--icon",Ee?Al().TABLE_CHECKBOX_INDETERMINATE:we?Al().TABLE_CHECKBOX_CHECKED:Al().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},Rt("vxe.export.expCurrentColumn"))])]),u("ul",{class:"vxe-table-export--panel-column-body"},fe)])])]),u("tr",[u("td",Rt("vxe.export.expOpts")),ae?u("td",[u("div",{class:"vxe-table-export--panel-option-row"},F.callSlot(ae,he))]):u("td",[u("div",{class:"vxe-table-export--panel-option-row"},[g?u(g,{modelValue:P.isHeader,title:Rt("vxe.export.expHeaderTitle"),content:Rt("vxe.export.expOptHeader"),"onUpdate:modelValue"(Se){P.isHeader=Se}}):He(),g?u(g,{modelValue:P.isFooter,disabled:!oe.hasFooter,title:Rt("vxe.export.expFooterTitle"),content:Rt("vxe.export.expOptFooter"),"onUpdate:modelValue"(Se){P.isFooter=Se}}):He(),g?u(g,{modelValue:P.original,title:Rt("vxe.export.expOriginalTitle"),content:Rt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Se){P.original=Se}}):He()]),u("div",{class:"vxe-table-export--panel-option-row"},[g?u(g,{modelValue:Q&&W&&le?P.isColgroup:!1,title:Rt("vxe.export.expColgroupTitle"),disabled:!Q||!W||!le,content:Rt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Se){P.isColgroup=Se}}):He(),g?u(g,{modelValue:$e&&le&&z?P.isMerge:!1,title:Rt("vxe.export.expMergeTitle"),disabled:!$e||!le||!z,content:Rt("vxe.export.expOptMerge"),"onUpdate:modelValue"(Se){P.isMerge=Se}}):He(),A||!g?He():u(g,{modelValue:re?P.useStyle:!1,disabled:!re,title:Rt("vxe.export.expUseStyleTitle"),content:Rt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Se){P.useStyle=Se}}),g?u(g,{modelValue:Le?P.isAllExpand:!1,disabled:!Le,title:Rt("vxe.export.expAllExpandTitle"),content:Rt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Se){P.isAllExpand=Se}}):He()])])])]])])]),be?u("div",{class:"vxe-table-export--panel-bottom"},F.callSlot(be,he)):He()])},footer(){const he={$table:F,$grid:F.xegrid,options:P,columns:_,params:P.params};return u("div",{class:"vxe-table-export--panel-footer"},xe?F.callSlot(xe,he):[u("div",{class:"vxe-table-export--panel-btns"},[r?u(r,{content:Rt("vxe.export.expCancel"),onClick:Y}):He(),r?u(r,{ref:h,status:"primary",content:Rt(A?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:ue}):He()])])}}):He()}}}),{getIcon:Va}=J,ja=Eo({name:"VxeTableMenuPanel",setup(e,l){const r=s.uniqueId(),a=ro("$xeTable",{}),{reactData:C}=a,g=Pe(),F={refElem:g},O={xID:r,props:e,context:l,getRefMaps:()=>F},N=()=>{const{ctxMenuStore:d}=C,{computeMenuOpts:h}=a.getComputeMaps(),b=h.value;return u($i,{to:"body",disabled:!1},[u("div",{ref:g,class:["vxe-table--context-menu-wrapper",b.className,{"is--visible":d.visible}],style:d.style},d.list.map((B,L)=>B.every(X=>X.visible===!1)?He():u("ul",{class:"vxe-context-menu--option-wrapper",key:L},B.map((X,D)=>{const M=X.children&&X.children.some(x=>x.visible!==!1),k=Object.assign({},X.prefixConfig),v=Object.assign({},X.suffixConfig);return X.visible===!1?null:u("li",{class:[X.className,{"link--disabled":X.disabled,"link--active":X===d.selected}],key:`${L}_${D}`},[u("a",{class:"vxe-context-menu--link",onClick(x){a.ctxMenuLinkEvent(x,X)},onMouseover(x){a.ctxMenuMouseoverEvent(x,X)},onMouseout(x){a.ctxMenuMouseoutEvent(x,X)}},[u("div",{class:["vxe-context-menu--link-prefix",k.className||""]},[u("i",{class:k.icon||X.prefixIcon}),k.content?u("span",{},`${k.content}`):He()]),u("div",{class:"vxe-context-menu--link-content"},el(X.name)),u("div",{class:["vxe-context-menu--link-suffix",v.className||""]},[u("i",{class:v.icon||X.suffixIcon||(M?Va().TABLE_MENU_OPTIONS:"")}),v.content?u("span",`${v.content}`):He()])]),M?u("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":X===d.selected&&d.showChild}]},X.children.map((x,y)=>{const S=Object.assign({},x.prefixConfig),w=Object.assign({},x.suffixConfig);return x.visible===!1?null:u("li",{class:[x.className,{"link--disabled":x.disabled,"link--active":x===d.selectChild}],key:`${L}_${D}_${y}`},[u("a",{class:"vxe-context-menu--link",onClick($){a.ctxMenuLinkEvent($,x)},onMouseover($){a.ctxMenuMouseoverEvent($,X,x)},onMouseout($){a.ctxMenuMouseoutEvent($,X)}},[u("div",{class:["vxe-context-menu--link-prefix",S.className||""]},[u("i",{class:S.icon||x.prefixIcon}),S.content?u("span",`${S.content}`):He()]),u("div",{class:"vxe-context-menu--link-content"},el(x.name)),u("div",{class:["vxe-context-menu--link-suffix",w.className||""]},[u("i",{class:w.icon}),w.content?u("span",`${w.content}`):He()])])])})):null])}))))])};return O.renderVN=N,O},render(){return this.renderVN()}}),{getConfig:at,getI18n:us,renderer:fr,formats:pr,createEvent:Na,globalResize:Pa,interceptor:hr,hooks:_a,globalEvents:vt,GLOBAL_EVENT_KEYS:vo,useFns:za,renderEmptyElement:Yt}=J,Wa=ul["-webkit"]&&!ul.edge,gr="VXE_CUSTOM_STORE",_l=Eo({name:"VxeTable",props:Fs,emits:Is,setup(e,l){const{slots:r,emit:a}=l,C=s.uniqueId(),g=J.getComponent("VxeLoading"),F=J.getComponent("VxeTooltip"),O=ro("$xeTabs",null),{computeSize:N}=za.useSize(e),d=zo({isCalcColumn:!1,staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,isDragRowMove:!1,dragRow:null,dragTipText:"",_isResize:!1,_isLoading:!1}),h={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},columnStatusMaps:{},rowStatusMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let b={},B={};const L=Pe(),X=Pe(),D=Pe(),M=Pe(),k=Pe(),v=Pe(),x=Pe(),y=Pe(),S=Pe(),w=Pe(),$=Pe(),q=Pe(),Y=Pe(),ue=Pe(),Ce=Pe(),P=Pe(),oe=Pe(),we=Pe(),Ee=Pe(),Le=Pe(),$e=Pe(),A=Pe(),W=Pe(),_=Pe(),Q=Pe(),fe=Pe(),z=Pe(),U=ro("$xeGrid",null);let le;const re=Ve(()=>{const{id:t}=e;return t?s.isFunction(t)?`${t({$table:m,$grid:U})||""}`:`${t}`:""}),Me=Ve(()=>Object.assign({},at().table.validConfig,e.validConfig)),K=Ve(()=>Object.assign({},at().table.scrollX,e.scrollX)),be=Ve(()=>{const t=K.value,{threshold:o}=t;return o?s.toNumber(o):0}),pe=Ve(()=>Object.assign({},at().table.scrollY,e.scrollY)),xe=Ve(()=>{const t=pe.value,{threshold:o}=t;return o?s.toNumber(o):0}),ae=Ve(()=>({default:48,medium:44,small:40,mini:36})),he=Ve(()=>Object.assign({},at().table.columnConfig,e.columnConfig)),Se=Ve(()=>Object.assign({},at().table.cellConfig,e.cellConfig)),Be=Ve(()=>Object.assign({},at().table.rowConfig,e.rowConfig)),ge=Ve(()=>Object.assign({},at().table.dragConfig,e.dragConfig)),de=Ve(()=>Object.assign({},at().table.resizeConfig,e.resizeConfig)),ke=Ve(()=>Object.assign({},at().table.resizableConfig,e.resizableConfig)),et=Ve(()=>Object.assign({startIndex:0},at().table.seqConfig,e.seqConfig)),qe=Ve(()=>Object.assign({},at().table.radioConfig,e.radioConfig)),Ae=Ve(()=>Object.assign({},at().table.checkboxConfig,e.checkboxConfig));let ze=Pe();ze=Ve(()=>Object.assign({},at().tooltip,at().table.tooltipConfig,e.tooltipConfig));const Xe=Ve(()=>{const t=ze.value;return Object.assign({},t)}),Fe=Ve(()=>{const t=ze.value;return Object.assign({isArrow:!1},t)}),ce=Ve(()=>Object.assign({},at().table.editConfig,e.editConfig)),je=Ve(()=>Object.assign({orders:["asc","desc",null]},at().table.sortConfig,e.sortConfig)),Ie=Ve(()=>Object.assign({},at().table.filterConfig,e.filterConfig)),Oe=Ve(()=>Object.assign({},at().table.mouseConfig,e.mouseConfig)),Ye=Ve(()=>Object.assign({},at().table.areaConfig,e.areaConfig)),Je=Ve(()=>Object.assign({},at().table.keyboardConfig,e.keyboardConfig)),Ge=Ve(()=>Object.assign({},at().table.clipConfig,e.clipConfig)),V=Ve(()=>Object.assign({},at().table.fnrConfig,e.fnrConfig)),ee=Ve(()=>Object.assign({},at().table.menuConfig,e.menuConfig)),se=Ve(()=>{const o=ee.value.header;return o&&o.options?o.options:[]}),De=Ve(()=>{const o=ee.value.body;return o&&o.options?o.options:[]}),ye=Ve(()=>{const o=ee.value.footer;return o&&o.options?o.options:[]}),We=Ve(()=>{const t=ee.value,o=se.value,n=De.value,i=ye.value;return!!(e.menuConfig&&ot(t)&&(o.length||n.length||i.length))}),Ze=Ve(()=>{const{ctxMenuStore:t}=d,o=[];return t.list.forEach(n=>{n.forEach(i=>{o.push(i)})}),o}),ht=Ve(()=>Object.assign({},at().table.exportConfig,e.exportConfig)),ct=Ve(()=>Object.assign({},at().table.importConfig,e.importConfig)),qt=Ve(()=>Object.assign({},at().table.printConfig,e.printConfig)),it=Ve(()=>Object.assign({},at().table.expandConfig,e.expandConfig)),lt=Ve(()=>Object.assign({},at().table.treeConfig,e.treeConfig)),gt=Ve(()=>Object.assign({},at().table.emptyRender,e.emptyRender)),io=Ve(()=>Object.assign({},at().table.loadingConfig,e.loadingConfig)),eo=Ve(()=>e.border?Math.max(2,Math.ceil(d.scrollbarWidth/d.tableColumn.length)):1),to=Ve(()=>Object.assign({},at().table.customConfig,e.customConfig)),Ft=Ve(()=>{const{visibleColumn:t}=h,{tableColumn:o}=d;return o.length||t.length?t.filter(n=>n.width==="auto"||n.minWidth==="auto"):[]}),_t=Ve(()=>{const{collectColumn:t}=h;let o=0;return t.forEach(n=>{n.renderFixed&&o++}),o}),mt=Ve(()=>{const t=_t.value,o=he.value,{maxFixedSize:n}=o;return n?t>=n:!1}),yo=Ve(()=>{const{border:t}=e;return t===!0?"full":t||"default"}),rt=Ve(()=>{const{tableData:t}=d,{tableFullData:o}=h,n=Ae.value,{strict:i,checkMethod:c}=n;return i?t.length||o.length?c?o.every(p=>!c({row:p})):!1:!0:!1}),Mo=Ve(()=>{const{overflowX:t,scrollXLoad:o,overflowY:n,scrollYLoad:i}=d;return{x:t&&o,y:n&&i}}),oo={refElem:L,refTooltip:X,refValidTooltip:M,refTableFilter:v,refTableCustom:x,refTableMenu:k,refTableHeader:y,refTableBody:S,refTableFooter:w,refTableLeftHeader:$,refTableLeftBody:q,refTableLeftFooter:Y,refTableRightHeader:ue,refTableRightBody:Ce,refTableRightFooter:P,refLeftContainer:oe,refRightContainer:we,refCellResizeBar:Ee,refScrollXVirtualElem:A,refScrollYVirtualElem:W,refScrollXHandleElem:_,refScrollYHandleElem:Q,refScrollXSpaceElem:fe,refScrollYSpaceElem:z},It={computeSize:N,computeTableId:re,computeValidOpts:Me,computeSXOpts:K,computeSYOpts:pe,computeColumnOpts:he,computeCellOpts:Se,computeRowOpts:Be,computeDragOpts:ge,computeResizeOpts:de,computeResizableOpts:ke,computeSeqOpts:et,computeRadioOpts:qe,computeCheckboxOpts:Ae,computeTooltipOpts:ze,computeEditOpts:ce,computeSortOpts:je,computeFilterOpts:Ie,computeMouseOpts:Oe,computeAreaOpts:Ye,computeKeyboardOpts:Je,computeClipOpts:Ge,computeFNROpts:V,computeHeaderMenu:se,computeBodyMenu:De,computeFooterMenu:ye,computeIsMenu:We,computeMenuOpts:ee,computeExportOpts:ht,computeImportOpts:ct,computePrintOpts:qt,computeExpandOpts:it,computeTreeOpts:lt,computeEmptyOpts:gt,computeLoadingOpts:io,computeCustomOpts:to,computeFixedColumnSize:_t,computeIsMaxFixedColumn:mt,computeIsAllCheckboxDisabled:rt,computeVirtualScrollBars:Mo},m={xID:C,props:e,context:l,reactData:d,internalData:h,getRefMaps:()=>oo,getComputeMaps:()=>It,xegrid:U},bt=(t,o,n)=>{const i=s.get(t,n),c=s.get(o,n);return Qo(i)&&Qo(c)?!0:s.isString(i)||s.isNumber(i)?""+i==""+c:s.isEqual(i,c)},Mt=t=>{const o=je.value,{orders:n}=o,i=t.order||null,c=n.indexOf(i)+1;return n[c<n.length?c:0]},At=t=>{const o=at().version,n=s.toStringJSON(localStorage.getItem(gr)||""),i=n&&n._v===o?n:{_v:o};return(t?i[t]:i)||{}},jt=(t,o)=>{const n=at().version,i=At();i[t]=o||void 0,i._v=n,localStorage.setItem(gr,s.toJSONString(i))},Ht=t=>{const{fullAllDataRowIdData:o}=h,n={};return s.each(t,(i,c)=>{o[c]&&(n[c]=i)}),n},Xt=t=>{const{fullDataRowIdData:o}=h,n=[];return s.each(t,(i,c)=>{o[c]&&m.findRowIndexOf(n,o[c].row)===-1&&n.push(o[c].row)}),n},zt=()=>{const{visibleColumn:t}=h,o=S.value,n=o?o.$el:null;if(n){const{scrollLeft:i,clientWidth:c}=n,p=i+c;let f=-1,E=0,R=0;for(let T=0,I=t.length;T<I&&(E+=t[T].renderWidth,f===-1&&i<E&&(f=T),!(f>=0&&(R++,E>p)));T++);return{toVisibleIndex:Math.max(0,f),visibleSize:Math.max(6,R)}}return{toVisibleIndex:0,visibleSize:6}},Bt=()=>{const t=y.value,o=S.value,n=o?o.$el:null,i=N.value,c=ae.value;let p=0;if(n){const f=t?t.$el:null;let E;E=n.querySelector("tr"),!E&&f&&(E=f.querySelector("tr")),E&&(p=E.clientHeight),p||(p=c[i||"default"])}return p},co=()=>{const{scrollYStore:t,afterFullData:o,fullAllDataRowIdData:n}=h,i=S.value,c=i?i.$el:null,{rowHeight:p}=t;if(c){const{scrollTop:f,clientHeight:E}=c,R=f+E;let T=-1,I=0,j=0;for(let H=0,G=o.length;H<G;H++){const me=o[H],Z=ve(m,me),ie=n[Z];if(!ie||(I+=ie.height||p,T===-1&&f<I&&(T=H),T>=0&&(j++,I>R)))break}return{toVisibleIndex:Math.max(0,T),visibleSize:Math.max(8,j)}}return{toVisibleIndex:0,visibleSize:8}},Ot=(t,o,n)=>{for(let i=0,c=t.length;i<c;i++){const p=t[i],{startIndex:f,endIndex:E}=o,R=p[n],T=p[n+"span"],I=R+T;R<f&&f<I&&(o.startIndex=R),R<E&&E<I&&(o.endIndex=I),(o.startIndex!==f||o.endIndex!==E)&&(i=-1)}},Ct=(t,o,n)=>{if(t){const{treeConfig:i}=e,{visibleColumn:c}=h;s.isArray(t)||(t=[t]),i&&t.length&&so("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach(p=>{let{row:f,col:E,rowspan:R,colspan:T}=p;if(n&&s.isNumber(f)&&(f=n[f]),s.isNumber(E)&&(E=c[E]),(n?f:s.isNumber(f))&&E&&(R||T)&&(R=s.toNumber(R)||1,T=s.toNumber(T)||1,R>1||T>1)){const I=s.findIndexOf(o,H=>(H._row===f||ve(m,H._row)===ve(m,f))&&(H._col.id===E||H._col.id===E.id)),j=o[I];if(j)j.rowspan=R,j.colspan=T,j._rowspan=R,j._colspan=T;else{const H=n?m.findRowIndexOf(n,f):f,G=b.getVTColumnIndex(E);o.push({row:H,col:G,rowspan:R,colspan:T,_row:f,_col:E,_rowspan:R,_colspan:T})}}})}},Kt=(t,o,n)=>{const i=[];if(t){const{treeConfig:c}=e,{visibleColumn:p}=h;s.isArray(t)||(t=[t]),c&&t.length&&so("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach(f=>{let{row:E,col:R}=f;n&&s.isNumber(E)&&(E=n[E]),s.isNumber(R)&&(R=p[R]);const T=s.findIndexOf(o,I=>(I._row===E||ve(m,I._row)===ve(m,E))&&(I._col.id===R||I._col.id===R.id));if(T>-1){const I=o.splice(T,1);i.push(I[0])}})}return i},To=()=>{const{tableFullColumn:t}=h;t.forEach(o=>{o.order=null})},Wo=t=>{const{parentHeight:o}=d,n=e[t];let i=0;if(n)if(n==="100%"||n==="auto")i=o;else{const c=m.getExcludeHeight();on(n)?i=Math.floor((s.toInteger(n)||1)/100*o):i=s.toNumber(n),i=Math.max(40,i-c)}return i},ko=t=>{let{collectColumn:o}=h;const{resizableData:n,sortData:i,visibleData:c,fixedData:p}=t;let f=!1;(n||i||c||p)&&(s.eachTree(o,(E,R,T,I,j)=>{const H=E.getKey();j||(p&&p[H]&&(E.fixed=p[H]),i&&s.isNumber(i[H])&&(f=!0,E.renderSortNumber=i[H])),n&&s.isNumber(n[H])&&(E.resizeWidth=n[H]),c&&s.isBoolean(c[H])&&(E.visible=c[H])}),f&&(o=s.orderBy(o,"renderSortNumber"),h.collectColumn=o,h.tableFullColumn=un(o)))},Vn=()=>{const{customConfig:t}=e,o=re.value,n=to.value,{storage:i,restoreStore:c}=n,p=i===!0,f=p?{}:Object.assign({},i||{}),E=p||f.resizable,R=p||f.visible,T=p||f.fixed,I=p||f.sort;if(t&&(E||R||T||I)){if(!o){so("vxe.error.reqProp",["id"]);return}const j=At(o);return c?Promise.resolve(c({id:o,type:"restore",storeData:j})).then(H=>{if(H)return ko(H)}).catch(H=>H):ko(j)}},Ml=()=>{const{tableFullColumn:t,collectColumn:o}=h,n=h.fullColumnIdData={},i=h.fullColumnFieldData={};Oe.value,he.value,Be.value;const c=o.some(Nl);let p=!!e.showOverflow,f,E;const R=(T,I,j,H,G)=>{const{id:me,field:Z,fixed:ie,type:te,treeNode:Re}=T,Te={$index:-1,_index:-1,column:T,colid:me,index:I,items:j,parent:G||null,width:0};Z&&(i[Z]=Te),Re?E||(E=T):te==="expand"&&(f||(f=T)),p&&T.showOverflow===!1&&(p=!1),n[me]&&so("vxe.error.colRepet",["colId",me]),n[me]=Te};c?s.eachTree(o,(T,I,j,H,G,me)=>{T.level=me.length,R(T,I,j,H,G)}):t.forEach(R),d.isGroup=c,d.treeNodeColumn=E,d.expandColumn=f,d.isAllOverflow=p},hl=()=>{h.customHeight=Wo("height"),h.customMinHeight=Wo("minHeight"),h.customMaxHeight=Wo("maxHeight")},jn=()=>{const{tableData:t}=d,o=Ft.value;return!t.length||!o.length?(d.isCalcColumn=!1,ne()):(d.isCalcColumn=!0,ne().then(()=>{const{fullColumnIdData:n}=h,i=L.value;i&&(o.forEach(c=>{const p=c.id,f=n[p],E=i.querySelectorAll(`.vxe-header--column.${c.id}>.vxe-cell,.vxe-body--column.${c.id}>.vxe-cell,.vxe-footer--column.${c.id}>.vxe-cell`),R=E[0];let T=0;if(R){const j=getComputedStyle(R);T=Math.floor(s.toNumber(j.paddingLeft)+s.toNumber(j.paddingRight))+2}let I=c.renderAutoWidth-T;s.arrayEach(E,j=>{const H=j,G=H.parentElement;let me=0;if(`${G.tagName}`.toLowerCase()==="th")s.arrayEach(H.children,Z=>{me+=Z.offsetWidth+1});else{const Z=H.firstElementChild;Z&&(me=Z.offsetWidth)}me&&(I=Math.max(I,Math.ceil(me)+4))}),f&&(f.width=Math.max(I,f.width)),c.renderAutoWidth=I+T}),B.analyColumnWidth()),d.isCalcColumn=!1}))},ql=()=>{const t=y.value,o=S.value,n=w.value,i=o?o.$el:null,c=t?t.$el:null,p=n?n.$el:null;if(!i)return;let f=0;const E=40,R=i.clientWidth-1;let T=R,I=T/100;const{fit:j}=e,{columnStore:H}=d,{resizeList:G,pxMinList:me,autoMinList:Z,pxList:ie,scaleList:te,scaleMinList:Re,autoList:Te,remainList:Ne}=H;if(me.forEach(Qe=>{const tt=s.toInteger(Qe.minWidth);f+=tt,Qe.renderWidth=tt}),Z.forEach(Qe=>{const tt=Math.max(60,s.toInteger(Qe.renderAutoWidth));f+=tt,Qe.renderWidth=tt}),Re.forEach(Qe=>{const tt=Math.floor(s.toInteger(Qe.minWidth)*I);f+=tt,Qe.renderWidth=tt}),te.forEach(Qe=>{const tt=Math.floor(s.toInteger(Qe.width)*I);f+=tt,Qe.renderWidth=tt}),ie.forEach(Qe=>{const tt=s.toInteger(Qe.width);f+=tt,Qe.renderWidth=tt}),Te.forEach(Qe=>{const tt=Math.max(60,s.toInteger(Qe.renderAutoWidth));f+=tt,Qe.renderWidth=tt}),G.forEach(Qe=>{const tt=s.toInteger(Qe.resizeWidth);f+=tt,Qe.renderWidth=tt}),T-=f,I=T>0?Math.floor(T/(Re.length+me.length+Z.length+Ne.length)):0,j?T>0&&Re.concat(me).concat(Z).forEach(Qe=>{f+=I,Qe.renderWidth+=I}):I=E,Ne.forEach(Qe=>{const tt=Math.max(I,E);Qe.renderWidth=tt,f+=tt}),j){const Qe=te.concat(Re).concat(me).concat(Z).concat(Ne);let tt=Qe.length-1;if(tt>0){let Nt=R-f;if(Nt>0){for(;Nt>0&&tt>=0;)Nt--,Qe[tt--].renderWidth++;f=R}}}const _e=i.offsetHeight,Ue=i.scrollHeight>i.clientHeight;let dt=0;Ue&&(dt=Math.max(i.offsetWidth-i.clientWidth,0)),d.scrollbarWidth=dt,d.overflowY=Ue,h.tableWidth=f,h.tableHeight=_e;let Dt=0;c&&(Dt=c.clientHeight,ne(()=>{c&&i&&c.scrollLeft!==i.scrollLeft&&(c.scrollLeft=i.scrollLeft)})),h.headerHeight=Dt;let yt=!1,st=0,Tt=0;p?(st=p.offsetHeight,yt=f>p.clientWidth,Tt=Math.max(st-p.clientHeight,0)):(yt=f>R,Tt=Math.max(_e-i.clientHeight,0)),h.footerHeight=st,d.overflowX=yt,d.scrollbarHeight=Tt,hl(),d.parentHeight=Math.max(h.headerHeight+st+20,B.getParentHeight()),yt&&B.checkScrolling()},gl=()=>{const{tableData:t,scrollYLoad:o}=d,{fullAllDataRowIdData:n}=h,i=L.value;o&&i&&t.forEach(c=>{const p=ve(m,c),f=n[p],E=i.querySelectorAll(`.vxe-body--row[rowid="${p}"]`);if(f&&E.length){let R=0;for(let T=0;T<E.length;T++){const I=E[T];R=Math.max(R,I.offsetHeight)}f.height=R}})},qo=t=>{const{sortBy:o,sortType:n}=t;return i=>{let c;return o?c=s.isFunction(o)?o({row:i,column:t}):s.get(i,o):c=b.getCellLabel(i,t),!n||n==="auto"?isNaN(c)?c:s.toNumber(c):n==="number"?s.toNumber(c):n==="string"?s.toValueString(c):c}},ol=()=>{const{treeConfig:t}=e,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:i}=h,{afterTreeFullData:c}=h,p=lt.value,f=p.children||p.childrenField,E={};t?s.eachTree(c,(R,T,I,j)=>{const H=ve(m,R),G=i[H],me=j.map((Z,ie)=>ie%2===0?Number(Z)+1:".").join("");if(G)G.seq=me,G._index=T;else{const Z={row:R,rowid:H,seq:me,index:-1,$index:-1,_index:T,items:[],parent:null,level:0,height:0};i[H]=Z,n[H]=Z}E[H]=R},{children:p.transform?p.mapChildrenField:f}):o.forEach((R,T)=>{const I=ve(m,R),j=i[I],H=T+1;if(j)j.seq=H,j._index=T;else{const G={row:R,rowid:I,seq:H,index:-1,$index:-1,_index:T,items:[],parent:null,level:0,height:0};i[I]=G,n[I]=G}E[I]=R}),h.afterFullRowMaps=E},$o=()=>{const{treeConfig:t}=e,{treeExpandedMaps:o}=d,n=lt.value,i=n.children||n.childrenField;if(t&&n.transform){const c=[],p={};return s.eachTree(h.afterTreeFullData,(f,E,R,T,I)=>{const j=ve(m,f),H=ve(m,I);(!I||p[H]&&o[H])&&(p[j]=1,c.push(f))},{children:i}),h.afterFullData=c,_n(c),c}return h.afterFullData},ll=()=>{const{treeConfig:t}=e,{tableFullColumn:o,tableFullData:n,tableFullTreeData:i}=h,c=Ie.value,p=je.value,f=lt.value,E=f.children||f.childrenField,{transform:R}=f,{remote:T,filterMethod:I}=c,{remote:j,sortMethod:H,multiple:G,chronological:me}=p;let Z=[],ie=[];if(!T||!j){const te=[];let Re=[];if(o.forEach(Te=>{const{field:Ne,sortable:_e,order:Ue,filters:dt}=Te;if(!T&&dt&&dt.length){const Dt=[],yt=[];dt.forEach(st=>{st.checked&&(yt.push(st),Dt.push(st.value))}),yt.length&&te.push({column:Te,valueList:Dt,itemList:yt})}!j&&_e&&Ue&&Re.push({column:Te,field:Ne,property:Ne,order:Ue,sortTime:Te.sortTime})}),G&&me&&Re.length>1&&(Re=s.orderBy(Re,"sortTime")),!T&&te.length){const Te=Ne=>te.every(({column:_e,valueList:Ue,itemList:dt})=>{const{filterMethod:Dt,filterRender:yt}=_e,st=ot(yt)?fr.get(yt.name):null,Tt=st?st.tableFilterMethod||st.filterMethod:null,Qe=st?st.tableFilterDefaultMethod||st.defaultTableFilterMethod||st.defaultFilterMethod:null,tt=Jt(Ne,_e);return Dt?dt.some(Nt=>Dt({value:Nt.value,option:Nt,cellValue:tt,row:Ne,column:_e,$table:m})):Tt?dt.some(Nt=>Tt({value:Nt.value,option:Nt,cellValue:tt,row:Ne,column:_e,$table:m})):I?I({options:dt,values:Ue,cellValue:tt,row:Ne,column:_e}):Qe?dt.some(Nt=>Qe({value:Nt.value,option:Nt,cellValue:tt,row:Ne,column:_e,$table:m})):Ue.indexOf(s.get(Ne,_e.field))>-1});t&&R?(ie=s.searchTree(i,Te,{original:!0,isEvery:!0,children:f.mapChildrenField,mapChildren:E}),Z=ie):(Z=t?i.filter(Te):n.filter(Te),ie=Z)}else t&&R?(ie=s.searchTree(i,()=>!0,{original:!0,isEvery:!0,children:f.mapChildrenField,mapChildren:E}),Z=ie):(Z=t?i.slice(0):n.slice(0),ie=Z);if(!j&&Re.length)if(t&&R){if(H){const Te=H({data:ie,sortList:Re,$table:m});ie=s.isArray(Te)?Te:ie}else ie=s.orderBy(ie,Re.map(({column:Te,order:Ne})=>[qo(Te),Ne]));Z=ie}else{if(H){const Te=H({data:Z,sortList:Re,$table:m});Z=s.isArray(Te)?Te:Z}else Z=s.orderBy(Z,Re.map(({column:Te,order:Ne})=>[qo(Te),Ne]));ie=Z}}else t&&R?(ie=s.searchTree(i,()=>!0,{original:!0,isEvery:!0,children:f.mapChildrenField,mapChildren:E}),Z=ie):(Z=t?i.slice(0):n.slice(0),ie=Z);h.afterFullData=Z,h.afterTreeFullData=ie,ol()},Vt=()=>{const{border:t,showFooter:o,showOverflow:n,showHeaderOverflow:i,showFooterOverflow:c,mouseConfig:p,spanMethod:f,footerSpanMethod:E,keyboardConfig:R}=e,{isGroup:T,currentRow:I,tableColumn:j,scrollXLoad:H,scrollYLoad:G,overflowX:me,scrollbarWidth:Z,scrollbarHeight:ie,columnStore:te,editStore:Re,mergeList:Te,mergeFooterList:Ne,isAllOverflow:_e}=d;let{visibleColumn:Ue,fullColumnIdData:dt,tableHeight:Dt,tableWidth:yt,headerHeight:st,footerHeight:Tt,elemStore:Qe,customHeight:tt,customMinHeight:Nt,customMaxHeight:Bo}=h;const kl=["main","left","right"],xl=Le.value,Vo=eo.value,Ko=Oe.value,Fl=Je.value,sl=Qe["main-body-wrapper"],Il=sl?sl.value:null;xl&&(xl.style.top=`${st}px`,xl.style.height=Il?`${Il.offsetHeight-ie}px`:""),tt>0&&o&&(tt+=ie);const Yo=A.value;Yo&&(Yo.style.height=`${ie}px`);const Oo=W.value;if(Oo){let nt=0,wt=0;const lo=Nt-st-Tt;Bo&&(wt=Bo-st-Tt,wt=Math.max(lo,wt)),tt&&(nt=tt-st-Tt,wt&&(nt=Math.min(wt,nt)),nt=Math.max(lo,nt)),Oo.style.top=`${st}px`,Oo.style.width=`${Z}px`,Oo.style.height=`${nt+(me?-Math.max(1,ie):0)}px`}return kl.forEach((nt,wt)=>{const lo=wt>0?nt:"",hn=["header","body","footer"],Kl=lo==="left";let Uo=[],rl;lo&&(Uo=Kl?te.leftList:te.rightList,rl=Kl?oe.value:we.value),hn.forEach(bo=>{const Yl=Qe[`${nt}-${bo}-wrapper`],jo=Yl?Yl.value:null,Us=Qe[`${nt}-${bo}-table`],vl=Us?Us.value:null;if(bo==="header"){let go=yt,uo=j;T?uo=Ue:lo&&(H||i)&&(uo=Uo),go=uo.reduce((xo,So)=>xo+So.renderWidth,0),vl&&(vl.style.width=go?`${go+Z}px`:"");const Do=Qe[`${nt}-${bo}-repair`],fo=Do?Do.value:null;fo&&(fo.style.width=`${yt}px`);const Zt=Qe[`${nt}-${bo}-list`],mo=Zt?Zt.value:null;T&&mo&&s.arrayEach(mo.querySelectorAll(".col--group"),xo=>{const So=b.getColumnNode(xo);if(So){const gn=So.item,{showHeaderOverflow:es}=gn,Ul=s.isBoolean(es)?es:i,Gl=Ul==="title"||(Ul===!0||Ul==="tooltip")||Ul==="ellipsis";let Dl=0,Zl=0;Gl&&s.eachTree(gn.children,Ql=>{(!Ql.children||!gn.children.length)&&Zl++,Dl+=Ql.renderWidth},{children:"children"}),xo.style.width=Gl?`${Dl-Zl-(t?2:0)}px`:""}})}else if(bo==="body"){const go=Qe[`${nt}-${bo}-emptyBlock`],uo=go?go.value:null;if(ss(jo)){let Zt=0;const mo=Nt-st-Tt;if(Bo&&(Zt=Bo-st-Tt,lo&&(Zt-=o?0:ie),Zt=Math.max(mo,Zt),jo.style.maxHeight=`${Zt}px`),tt){let xo=tt-st-Tt;lo&&(xo-=o?0:ie),Zt&&(xo=Math.min(Zt,xo)),jo.style.height=`${Math.max(mo,xo)}px`}else jo.style.height="";jo.style.minHeight=`${mo}px`}rl&&(ss(jo)&&(jo.style.top=`${st}px`),rl.style.height=`${(tt>0?tt-st-Tt:Dt)+st+Tt-ie*(o?2:1)}px`,rl.style.width=`${Uo.reduce((Zt,mo)=>Zt+mo.renderWidth,Kl?0:Z)}px`);let Do=yt,fo=j;lo&&(!d.expandColumn&&(G||n&&_e)&&!Te.length&&!f&&!(R&&Fl.isMerge)?fo=Uo:fo=Ue),Do=fo.reduce((Zt,mo)=>Zt+mo.renderWidth,0),vl&&(vl.style.width=Do?`${Do}px`:"",vl.style.paddingRight=Z&&lo&&(ul["-moz"]||ul.safari)?`${Z}px`:""),uo&&(uo.style.width=Do?`${Do}px`:"")}else if(bo==="footer"){let go=yt,uo=j;lo&&(!d.expandColumn&&(H||c)&&(!Ne.length||!E)?uo=Uo:uo=Ue),go=uo.reduce((Do,fo)=>Do+fo.renderWidth,0),ss(jo)&&(rl&&(jo.style.top=`${tt>0?tt-Tt:Dt+st}px`),jo.style.marginTop=`${-Math.max(1,ie)}px`),vl&&(vl.style.width=go?`${go+Z}px`:"")}const Gs=Qe[`${nt}-${bo}-colgroup`],Zs=Gs?Gs.value:null;Zs&&s.arrayEach(Zs.children,go=>{const uo=go.getAttribute("name");if(uo==="col_gutter"&&(go.style.width=`${Z}px`),dt[uo]){const fo=dt[uo].column,{showHeaderOverflow:Zt,showFooterOverflow:mo,showOverflow:xo}=fo;let So;go.style.width=`${fo.renderWidth}px`,bo==="header"?So=s.isUndefined(Zt)||s.isNull(Zt)?i:Zt:bo==="footer"?So=s.isUndefined(mo)||s.isNull(mo)?c:mo:So=s.isUndefined(xo)||s.isNull(xo)?n:xo;let mn=So==="title"||(So===!0||So==="tooltip")||So==="ellipsis";const ts=Qe[`${nt}-${bo}-list`],os=ts?ts.value:null;G&&!mn&&(mn=!0),os&&s.arrayEach(os.querySelectorAll(`.${fo.id}`),Gl=>{const Dl=parseInt(Gl.getAttribute("colspan")||1),Zl=Gl.querySelector(".vxe-cell");let Ql=fo.renderWidth;if(Zl){if(Dl>1){const Hi=b.getColumnIndex(fo);for(let ls=1;ls<Dl;ls++){const Qs=b.getColumns(Hi+ls);Qs&&(Ql+=Qs.renderWidth)}}Zl.style.width=mn?`${Ql-Vo*Dl}px`:""}})}})})}),I&&b.setCurrentRow(I),p&&Ko.selected&&Re.selected.row&&Re.selected.column&&m.addCellSelectedClass(),ne()},Fo=t=>m.triggerValidate?m.triggerValidate(t):ne(),Tl=(t,o)=>{Fo("blur").catch(n=>n).then(()=>{m.handleEdit(o,t).then(()=>Fo("change")).catch(n=>n)})},nl=()=>{const{sortConfig:t}=e;if(t){const o=je.value;let{defaultSort:n}=o;n&&(s.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((i,c)=>{const{field:p,order:f}=i;if(p&&f){const E=b.getColumnByField(p);E&&E.sortable&&(E.order=f,E.sortTime=Date.now()+c)}}),o.remote||B.handleTableData(!0).then(Vt)))}},Nn=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:o}=h,n=Ae.value,{checkAll:i,checkRowKeys:c}=n;if(i)bl(!0,!0);else if(c){const p=[];c.forEach(f=>{o[f]&&p.push(o[f].row)}),Io(p,!0,!0)}}},sn=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:o}=h,n=qe.value,{checkRowKey:i,reserve:c}=n;if(i&&(o[i]&&Wt(o[i].row,!0),c)){const p=Zo(m);h.radioReserveRow={[p]:i}}}},ml=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:o}=h,n=it.value,{expandAll:i,expandRowKeys:c}=n;if(i)b.setAllRowExpand(!0);else if(c){const p=[];c.forEach(f=>{o[f]&&p.push(o[f].row)}),b.setRowExpand(p,!0)}}},Pn=t=>{qe.value.reserve&&(h.radioReserveRow=t)},ao=(t,o)=>{const{checkboxReserveRowMap:n}=h;if(Ae.value.reserve){const c=ve(m,t);o?n[c]=t:n[c]&&delete n[c]}},Wt=(t,o)=>{const n=qe.value,{checkMethod:i}=n;return t&&(o||!i||i({row:t}))&&(d.selectRadioRow=t,Pn(t)),ne()},Io=(t,o,n)=>(t&&!s.isArray(t)&&(t=[t]),B.handleBatchSelectRows(t,!!o,n),B.checkSelectionStatus(),ne()),bl=(t,o)=>{const{treeConfig:n}=e,{selectCheckboxMaps:i}=d,{afterFullData:c,checkboxReserveRowMap:p}=h,f=lt.value,E=f.children||f.childrenField,R=Ae.value,{checkField:T,reserve:I,checkStrictly:j,checkMethod:H}=R,G=R.indeterminateField||R.halfField,me={};if(j)d.isAllSelected=t;else{if(T){const Z=ie=>{(o||!H||H({row:ie}))&&(t&&(me[ve(m,ie)]=ie),s.set(ie,T,t)),n&&G&&s.set(ie,G,!1)};n?s.eachTree(c,Z,{children:E}):c.forEach(Z)}else n?t?s.eachTree(c,Z=>{(o||!H||H({row:Z}))&&(me[ve(m,Z)]=Z)},{children:E}):!o&&H&&s.eachTree(c,Z=>{const ie=ve(m,Z);!H({row:Z})&&i[ie]&&(me[ie]=Z)},{children:E}):t?!o&&H?c.forEach(Z=>{const ie=ve(m,Z);(i[ie]||H({row:Z}))&&(me[ie]=Z)}):c.forEach(Z=>{me[ve(m,Z)]=Z}):!o&&H&&c.forEach(Z=>{const ie=ve(m,Z);!H({row:Z})&&i[ie]&&(me[ie]=Z)});I&&(t?s.each(me,(Z,ie)=>{p[ie]=Z}):c.forEach(Z=>ao(Z,!1))),d.selectCheckboxMaps=T?{}:me}return d.treeIndeterminateMaps={},h.treeIndeterminateRowMaps={},B.checkSelectionStatus(),ne()},St=()=>{const{treeConfig:t}=e,{expandColumn:o,currentRow:n,selectCheckboxMaps:i,selectRadioRow:c,rowExpandedMaps:p,treeExpandedMaps:f}=d,{fullDataRowIdData:E,fullAllDataRowIdData:R,radioReserveRow:T}=h,I=it.value,j=lt.value,H=qe.value,G=Ae.value;if(c&&!R[ve(m,c)]&&(d.selectRadioRow=null),H.reserve&&T){const me=ve(m,T);E[me]&&Wt(E[me].row,!0)}d.selectCheckboxMaps=Ht(i),G.reserve&&Io(Xt(h.checkboxReserveRowMap),!0,!0),n&&!R[ve(m,n)]&&(d.currentRow=null),d.rowExpandedMaps=o?Ht(p):{},o&&I.reserve&&b.setRowExpand(Xt(h.rowExpandedReserveRowMap),!0),d.treeExpandedMaps=t?Ht(f):{},t&&j.reserve&&b.setTreeExpand(Xt(h.treeExpandedReserveRowMap),!0)},Ro=()=>{const{treeConfig:t}=e;if(t){const{tableFullData:o}=h,n=lt.value,{expandAll:i,expandRowKeys:c}=n,p=n.children||n.childrenField;if(i)b.setAllTreeExpand(!0);else if(c){const f=[],E=Zo(m);c.forEach(R=>{const T=s.findTree(o,I=>R===s.get(I,E),{children:p});T&&f.push(T.item)}),b.setTreeExpand(f,!0)}}},Xo=t=>{const o=lt.value,n=Ae.value,{transform:i,loadMethod:c}=o,{checkStrictly:p}=n;return new Promise(f=>{if(c){const{treeExpandLazyLoadedMaps:E}=d,{fullAllDataRowIdData:R}=h,T=ve(m,t),I=R[T];E[T]=t,Promise.resolve(c({$table:m,row:t})).then(j=>{if(I&&(I.treeLoaded=!0),E[T]&&delete E[T],s.isArray(j)||(j=[]),j)return b.loadTreeChildren(t,j).then(H=>{const{treeExpandedMaps:G}=d;return H.length&&!G[T]&&(G[T]=t),!p&&b.isCheckedByCheckboxRow(t)&&Io(H,!0),ne().then(()=>{if(i)return B.handleTableData()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:j}=d;I&&(I.treeLoaded=!1),j[T]&&delete j[T]}).finally(()=>{ne().then(()=>b.recalculate()).then(()=>f())})}else f()})},Ls=(t,o)=>{const{treeExpandedReserveRowMap:n}=h;if(lt.value.reserve){const c=ve(m,t);o?n[c]=t:n[c]&&delete n[c]}},As=t=>new Promise(o=>{const n=it.value,{loadMethod:i}=n;if(i){const{fullAllDataRowIdData:c}=h,{rowExpandLazyLoadedMaps:p}=d,f=ve(m,t),E=c[f];p[f]=t,i({$table:m,row:t,rowIndex:b.getRowIndex(t),$rowIndex:b.getVMRowIndex(t)}).then(()=>{const{rowExpandedMaps:R}=d;E&&(E.expandLoaded=!0),R[f]=t}).catch(()=>{E&&(E.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:R}=d;R[f]&&delete R[f],ne().then(()=>b.recalculate()).then(()=>o())})}else o()}),Hs=(t,o)=>{const{rowExpandedReserveRowMap:n}=h;if(it.value.reserve){const c=ve(m,t);o?n[c]=t:n[c]&&delete n[c]}},fi=()=>{const{mergeCells:t}=e;t&&b.setMergeCells(t)},pi=()=>{const{mergeFooterItems:t}=e;t&&b.setMergeFooterItems(t)},rn=()=>ne().then(()=>{const{showOverflow:t}=e,{scrollXLoad:o,scrollYLoad:n}=d,{scrollXStore:i,scrollYStore:c}=h,p=pe.value,f=K.value;if(o){const{visibleSize:T}=zt(),j=Math.max(t?0:2,f.oSize?s.toNumber(f.oSize):ul.edge?5:0);i.offsetSize=j,i.visibleSize=T,i.endIndex=Math.max(i.startIndex+i.visibleSize+j,i.endIndex),B.updateScrollXData()}else B.updateScrollXSpace();gl();const E=Bt();c.rowHeight=E,d.rowHeight=E;const{visibleSize:R}=co();if(n){const I=Math.max(t?0:2,p.oSize?s.toNumber(p.oSize):ul.edge?10:0);c.offsetSize=I,c.visibleSize=R,c.endIndex=Math.max(c.startIndex+R+I,c.endIndex),B.updateScrollYData()}else B.updateScrollYSpace();ne(Vt)}),an=t=>{const{keepSource:o,treeConfig:n}=e,{editStore:i,scrollYLoad:c}=d,{scrollYStore:p,scrollXStore:f,lastScrollLeft:E,lastScrollTop:R}=h,T=lt.value,{transform:I}=T,j=T.children||T.childrenField;let H=[],G=zo(t?t.slice(0):[]);n&&(I?(H=s.toArrayTree(G,{key:T.rowField,parentKey:T.parentField,children:j,mapChildren:T.mapChildrenField}),G=H.slice(0)):H=G.slice(0)),p.startIndex=0,p.endIndex=1,f.startIndex=0,f.endIndex=1,d.scrollVMLoading=!1,i.insertMaps={},i.removeMaps={};const me=_n(G);return d.scrollYLoad=me,h.tableFullData=G,h.tableFullTreeData=H,B.cacheRowMap(!0),h.tableSynchData=t,o&&B.cacheSourceMap(G),m.clearCellAreas&&e.mouseConfig&&(m.clearCellAreas(),m.clearCopyCellArea()),b.clearMergeCells(),b.clearMergeFooterItems(),B.handleTableData(!0),b.updateFooter(),ne().then(()=>{hl(),Vt()}).then(()=>{rn()}).then(()=>(me&&(p.endIndex=p.visibleSize),St(),B.checkSelectionStatus(),new Promise(Z=>{ne().then(()=>b.recalculate()).then(()=>{let ie=E,te=R;const Re=K.value,Te=pe.value;Re.scrollToLeftOnChange&&(ie=0),Te.scrollToTopOnChange&&(te=0),c===me?rs(m,ie,te).then(Z):setTimeout(()=>rs(m,ie,te).then(Z))})})))},cn=()=>{Nn(),sn(),ml(),Ro(),fi(),pi(),ne(()=>setTimeout(()=>b.recalculate()))},dn=()=>{nl()},$s=()=>{const{scrollXLoad:t}=d,{visibleColumn:o,scrollXStore:n,fullColumnIdData:i}=h,c=t?o.slice(n.startIndex,n.endIndex):o.slice(0);c.forEach((p,f)=>{const E=p.id,R=i[E];R&&(R.$index=f)}),d.tableColumn=c},Bs=()=>{const{mergeList:t,mergeFooterList:o}=d,{scrollXStore:n}=h,{startIndex:i,endIndex:c,offsetSize:p}=n,{toVisibleIndex:f,visibleSize:E}=zt(),R={startIndex:Math.max(0,f-1-p),endIndex:f+E+p};Ot(t.concat(o),R,"col");const{startIndex:T,endIndex:I}=R;(f<=i||f>=c-E-1)&&(i!==T||c!==I)&&(n.startIndex=T,n.endIndex=I,B.updateScrollXData()),b.closeTooltip()},un=t=>{const o=[];return t.forEach(n=>{o.push(...n.children&&n.children.length?un(n.children):[n])}),o},Vs=()=>{const t=[],o=[],n=[],{isGroup:i,columnStore:c}=d,p=K.value,{collectColumn:f,tableFullColumn:E,scrollXStore:R,fullColumnIdData:T}=h;if(i){const H=[],G=[],me=[];s.eachTree(f,(Z,ie,te,Re,Te)=>{const Ne=Nl(Z);Te&&Te.fixed&&(Z.fixed=Te.fixed),Te&&Z.fixed!==Te.fixed&&so("vxe.error.groupFixed"),Ne?Z.visible=!!s.findTree(Z.children,_e=>Nl(_e)?!1:_e.visible):Z.visible&&(Z.fixed==="left"?t.push(Z):Z.fixed==="right"?n.push(Z):o.push(Z))}),f.forEach(Z=>{Z.visible&&(Z.fixed==="left"?H.push(Z):Z.fixed==="right"?me.push(Z):G.push(Z))}),d.tableGroupColumn=H.concat(G).concat(me)}else E.forEach(H=>{H.visible&&(H.fixed==="left"?t.push(H):H.fixed==="right"?n.push(H):o.push(H))});const I=t.concat(o).concat(n),j=!!p.enabled&&p.gt>-1&&(p.gt===0||p.gt<E.length);if(d.hasFixedColumn=t.length>0||n.length>0,Object.assign(c,{leftList:t,centerList:o,rightList:n}),j){const{visibleSize:H}=zt();R.startIndex=0,R.endIndex=H,R.visibleSize=H}return(I.length!==h.visibleColumn.length||!h.visibleColumn.every((H,G)=>H===I[G]))&&(b.clearMergeCells(),b.clearMergeFooterItems()),d.scrollXLoad=j,I.forEach((H,G)=>{const me=H.id,Z=T[me];Z&&(Z._index=G)}),h.visibleColumn=I,$s(),b.updateFooter().then(()=>b.recalculate()).then(()=>(b.updateCellAreas(),b.recalculate()))},hi=()=>{const{collectColumn:t}=h;t.forEach((o,n)=>{const i=n+1;o.sortNumber=i,o.renderSortNumber=i})},js=t=>{h.collectColumn=t;const o=un(t);return h.tableFullColumn=o,d._isLoading=!0,hi(),Promise.resolve(Vn()).then(()=>(d._isLoading=!1,Ml(),Vs().then(()=>{d.scrollXLoad&&Bs()}),b.clearMergeCells(),b.clearMergeFooterItems(),B.handleTableData(!0),ne().then(()=>(le&&le.syncUpdate({collectColumn:t,$table:m}),b.recalculate()))))},_n=t=>{const{treeConfig:o}=e,n=pe.value,i=lt.value,{transform:c}=i,p=t||h.tableFullData,f=(c||!o)&&!!n.enabled&&n.gt>-1&&(n.gt===0||n.gt<p.length);return d.scrollYLoad=f,f},Ns=(t,o)=>{const{treeExpandedMaps:n,treeExpandLazyLoadedMaps:i,treeNodeColumn:c}=d,p=Object.assign({},n),{fullAllDataRowIdData:f,tableFullData:E}=h,R=lt.value,{reserve:T,lazy:I,accordion:j,toggleMethod:H}=R,G=R.children||R.childrenField,me=R.hasChild||R.hasChildField,Z=[],ie=b.getColumnIndex(c),te=b.getVMColumnIndex(c);let Re=H?t.filter(Te=>H({$table:m,expanded:o,column:c,columnIndex:ie,$columnIndex:te,row:Te})):t;if(j){Re=Re.length?[Re[Re.length-1]]:[];const Te=s.findTree(E,Ne=>Ne===Re[0],{children:G});Te&&Te.items.forEach(Ne=>{const _e=ve(m,Ne);p[_e]&&delete p[_e]})}return o?Re.forEach(Te=>{const Ne=ve(m,Te);if(!p[Ne]){const _e=f[Ne];_e&&(I&&Te[me]&&!_e.treeLoaded&&!i[Ne]?Z.push(Xo(Te)):Te[G]&&Te[G].length&&(p[Ne]=Te))}}):Re.forEach(Te=>{const Ne=ve(m,Te);p[Ne]&&delete p[Ne]}),T&&Re.forEach(Te=>Ls(Te,o)),d.treeExpandedMaps=p,Promise.all(Z).then(()=>b.recalculate())},gi=(t,o)=>Ns(t,o).then(()=>($o(),B.handleTableData())).then(()=>b.recalculate()),Ps=(t,o)=>{bl(o),t&&Et("checkbox-all",{records:b.getCheckboxRecords(),reserves:b.getCheckboxReserveRecords(),indeterminates:b.getCheckboxIndeterminateRecords(),checked:o},t)},_s=()=>{const{mergeList:t}=d,{scrollYStore:o}=h,{startIndex:n,endIndex:i,offsetSize:c}=o,{toVisibleIndex:p,visibleSize:f}=co(),E={startIndex:Math.max(0,p-1-c),endIndex:p+f+c};Ot(t,E,"row");const{startIndex:R,endIndex:T}=E;(p<=n||p>=i-f-1)&&(n!==R||i!==T)&&(o.startIndex=R,o.endIndex=T,B.updateScrollYData())},fn=t=>function(o){const{fullAllDataRowIdData:n}=h;if(o){const i=ve(m,o),c=n[i];if(c)return c[t]}return-1},zn=t=>function(o){const{fullColumnIdData:n}=h;if(o){const i=n[o.id];if(i)return i[t]}return-1},mi=s.debounce(function(){_s()},20,{leading:!1,trailing:!0}),bi=t=>{const o=y.value,n=S.value,i=w.value,c=n.$el,p=o?o.$el:null,f=i?i.$el:null;Ut(c,t),Ut(p,t),Ut(f,t)},xi=t=>{const o=t.currentTarget,{scrollTop:n,scrollLeft:i}=o,c=!0,p=!1;bi(i),m.triggerScrollXEvent(t),m.handleScrollEvent(t,p,c,n,i,{type:"table",fixed:""})},vi=s.debounce(function(){B.updateScrollYSpace()},1e3,{leading:!1,trailing:!0}),Ci=t=>{const o=S.value,n=q.value,i=Ce.value,c=o.$el,p=n?n.$el:null,f=i?i.$el:null;$t(c,t),$t(p,t),$t(f,t)},wi=t=>{const o=t.currentTarget,{scrollTop:n,scrollLeft:i}=o,c=!1,p=!0;Ci(n),m.triggerScrollYEvent(t),m.handleScrollEvent(t,p,c,n,i,{type:"table",fixed:""})};let zs;const Et=(t,o,n)=>{a(t,Na(n,{$table:m,$grid:U},o))};b={dispatchEvent:Et,clearAll(){return Ca(m)},syncData(){return Cs("vxe.error.delFunc",["syncData","getData"]),ne().then(()=>(d.tableData=[],a("update:data",h.tableFullData),ne()))},updateData(){const{scrollXLoad:t,scrollYLoad:o}=d;return B.handleTableData(!0).then(()=>{if(b.updateFooter(),t||o)return t&&B.updateScrollXSpace(),o&&B.updateScrollYSpace(),b.refreshScroll()}).then(()=>(b.updateCellAreas(),b.recalculate(!0))).then(()=>{setTimeout(()=>m.recalculate(),50)})},loadData(t){const{inited:o,initStatus:n}=h;return an(t).then(()=>(h.inited=!0,h.initStatus=!0,n||cn(),o||dn(),b.recalculate()))},reloadData(t){const{inited:o}=h;return b.clearAll().then(()=>(h.inited=!0,h.initStatus=!0,an(t))).then(()=>(cn(),o||dn(),b.recalculate()))},setRow(t,o){if(t&&o){let n=t;s.isArray(t)||(n=[t]);const i=Zo(m);n.forEach(c=>{const p=ve(m,c),f=s.clone(Object.assign({},o),!0);s.set(f,i,p),Object.assign(c,f)})}return ne()},reloadRow(t,o,n){const{keepSource:i}=e,{tableData:c}=d,{tableSourceData:p}=h;if(i){const f=b.getRowIndex(t),E=p[f];if(E&&t)if(n){const R=s.clone(s.get(o||t,n),!0);s.set(t,n,R),s.set(E,n,R)}else{const R=Zo(m),T=ve(m,t),I=s.clone(Object.assign({},o),!0);s.set(I,R,T),s.destructuring(E,Object.assign(t,I))}d.tableData=c.slice(0)}return ne()},getParams(){return e.params},loadTreeChildren(t,o){const{keepSource:n}=e,{tableSourceData:i,fullDataRowIdData:c,fullAllDataRowIdData:p,sourceDataRowIdData:f}=h,E=lt.value,{transform:R,mapChildrenField:T}=E,I=E.children||E.childrenField,j=p[ve(m,t)],H=j?j.level:0;return b.createData(o).then(G=>{if(n){const me=ve(m,t),Z=s.findTree(i,ie=>me===ve(m,ie),{children:I});Z&&(Z.item[I]=s.clone(G,!0)),G.forEach(ie=>{const te=ve(m,ie);f[te]=s.clone(ie,!0)})}return s.eachTree(G,(me,Z,ie,te,Re,Te)=>{const Ne=ve(m,me),_e=Re||j.row,Ue={row:me,rowid:Ne,seq:-1,index:Z,_index:-1,$index:-1,items:ie,parent:_e,level:H+Te.length,height:0};c[Ne]=Ue,p[Ne]=Ue},{children:I}),t[I]=G,R&&(t[T]=s.clone(G,!1)),ol(),G})},loadColumn(t){const o=s.mapTree(t,n=>zo(Ke.createColumn(m,n)));return js(o)},reloadColumn(t){return b.clearAll().then(()=>b.loadColumn(t))},getRowNode(t){if(t){const{fullAllDataRowIdData:o}=h,n=t.getAttribute("rowid");if(n){const i=o[n];if(i)return{rowid:i.rowid,item:i.row,index:i.index,items:i.items,parent:i.parent}}}return null},getColumnNode(t){if(t){const{fullColumnIdData:o}=h,n=t.getAttribute("colid");if(n){const i=o[n];if(i)return{colid:i.colid,item:i.column,index:i.index,items:i.items,parent:i.parent}}}return null},getRowSeq:fn("seq"),getRowIndex:fn("index"),getVTRowIndex:fn("_index"),getVMRowIndex:fn("$index"),getColumnIndex:zn("index"),getVTColumnIndex:zn("_index"),getVMColumnIndex:zn("$index"),createData(t){return ne().then(()=>zo(B.defineField(t)))},createRow(t){const o=s.isArray(t);return o||(t=[t||{}]),b.createData(t).then(n=>o?n:n[0])},revertData(t,o){const{keepSource:n}=e,{tableSourceData:i,sourceDataRowIdData:c}=h;if(!n)return ne();let p=t;return t?s.isArray(t)||(p=[t]):p=s.toArray(m.getUpdateRecords()),p.length&&p.forEach(f=>{if(!b.isInsertByRow(f)){const E=ve(m,f),R=c[E];R&&f&&(o?s.set(f,o,s.clone(s.get(R,o),!0)):s.destructuring(f,s.clone(R,!0)))}}),t?ne():b.reloadData(i)},clearData(t,o){const{tableFullData:n,visibleColumn:i}=h;return arguments.length?t&&!s.isArray(t)&&(t=[t]):t=n,o?t.forEach(c=>s.set(c,o,null)):t.forEach(c=>{i.forEach(p=>{p.field&&_o(c,p,null)})}),ne()},getCellElement(t,o){const n=Gt(m,o);if(!n)return null;const i=ve(m,t),c=S.value,p=q.value,f=Ce.value;let E;return n&&(n.fixed&&(n.fixed==="left"?p&&(E=p.$el):f&&(E=f.$el)),E||(E=c.$el),E)?E.querySelector(`.vxe-body--row[rowid="${i}"] .${n.id}`):null},getCellLabel(t,o){const n=Gt(m,o);if(!n)return null;const i=n.formatter,c=Jt(t,n);let p=c;if(i){let f;const{fullAllDataRowIdData:E}=h,R=ve(m,t),T=n.id,I=E[R];if(I&&(f=I.formatData,f||(f=E[R].formatData={}),I&&f[T]&&f[T].value===c))return f[T].label;const j={cellValue:c,row:t,rowIndex:b.getRowIndex(t),column:n,columnIndex:b.getColumnIndex(n)};if(s.isString(i)){const H=pr.get(i),G=H?H.tableCellFormatMethod||H.cellFormatMethod:null;p=G?G(j):""}else if(s.isArray(i)){const H=pr.get(i[0]),G=H?H.tableCellFormatMethod||H.cellFormatMethod:null;p=G?G(j,...i.slice(1)):""}else p=i(j);f&&(f[T]={value:c,label:p})}return p},isInsertByRow(t){const{editStore:o}=d,n=ve(m,t);return o.insertMaps[n]},removeInsertRow(){const{editStore:t}=d;return t.insertMaps={},m.remove(m.getInsertRecords())},isUpdateByRow(t,o){const{keepSource:n}=e,{tableFullColumn:i,fullDataRowIdData:c,sourceDataRowIdData:p}=h;if(n){const f=ve(m,t);if(!c[f])return!1;const E=p[f];if(E){if(arguments.length>1)return!bt(E,t,o);for(let R=0,T=i.length;R<T;R++){const I=i[R].field;if(I&&!bt(E,t,I))return!0}}}return!1},getColumns(t){const o=h.visibleColumn;return s.isUndefined(t)?o.slice(0):o[t]},getColid(t){const o=Gt(m,t);return o?o.id:null},getColumnById(t){const o=h.fullColumnIdData;return t&&o[t]?o[t].column:null},getColumnByField(t){const o=h.fullColumnFieldData;return t&&o[t]?o[t].column:null},getParentColumn(t){const o=h.fullColumnIdData,n=Gt(m,t);return n&&n.parentId&&o[n.parentId]?o[n.parentId].column:null},getTableColumn(){return{collectColumn:h.collectColumn.slice(0),fullColumn:h.tableFullColumn.slice(0),visibleColumn:h.visibleColumn.slice(0),tableColumn:d.tableColumn.slice(0)}},getData(t){const o=e.data||h.tableSynchData;return s.isUndefined(t)?o.slice(0):o[t]},getCheckboxRecords(t){const{treeConfig:o}=e,{tableFullData:n,afterFullData:i,afterTreeFullData:c,tableFullTreeData:p,fullDataRowIdData:f,afterFullRowMaps:E}=h,R=lt.value,T=Ae.value,{transform:I,mapChildrenField:j}=R,{checkField:H}=T,G=R.children||R.childrenField;let me=[];const Z=t?I?p:n:I?c:i;if(H)o?me=s.filterTree(Z,ie=>s.get(ie,H),{children:I?j:G}):me=Z.filter(ie=>s.get(ie,H));else{const{selectCheckboxMaps:ie}=d;s.each(ie,(te,Re)=>{t?f[Re]&&me.push(f[Re].row):E[Re]&&me.push(E[Re])})}return me},getParentRow(t){const{treeConfig:o}=e,{fullDataRowIdData:n}=h;if(t&&o){let i;if(s.isString(t)?i=t:i=ve(m,t),i){const c=n[i];return c?c.parent:null}}return null},getRowById(t){const{fullDataRowIdData:o}=h,n=s.eqNull(t)?"":encodeURIComponent(t||"");return o[n]?o[n].row:null},getRowid(t){return ve(m,t)},getTableData(){const{tableData:t,footerTableData:o}=d,{tableFullData:n,afterFullData:i,tableFullTreeData:c}=h;return{fullData:e.treeConfig?c.slice(0):n.slice(0),visibleData:i.slice(0),tableData:t.slice(0),footerData:o.slice(0)}},setColumnFixed(t,o){let n=!1;const i=s.isArray(t)?t:[t],c=he.value,p=mt.value;for(let f=0;f<i.length;f++){const E=i[f],R=Gt(m,E),T=tr(m,R);if(T&&T.fixed!==o){if(!T.fixed&&p)return J.modal&&J.modal.message({status:"error",content:us("vxe.table.maxFixedCol",[c.maxFixedSize])}),ne();s.eachTree([T],I=>{I.fixed=o}),B.saveCustomStore("update:fixed"),n||(n=!0)}}return n?b.refreshColumn():ne()},clearColumnFixed(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(i=>{const c=Gt(m,i),p=tr(m,c);p&&p.fixed&&(s.eachTree([p],f=>{f.fixed=null}),B.saveCustomStore("update:fixed"),o||(o=!0))}),o?b.refreshColumn():ne()},hideColumn(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(i=>{const c=Gt(m,i);c&&c.visible&&(c.visible=!1,o||(o=!0))}),o?B.handleCustom():ne()},showColumn(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(i=>{const c=Gt(m,i);c&&!c.visible&&(c.visible=!0,o||(o=!0))}),o?B.handleCustom():ne()},setColumnWidth(t,o){let n=!1;return(s.isArray(t)?t:[t]).forEach(c=>{const p=Gt(m,c);if(p){const f=s.toInteger(o);let E=f;if(on(o)){const R=S.value,T=R?R.$el:null,I=T?T.clientWidth-1:0;E=Math.floor(f*I)}p.resizeWidth=E,n||(n=!0)}}),n?b.refreshColumn():ne()},getColumnWidth(t){const o=Gt(m,t);return o?o.renderWidth:0},resetColumn(t){return Cs("vxe.error.delFunc",["resetColumn","resetCustom"]),m.resetCustom(t)},refreshColumn(t){if(t){const o=s.orderBy(h.collectColumn,"renderSortNumber");h.collectColumn=o;const n=un(o);h.tableFullColumn=n,Ml()}return Vs().then(()=>b.refreshScroll()).then(()=>b.recalculate())},refreshScroll(){const{lastScrollLeft:t,lastScrollTop:o}=h,n=S.value,i=w.value,c=q.value,p=Ce.value,f=n?n.$el:null,E=c?c.$el:null,R=p?p.$el:null,T=i?i.$el:null;return new Promise(I=>{if(t||o)return rs(m,t,o).then().then(()=>{setTimeout(I,30)});$t(f,o),$t(E,o),$t(R,o),Ut(T,t),setTimeout(I,30)})},recalculate(t){const o=L.value;return!o||!o.clientWidth?ne():(gl(),jn(),ql(),t===!0?rn().then(()=>(gl(),ql(),rn())):rn())},openTooltip(t,o){const n=D.value;return n&&n.open?n.open(t,o):ne()},closeTooltip(){const{tooltipStore:t}=d,o=X.value,n=D.value;return t.visible&&(Object.assign(t,{row:null,column:null,content:null,visible:!1,currOpts:{}}),o&&o.close&&o.close()),n&&n.close&&n.close(),ne()},isAllCheckboxChecked(){return d.isAllSelected},isAllCheckboxIndeterminate(){return!d.isAllSelected&&d.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:o}=e,{fullDataRowIdData:n}=h,{treeIndeterminateMaps:i}=d;if(o){const c=[],p=[];return s.each(i,(f,E)=>{f&&(c.push(f),n[E]&&p.push(f))}),t?c:p}return[]},setCheckboxRow(t,o){return t&&!s.isArray(t)&&(t=[t]),Io(t,o,!0)},isCheckedByCheckboxRow(t){const{selectCheckboxMaps:o}=d,n=Ae.value,{checkField:i}=n;return i?s.get(t,i):!!o[ve(m,t)]},isIndeterminateByCheckboxRow(t){const{treeIndeterminateMaps:o}=d;return!!o[ve(m,t)]&&!b.isCheckedByCheckboxRow(t)},toggleCheckboxRow(t){const{selectCheckboxMaps:o}=d,n=Ae.value,{checkField:i}=n,c=i?!s.get(t,i):!o[ve(m,t)];return B.handleSelectRow({row:t},c,!0),B.checkSelectionStatus(),ne()},setAllCheckboxRow(t){return bl(t,!0)},getRadioReserveRecord(t){const{treeConfig:o}=e,{fullDataRowIdData:n,radioReserveRow:i,afterFullData:c}=h,p=qe.value,f=lt.value,E=f.children||f.childrenField;if(p.reserve&&i){const R=ve(m,i);if(t){if(!n[R])return i}else{const T=Zo(m);if(o){if(s.findTree(c,j=>R===s.get(j,T),{children:E}))return i}else if(!c.some(I=>R===s.get(I,T)))return i}}return null},clearRadioReserve(){return h.radioReserveRow=null,ne()},getCheckboxReserveRecords(t){const{treeConfig:o}=e,{afterFullData:n,fullDataRowIdData:i,checkboxReserveRowMap:c}=h,p=Ae.value,f=lt.value,E=f.children||f.childrenField,R=[];if(p.reserve){const T={};o?s.eachTree(n,I=>{T[ve(m,I)]=1},{children:E}):n.forEach(I=>{T[ve(m,I)]=1}),s.each(c,(I,j)=>{I&&(t?i[j]||R.push(I):T[j]||R.push(I))})}return R},clearCheckboxReserve(){return h.checkboxReserveRowMap={},ne()},toggleAllCheckboxRow(){return Ps(null,!d.isAllSelected),ne()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:o}=h,n=lt.value,i=n.children||n.childrenField,c=Ae.value,{checkField:p,reserve:f}=c,E=c.indeterminateField||c.halfField;if(p){const R=T=>{t&&E&&s.set(T,E,!1),s.set(T,p,!1)};t?s.eachTree(o,R,{children:i}):o.forEach(R)}return f&&o.forEach(R=>ao(R,!1)),d.isAllSelected=!1,d.isIndeterminate=!1,d.selectCheckboxMaps={},d.treeIndeterminateMaps={},ne()},setCurrentRow(t){const o=Be.value,n=L.value;return b.clearCurrentRow(),d.currentRow=t,(o.isCurrent||e.highlightCurrentRow)&&n&&s.arrayEach(n.querySelectorAll(`[rowid="${ve(m,t)}"]`),i=>Ao(i,"row--current")),ne()},isCheckedByRadioRow(t){return m.eqRow(d.selectRadioRow,t)},setRadioRow(t){return Wt(t,!0)},clearCurrentRow(){const t=L.value;return d.currentRow=null,h.hoverRow=null,t&&s.arrayEach(t.querySelectorAll(".row--current"),o=>ho(o,"row--current")),ne()},clearRadioRow(){return d.selectRadioRow=null,ne()},getCurrentRecord(){return Be.value.isCurrent||e.highlightCurrentRow?d.currentRow:null},getRadioRecord(t){const{fullDataRowIdData:o,afterFullRowMaps:n}=h,{selectRadioRow:i}=d;if(i){const c=ve(m,i);if(t){if(o[c])return i}else if(n[c])return i}return null},getCurrentColumn(){return he.value.isCurrent||e.highlightCurrentColumn?d.currentColumn:null},setCurrentColumn(t){const o=Gt(m,t);return o&&(b.clearCurrentColumn(),d.currentColumn=o),ne()},clearCurrentColumn(){return d.currentColumn=null,ne()},setPendingRow(t,o){const n=Object.assign({},d.pendingRowMaps),i=[...d.pendingRowList];return t&&!s.isArray(t)&&(t=[t]),o?t.forEach(c=>{const p=ve(m,c);p&&!n[p]&&(i.push(c),n[p]=c)}):t.forEach(c=>{const p=ve(m,c);if(p&&n[p]){const f=m.findRowIndexOf(i,c);f>-1&&i.splice(f,1),delete n[p]}}),d.pendingRowMaps=n,d.pendingRowList=i,ne()},togglePendingRow(t){const o=Object.assign({},d.pendingRowMaps),n=[...d.pendingRowList];return t&&!s.isArray(t)&&(t=[t]),t.forEach(i=>{const c=ve(m,i);if(c)if(o[c]){const p=m.findRowIndexOf(n,i);p>-1&&n.splice(p,1),delete o[c]}else n.push(i),o[c]=i}),d.pendingRowMaps=o,d.pendingRowList=n,ne()},hasPendingByRow(t){return b.isPendingByRow(t)},isPendingByRow(t){const{pendingRowMaps:o}=d,n=ve(m,t);return!!o[n]},getPendingRecords(){const{pendingRowList:t}=d;return t.slice(0)},clearPendingRow(){return d.pendingRowMaps={},d.pendingRowList=[],ne()},sort(t,o){const n=je.value,{multiple:i,remote:c,orders:p}=n;return t&&s.isString(t)&&(t=[{field:t,order:o}]),s.isArray(t)||(t=[t]),t.length?(i||To(),(i?t:[t[0]]).forEach((f,E)=>{let{field:R,order:T}=f,I=R;s.isString(R)&&(I=b.getColumnByField(R)),I&&I.sortable&&(p.indexOf(T)===-1&&(T=Mt(I)),I.order!==T&&(I.order=T),I.sortTime=Date.now()+E)}),c||B.handleTableData(!0),ne().then(()=>(b.updateCellAreas(),Vt()))):ne()},clearSort(t){const o=je.value;if(t){const n=Gt(m,t);n&&(n.order=null)}else To();return o.remote||B.handleTableData(!0),ne().then(Vt)},isSort(t){if(t){const o=Gt(m,t);return o?o.sortable&&!!o.order:!1}return b.getSortColumns().length>0},getSortColumns(){const t=je.value,{multiple:o,chronological:n}=t,i=[],{tableFullColumn:c}=h;return c.forEach(p=>{const{field:f,order:E}=p;p.sortable&&E&&i.push({column:p,field:f,property:f,order:E,sortTime:p.sortTime})}),o&&n&&i.length>1?s.orderBy(i,"sortTime"):i},closeFilter(){const{filterStore:t}=d,{column:o,visible:n}=t;return Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),n&&Et("filter-visible",{column:o,property:o.field,field:o.field,filterList:m.getCheckedFilters(),visible:!1},null),ne()},isActiveFilterByColumn(t){const o=Gt(m,t);return o?o.filters&&o.filters.some(n=>n.checked):m.getCheckedFilters().length>0},isFilter(t){return b.isActiveFilterByColumn(t)},isRowExpandLoaded(t){const{fullAllDataRowIdData:o}=h,n=o[ve(m,t)];return n&&!!n.expandLoaded},clearRowExpandLoaded(t){const{rowExpandLazyLoadedMaps:o}=d,{fullAllDataRowIdData:n}=h,i=it.value,{lazy:c}=i,p=ve(m,t),f=n[p];return c&&f&&(f.expandLoaded=!1,delete o[p]),ne()},reloadRowExpand(t){const{rowExpandLazyLoadedMaps:o}=d,n=it.value,{lazy:i}=n,c=ve(m,t);return i&&!o[c]&&b.clearRowExpandLoaded(t).then(()=>As(t)),ne()},reloadExpandContent(t){return b.reloadRowExpand(t)},toggleRowExpand(t){return b.setRowExpand(t,!b.isRowExpandByRow(t))},setAllRowExpand(t){const o=lt.value,{tableFullData:n,tableFullTreeData:i}=h,c=o.children||o.childrenField;let p=[];return e.treeConfig?s.eachTree(i,f=>{p.push(f)},{children:c}):p=n,b.setRowExpand(p,t)},setRowExpand(t,o){const{rowExpandedMaps:n,rowExpandLazyLoadedMaps:i,expandColumn:c}=d,{fullAllDataRowIdData:p}=h;let f=Object.assign({},n);const E=it.value,{reserve:R,lazy:T,accordion:I,toggleMethod:j}=E,H=[],G=b.getColumnIndex(c),me=b.getVMColumnIndex(c);if(t){s.isArray(t)||(t=[t]),I&&(f={},t=t.slice(t.length-1,t.length));const Z=j?t.filter(ie=>j({$table:m,expanded:o,column:c,columnIndex:G,$columnIndex:me,row:ie,rowIndex:b.getRowIndex(ie),$rowIndex:b.getVMRowIndex(ie)})):t;o?Z.forEach(ie=>{const te=ve(m,ie);if(!f[te]){const Re=p[te];T&&!Re.expandLoaded&&!i[te]?H.push(As(ie)):f[te]=ie}}):Z.forEach(ie=>{const te=ve(m,ie);f[te]&&delete f[te]}),R&&Z.forEach(ie=>Hs(ie,o))}return d.rowExpandedMaps=f,Promise.all(H).then(()=>b.recalculate())},isRowExpandByRow(t){const{rowExpandedMaps:o}=d,n=ve(m,t);return!!o[n]},isExpandByRow(t){return b.isRowExpandByRow(t)},clearRowExpand(){const{tableFullData:t}=h,o=it.value,{reserve:n}=o,i=b.getRowExpandRecords();return d.rowExpandedMaps={},n&&t.forEach(c=>Hs(c,!1)),ne().then(()=>{i.length&&b.recalculate()})},clearRowExpandReserve(){return h.rowExpandedReserveRowMap={},ne()},getRowExpandRecords(){const t=[];return s.each(d.rowExpandedMaps,o=>{o&&t.push(o)}),t},getTreeExpandRecords(){const t=[];return s.each(d.treeExpandedMaps,o=>{o&&t.push(o)}),t},isTreeExpandLoaded(t){const{fullAllDataRowIdData:o}=h,n=o[ve(m,t)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(t){const{treeExpandedMaps:o}=d,{fullAllDataRowIdData:n}=h,i=lt.value,{transform:c,lazy:p}=i,f=ve(m,t),E=n[f];return p&&E&&(E.treeLoaded=!1,o[f]&&delete o[f]),c?($o(),B.handleTableData()):ne()},reloadTreeExpand(t){const{treeExpandLazyLoadedMaps:o}=d,n=lt.value,i=n.hasChild||n.hasChildField,{transform:c,lazy:p}=n,f=ve(m,t);return p&&t[i]&&!o[f]&&b.clearTreeExpandLoaded(t).then(()=>Xo(t)).then(()=>{if(c)return $o(),B.handleTableData()}).then(()=>b.recalculate()),ne()},reloadTreeChilds(t){return b.reloadTreeExpand(t)},toggleTreeExpand(t){return b.setTreeExpand(t,!b.isTreeExpandByRow(t))},setAllTreeExpand(t){const{tableFullData:o}=h,n=lt.value,{transform:i,lazy:c}=n,p=n.children||n.childrenField,f=[];return s.eachTree(o,E=>{const R=E[p];(c||R&&R.length)&&f.push(E)},{children:p}),b.setTreeExpand(f,t).then(()=>{if(i)return $o(),b.recalculate()})},setTreeExpand(t,o){const n=lt.value,{transform:i}=n;return t&&(s.isArray(t)||(t=[t]),t.length)?i?gi(t,o):Ns(t,o):ne()},isTreeExpandByRow(t){const{treeExpandedMaps:o}=d;return!!o[ve(m,t)]},clearTreeExpand(){const{tableFullTreeData:t}=h,o=lt.value,n=o.children||o.childrenField,{transform:i,reserve:c}=o,p=b.getTreeExpandRecords();return d.treeExpandedMaps={},c&&s.eachTree(t,f=>Ls(f,!1),{children:n}),B.handleTableData().then(()=>{if(i)return $o(),B.handleTableData()}).then(()=>{if(p.length)return b.recalculate()})},clearTreeExpandReserve(){return h.treeExpandedReserveRowMap={},ne()},getScroll(){const{scrollXLoad:t,scrollYLoad:o}=d,i=S.value.$el;return{virtualX:t,virtualY:o,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}},scrollTo(t,o){const n=S.value,i=y.value,c=w.value,p=q.value,f=Ce.value,E=n?n.$el:null,R=p?p.$el:null,T=f?f.$el:null,I=i?i.$el:null,j=c?c.$el:null;if(s.isNumber(t)){const H=_.value;H?Ut(H,t):(Ut(E,t),Ut(I,t),Ut(j,t))}if(s.isNumber(o)){const H=Q.value;H?$t(H,o):($t(E,o),$t(R,o),$t(T,o))}return d.scrollXLoad||d.scrollYLoad?new Promise(H=>{setTimeout(()=>{ne(()=>{H()})},50)}):ne()},scrollToRow(t,o){const n=[];return t&&(e.treeConfig?n.push(B.scrollToTreeRow(t)):n.push(or(m,t))),o&&n.push(b.scrollToColumn(o)),Promise.all(n)},scrollToColumn(t){const{fullColumnIdData:o}=h,n=Gt(m,t);return n&&o[n.id]?wa(m,n):ne()},clearScroll(){const{scrollXStore:t,scrollYStore:o}=h,n=S.value,i=y.value,c=w.value,p=q.value,f=Ce.value,E=p?p.$el:null,R=n?n.$el:null,T=f?f.$el:null,I=i?i.$el:null,j=c?c.$el:null,H=_.value;H?Ut(H,0):(Ut(R,0),Ut(I,0),Ut(j,0));const G=Q.value;return G?$t(G,0):($t(R,0),$t(E,0),$t(T,0)),t.startIndex=0,t.endIndex=t.visibleSize,o.startIndex=0,o.endIndex=o.visibleSize,ne().then(()=>{Ut(R,0),Ut(I,0),Ut(j,0),$t(R,0),$t(E,0),$t(T,0)})},updateFooter(){const{showFooter:t,footerData:o,footerMethod:n}=e,{visibleColumn:i,afterFullData:c}=h;let p=[];return t&&o&&o.length?p=o.slice(0):t&&n&&(p=i.length?n({columns:i,data:c,$table:m,$grid:U}):[]),d.footerTableData=p,ne()},updateStatus(t,o){const n=!s.isUndefined(o);return ne().then(()=>{const{editRules:i}=e,{validStore:c}=d,p=S.value;if(t&&p&&i){const{row:f,column:E}=t,R="change";if(m.hasCellRules&&m.hasCellRules(R,f,E)){const T=b.getCellElement(f,E);if(T)return m.validCellRules(R,f,E,o).then(()=>{n&&c.visible&&_o(f,E,o),m.clearValidate(f,E)}).catch(({rule:I})=>{n&&_o(f,E,o),m.showValidTooltip({rule:I,row:f,column:E,cell:T})})}}})},setMergeCells(t){return e.spanMethod&&so("vxe.error.errConflicts",["merge-cells","span-method"]),Ct(t,d.mergeList,h.afterFullData),ne().then(()=>(b.updateCellAreas(),Vt()))},removeMergeCells(t){e.spanMethod&&so("vxe.error.errConflicts",["merge-cells","span-method"]);const o=Kt(t,d.mergeList,h.afterFullData);return ne().then(()=>(b.updateCellAreas(),Vt(),o))},getMergeCells(){return d.mergeList.slice(0)},clearMergeCells(){return d.mergeList=[],ne().then(()=>Vt())},setMergeFooterItems(t){return e.footerSpanMethod&&so("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Ct(t,d.mergeFooterList),ne().then(()=>(b.updateCellAreas(),Vt()))},removeMergeFooterItems(t){e.footerSpanMethod&&so("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=Kt(t,d.mergeFooterList);return ne().then(()=>(b.updateCellAreas(),Vt(),o))},getMergeFooterItems(){return d.mergeFooterList.slice(0)},clearMergeFooterItems(){return d.mergeFooterList=[],ne().then(()=>Vt())},updateCellAreas(){const{mouseConfig:t}=e,o=Oe.value;return t&&o.area&&m.handleUpdateCellAreas?m.handleUpdateCellAreas():ne()},getCustomStoreData(){const{id:t}=e,o=to.value,{collectColumn:n}=h,{checkMethod:i}=o,c={},p={},f={},E={},R={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return so("vxe.error.reqProp",["id"]),R;let T=0,I=0,j=0,H=0;return s.eachTree(n,(G,me,Z,ie,te)=>{if(!te&&(n.forEach(Re=>{const Te=Re.getKey();Te&&(I=1,p[Te]=Re.renderSortNumber)}),G.fixed&&G.fixed!==G.defaultFixed)){const Re=G.getKey();Re&&(j=1,E[Re]=G.fixed)}if(G.resizeWidth){const Re=G.getKey();Re&&(T=1,c[Re]=G.renderWidth)}if(!i||i({column:G})){if(!G.visible&&G.defaultVisible){const Re=G.getKey();Re&&(H=1,f[Re]=!1)}else if(G.visible&&!G.defaultVisible){const Re=G.getKey();Re&&(H=1,f[Re]=!0)}}}),T&&(R.resizableData=c),I&&(R.sortData=p),j&&(R.fixedData=E),H&&(R.visibleData=f),R},focus(){return h.isActivated=!0,ne()},blur(){return h.isActivated=!1,ne()},connect(t){return t?(le=t,le.syncUpdate({collectColumn:h.collectColumn,$table:m})):so("vxe.error.barUnableLink"),ne()}};const Ei=t=>{const{editStore:o,ctxMenuStore:n,filterStore:i,customStore:c}=d,{mouseConfig:p,editRules:f}=e,E=L.value,R=ce.value,T=Me.value,I=Ye.value,{actived:j}=o,H=M.value,G=v.value,me=x.value,Z=k.value;if(G&&(pt(t,E,"vxe-cell--filter").flag||pt(t,G.$el).flag||pt(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearFilter",i.args,b.closeFilter)),me&&(c.btnEl===t.target||pt(t,document.body,"vxe-toolbar-custom-target").flag||pt(t,me.$el).flag||pt(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearCustom",{},()=>{m.closeCustom&&m.closeCustom()})),j.row){if(R.autoClear!==!1){const te=j.args.cell;(!te||!pt(t,te).flag)&&(H&&pt(t,H.$el).flag||(!h._lastCallTime||h._lastCallTime+50<Date.now())&&(pt(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearEdit",j.args,()=>{let Re;if(R.mode==="row"){const Te=pt(t,E,"vxe-body--row"),Ne=Te.flag?b.getRowNode(Te.targetElem):null;Re=Ne?!m.eqRow(Ne.item,j.args.row):!1}else Re=!pt(t,E,"col--edit").flag;if(Re||(Re=pt(t,E,"vxe-header--row").flag),Re||(Re=pt(t,E,"vxe-footer--row").flag),!Re&&e.height&&!d.overflowY){const Te=t.target;Rl(Te,"vxe-table--body-wrapper")&&(Re=t.offsetY<Te.clientHeight)}(Re||!pt(t,E).flag)&&setTimeout(()=>m.clearEdit(t))})))}}else if(p&&!pt(t,E).flag&&!(U&&pt(t,U.getRefMaps().refElem.value).flag)&&!(Z&&pt(t,Z.getRefMaps().refElem.value).flag)&&!(le&&pt(t,le.getRefMaps().refElem.value).flag)&&(m.clearSelected&&m.clearSelected(),I.autoClear&&m.getCellAreas)){const te=m.getCellAreas();te&&te.length&&!pt(t,document.body,"vxe-table--ignore-areas-clear").flag&&B.preventEvent(t,"event.clearAreas",{},()=>{m.clearCellAreas(),m.clearCopyCellArea(),Et("clear-cell-area-selection",{cellAreas:te},t)})}m.closeMenu&&n.visible&&Z&&!pt(t,Z.getRefMaps().refElem.value).flag&&m.closeMenu();const ie=pt(t,U?U.getRefMaps().refElem.value:E).flag;!ie&&f&&T.autoClear&&(d.validErrorMaps={}),h.isActivated=ie},yi=()=>{b.closeFilter(),m.closeMenu&&m.closeMenu()},Ri=()=>{b.closeTooltip(),m.closeMenu&&m.closeMenu()},Oi=t=>{const{mouseConfig:o,keyboardConfig:n}=e,{filterStore:i,ctxMenuStore:c,editStore:p}=d,f=Oe.value,E=Je.value,{actived:R}=p;vt.hasKey(t,vo.ESCAPE)&&B.preventEvent(t,"event.keydown",null,()=>{if(Et("keydown-start",{},t),n&&o&&f.area&&m.handleKeyboardEvent)m.handleKeyboardEvent(t);else if((R.row||i.visible||c.visible)&&(t.stopPropagation(),m.closeMenu&&m.closeMenu(),b.closeFilter(),n&&E.isEsc&&R.row)){const I=R.args;m.clearEdit(t),f.selected&&ne(()=>m.handleSelected(I,t))}Et("keydown",{},t),Et("keydown-end",{},t)})},Si=t=>{h.isActivated&&B.preventEvent(t,"event.keydown",null,()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:i,editConfig:c,highlightCurrentRow:p}=e,{ctxMenuStore:f,editStore:E,currentRow:R}=d,T=We.value,I=De.value,j=Je.value,H=Oe.value,G=ce.value,me=lt.value,Z=Ze.value,ie=Be.value,{selected:te,actived:Re}=E,Te=me.children||me.childrenField,Ne=t.keyCode,_e=vt.hasKey(t,vo.ESCAPE),Ue=vt.hasKey(t,vo.BACKSPACE),dt=vt.hasKey(t,vo.TAB),Dt=vt.hasKey(t,vo.ENTER),yt=vt.hasKey(t,vo.SPACEBAR),st=vt.hasKey(t,vo.ARROW_LEFT),Tt=vt.hasKey(t,vo.ARROW_UP),Qe=vt.hasKey(t,vo.ARROW_RIGHT),tt=vt.hasKey(t,vo.ARROW_DOWN),Nt=vt.hasKey(t,vo.DELETE),Bo=vt.hasKey(t,vo.F2),kl=vt.hasKey(t,vo.CONTEXT_MENU),xl=t.metaKey,Vo=t.ctrlKey,Ko=t.shiftKey,Fl=t.altKey,sl=st||Tt||Qe||tt,Il=T&&f.visible&&(Dt||yt||sl),Yo=ot(c)&&Re.column&&Re.row,Oo=G.beforeEditMethod||G.activeMethod;if(Il)t.preventDefault(),f.showChild&&Nl(f.selected)?m.moveCtxMenu(t,f,"selectChild",st,!1,f.selected.children):m.moveCtxMenu(t,f,"selected",Qe,!0,Z);else if(n&&o&&H.area&&m.handleKeyboardEvent)m.handleKeyboardEvent(t);else if(_e){if(m.closeMenu&&m.closeMenu(),b.closeFilter(),n&&j.isEsc&&Re.row){const nt=Re.args;m.clearEdit(t),H.selected&&ne(()=>m.handleSelected(nt,t))}}else if(yt&&n&&j.isChecked&&te.row&&te.column&&(te.column.type==="checkbox"||te.column.type==="radio"))t.preventDefault(),te.column.type==="checkbox"?B.handleToggleCheckRowEvent(t,te.args):B.triggerRadioRowEvent(t,te.args);else if(Bo&&ot(c))Yo||te.row&&te.column&&(t.preventDefault(),m.handleEdit(te.args,t));else if(kl)h._keyCtx=te.row&&te.column&&I.length,clearTimeout(zs),zs=setTimeout(()=>{h._keyCtx=!1},1e3);else if(Dt&&!Fl&&n&&j.isEnter&&(te.row||Re.row||i&&(ie.isCurrent||p)&&R)){if(Vo){if(Re.row){const nt=Re.args;m.clearEdit(t),H.selected&&ne(()=>m.handleSelected(nt,t))}}else if(te.row||Re.row){const nt=te.row?te.args:Re.args;Ko?j.enterToTab?m.moveTabSelected(nt,Ko,t):m.moveSelected(nt,st,!0,Qe,!1,t):j.enterToTab?m.moveTabSelected(nt,Ko,t):m.moveSelected(nt,st,!1,Qe,!0,t)}else if(i&&(ie.isCurrent||p)&&R){const nt=R[Te];if(nt&&nt.length){t.preventDefault();const wt=nt[0],lo={$table:m,row:wt,rowIndex:b.getRowIndex(wt),$rowIndex:b.getVMRowIndex(wt)};b.setTreeExpand(R,!0).then(()=>b.scrollToRow(wt)).then(()=>B.triggerCurrentRowEvent(t,lo))}}}else if(sl&&n&&j.isArrow)Yo||(te.row&&te.column?m.moveSelected(te.args,st,Tt,Qe,tt,t):(Tt||tt)&&(ie.isCurrent||p)&&m.moveCurrentRow(Tt,tt,t));else if(dt&&n&&j.isTab)te.row||te.column?m.moveTabSelected(te.args,Ko,t):(Re.row||Re.column)&&m.moveTabSelected(Re.args,Ko,t);else if(n&&j.isDel&&Nt&&ot(c)&&(te.row||te.column)){if(!Yo){const{delMethod:nt}=j,wt={row:te.row,rowIndex:b.getRowIndex(te.row),column:te.column,columnIndex:b.getColumnIndex(te.column),$table:m,$grid:U};(!Oo||Oo(wt))&&(nt?nt(wt):_o(te.row,te.column,null),b.updateFooter(),Et("cell-delete-value",wt,t))}}else if(Ue&&n&&j.isBack&&ot(c)&&(te.row||te.column)){if(!Yo){const{backMethod:nt}=j;if(j.isDel&&ot(c)&&(te.row||te.column)){const wt={row:te.row,rowIndex:b.getRowIndex(te.row),column:te.column,columnIndex:b.getColumnIndex(te.column),$table:m,$grid:U};(!Oo||Oo(wt))&&(nt?nt(wt):(_o(te.row,te.column,null),m.handleEdit(te.args,t)),Et("cell-backspace-value",wt,t))}}}else if(Ue&&n&&i&&j.isBack&&(ie.isCurrent||p)&&R){const{parent:nt}=s.findTree(h.afterTreeFullData,wt=>wt===R,{children:Te});if(nt){t.preventDefault();const wt={row:nt,rowIndex:b.getRowIndex(nt),$rowIndex:b.getVMRowIndex(nt),$table:m,$grid:U};b.setTreeExpand(nt,!1).then(()=>b.scrollToRow(nt)).then(()=>B.triggerCurrentRowEvent(t,wt))}}else if(n&&ot(c)&&j.isEdit&&!Vo&&!xl&&(yt||Ne>=48&&Ne<=57||Ne>=65&&Ne<=90||Ne>=96&&Ne<=111||Ne>=186&&Ne<=192||Ne>=219&&Ne<=222)){const{editMethod:nt}=j;if(te.column&&te.row&&ot(te.column.editRender)){const wt=G.beforeEditMethod||G.activeMethod,lo={row:te.row,rowIndex:b.getRowIndex(te.row),column:te.column,columnIndex:b.getColumnIndex(te.column),$table:m,$grid:U};(!wt||wt(Object.assign(Object.assign({},te.args),{$table:m,$grid:U})))&&(nt?nt(lo):(_o(te.row,te.column,null),m.handleEdit(te.args,t)))}}Et("keydown",{},t)})},Mi=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:i,filterStore:c}=d,{isActivated:p}=h,f=Oe.value,E=Je.value,{actived:R}=i;p&&!c.visible&&(R.row||R.column||o&&E.isClip&&n&&f.area&&m.handlePasteCellAreaEvent&&m.handlePasteCellAreaEvent(t),Et("paste",{},t))},Ti=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:i,filterStore:c}=d,{isActivated:p}=h,f=Oe.value,E=Je.value,{actived:R}=i;p&&!c.visible&&(R.row||R.column||o&&E.isClip&&n&&f.area&&m.handleCopyCellAreaEvent&&m.handleCopyCellAreaEvent(t),Et("copy",{},t))},ki=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:i,filterStore:c}=d,{isActivated:p}=h,f=Oe.value,E=Je.value,{actived:R}=i;p&&!c.visible&&(R.row||R.column||o&&E.isClip&&n&&f.area&&m.handleCutCellAreaEvent&&m.handleCutCellAreaEvent(t),Et("cut",{},t))},Ws=()=>{m.closeMenu&&m.closeMenu();const t=L.value;if(!t||!t.clientWidth)return ne();b.updateCellAreas(),b.recalculate(!0)},pn=t=>{const o=X.value;clearTimeout(h.tooltipTimeout),t?b.closeTooltip():o&&o.setActived&&o.setActived(!0)},Wn=()=>{const t=L.value;if(t){const o="row--drag-origin";s.arrayEach(t.querySelectorAll(`.${o}`),n=>{n.draggable=!1,ho(n,o)})}},Fi=t=>{const o=L.value;if(o){const n="row--drag-origin",i=ve(m,t);s.arrayEach(o.querySelectorAll(`[rowid="${i}"]`),c=>{Ao(c,n)})}},qs=()=>{const t=L.value;if(t){const o="row--drag-active-target";s.arrayEach(t.querySelectorAll(`.${o}`),n=>{ho(n,o)})}},Ii=(t,o)=>{const n=L.value;if(n){const i="row--drag-active-target",c=ve(m,t);s.arrayEach(n.querySelectorAll(`[rowid="${c}"]`),p=>{Ao(p,i),p.setAttribute("drag-pos",o)})}},Xs=t=>{const o=$e.value;if(!o)return;const n=L.value;if(n&&o){const i=n.getBoundingClientRect();o.style.display="block",o.style.top=`${Math.min(n.clientHeight-n.scrollTop-o.clientHeight,t.clientY-i.y)}px`,o.style.left=`${Math.min(n.clientWidth-n.scrollLeft-o.clientWidth-16,t.clientX-i.x)}px`}},qn=()=>{const t=$e.value;t&&(t.style.display="")},Di=t=>{const{dragRow:o}=d,n=ge.value,{rowTooltipMethod:i}=n;let c="";i?c=`${i({row:o})||""}`:c=us("vxe.table.dragTip",[t.textContent||""]),d.dragTipText=c},Xn=(t,o,n,i,c)=>{c.cell=o;const{tooltipStore:p}=d,f=ze.value,{column:E,row:R}=c,{showAll:T,contentMethod:I}=f,j=I?I(c):null,H=I&&!s.eqNull(j),G=H?j:s.toString(E.type==="html"?n.innerText:n.textContent).trim(),me=n.scrollWidth>n.clientWidth;return G&&(T||H||me)&&(Object.assign(p,{row:R,column:E,visible:!0,currOpts:{}}),ne(()=>{const Z=X.value;Z&&Z.open&&Z.open(me?n:i||n,Pt(G))})),ne()},Ks=(t,o)=>{if(t){if(U)return U.callSlot(t,o);if(s.isFunction(t))return wo(t(o))}return[]};B={getSetupOptions(){return at()},updateAfterDataIndex:ol,callSlot:Ks,getParentElem(){const t=L.value;if(U){const o=U.getRefMaps().refElem.value;return o?o.parentNode:null}return t?t.parentNode:null},getParentHeight(){const{height:t}=e,o=L.value;if(o){const n=o.parentNode,i=t==="100%"||t==="auto"?ys(n):0;return Math.floor(U?U.getParentHeight():s.toNumber(getComputedStyle(n).height)-i)}return 0},getExcludeHeight(){return U?U.getExcludeHeight():0},defineField(t){const{treeConfig:o}=e,n=it.value,i=lt.value,c=qe.value,p=Ae.value,f=i.children||i.childrenField,E=Zo(m);return s.isArray(t)||(t=[t]),t.map(R=>(h.tableFullColumn.forEach(I=>{const{field:j,editRender:H}=I;if(j&&!s.has(R,j)&&!R[j]){let G=null;if(H){const{defaultValue:me}=H;s.isFunction(me)?G=me({column:I}):s.isUndefined(me)||(G=me)}s.set(R,j,G)}}),[c.labelField,p.checkField,p.labelField,n.labelField].forEach(I=>{I&&Qo(s.get(R,I))&&s.set(R,I,null)}),o&&i.lazy&&s.isUndefined(R[f])&&(R[f]=null),Qo(s.get(R,E))&&s.set(R,E,is()),R))},handleTableData(t){const{scrollYLoad:o}=d,{scrollYStore:n,fullDataRowIdData:i}=h;let c=h.afterFullData;t&&(ll(),c=$o());const p=o?c.slice(n.startIndex,n.endIndex):c.slice(0);return p.forEach((f,E)=>{const R=ve(m,f),T=i[R];T&&(T.$index=E)}),d.tableData=p,ne()},cacheRowMap(t){const{treeConfig:o}=e,n=lt.value,{fullAllDataRowIdData:i,tableFullData:c,tableFullTreeData:p}=h,f=n.children||n.childrenField,E=n.hasChild||n.hasChildField,R=Zo(m),T=o&&n.lazy,I={},j={},H=(G,me,Z,ie,te,Re)=>{let Te=ve(m,G);const Ne=o&&ie?ma(ie):me+1,_e=Re?Re.length-1:0;Qo(Te)&&(Te=is(),s.set(G,R,Te)),T&&G[E]&&s.isUndefined(G[f])&&(G[f]=null);let Ue=i[Te];Ue||(Ue={row:G,rowid:Te,seq:Ne,index:-1,_index:-1,$index:-1,items:Z,parent:te,level:_e,height:0}),t&&(Ue.index=o&&te?-1:me,j[Te]=Ue),I[Te]=Ue};t&&(h.fullDataRowIdData=j),h.fullAllDataRowIdData=I,o?s.eachTree(p,H,{children:f}):c.forEach(H)},cacheSourceMap(t){const{treeConfig:o}=e,n=lt.value;let{sourceDataRowIdData:i}=h;const c=s.clone(t,!0),p=Zo(m);i=h.sourceDataRowIdData={};const f=E=>{let R=ve(m,E);Qo(R)&&(R=is(),s.set(E,p,R)),i[R]=E};if(o){const E=n.children||n.childrenField;s.eachTree(c,f,{children:n.transform?n.mapChildrenField:E})}else c.forEach(f);h.tableSourceData=c},analyColumnWidth(){const{tableFullColumn:t}=h,o=he.value,{width:n,minWidth:i}=o,c=[],p=[],f=[],E=[],R=[],T=[],I=[],j=[];t.forEach(H=>{n&&!H.width&&(H.width=n),i&&!H.minWidth&&(H.minWidth=i),H.visible&&(H.resizeWidth?c.push(H):H.width==="auto"?I.push(H):Es(H.width)?p.push(H):on(H.width)?R.push(H):Es(H.minWidth)?f.push(H):H.minWidth==="auto"?E.push(H):on(H.minWidth)?T.push(H):j.push(H))}),Object.assign(d.columnStore,{resizeList:c,pxList:p,pxMinList:f,autoMinList:E,scaleList:R,scaleMinList:T,autoList:I,remainList:j})},saveCustomStore(t){const o=re.value,n=to.value,{updateStore:i,storage:c}=n,p=c===!0,f=p?{}:Object.assign({},c||{}),E=p||f.resizable,R=p||f.visible,T=p||f.fixed,I=p||f.sort;if(E||R||T||I){if(!o)return so("vxe.error.reqProp",["id"]),ne();const j=t==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:b.getCustomStoreData();if(i)return i({id:o,type:t,storeData:j});jt(o,t==="reset"?null:j)}return ne()},handleCustom(){const{mouseConfig:t}=e;return t&&(m.clearSelected&&m.clearSelected(),m.clearCellAreas&&(m.clearCellAreas(),m.clearCopyCellArea())),B.analyColumnWidth(),b.refreshColumn(!0)},handleUpdateDataQueue(){d.upDataFlag++},handleRefreshColumnQueue(){d.reColumnFlag++},preventEvent(t,o,n,i,c){let p=hr.get(o);!p.length&&o==="event.clearEdit"&&(p=hr.get("event.clearActived"));let f;return p.some(E=>E(Object.assign({$grid:U,$table:m,$event:t},n))===!1)||i&&(f=i()),c&&c(),f},checkSelectionStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:o,treeIndeterminateMaps:n}=d,{afterFullData:i}=h,c=Ae.value,{checkField:p,checkStrictly:f,checkMethod:E}=c,R=c.indeterminateField||c.halfField;if(!f){const T=[];let I=!1,j=!1,H=!1;p?(I=i.every(E?G=>E({row:G})?!!s.get(G,p):(T.push(G),!0):G=>s.get(G,p)),j=I&&i.length!==T.length,t?R?H=!j&&i.some(G=>s.get(G,p)||s.get(G,R)||!!n[ve(m,G)]):H=!j&&i.some(G=>s.get(G,p)||!!n[ve(m,G)]):R?H=!j&&i.some(G=>s.get(G,p)||s.get(G,R)):H=!j&&i.some(G=>s.get(G,p))):(I=i.every(E?G=>E({row:G})?!!o[ve(m,G)]:(T.push(G),!0):G=>o[ve(m,G)]),j=I&&i.length!==T.length,t?H=!j&&i.some(G=>{const me=ve(m,G);return n[me]||o[me]}):H=!j&&i.some(G=>o[ve(m,G)])),d.isAllSelected=j,d.isIndeterminate=H}},handleBatchSelectRows(t,o,n){const{treeConfig:i}=e,{selectCheckboxMaps:c}=d,p=Ae.value,{checkField:f,checkStrictly:E,checkMethod:R}=p;if(f)i&&!E?t.forEach(T=>{B.handleSelectRow({row:T},o,n)}):t.forEach(T=>{(n||!R||R({row:T}))&&(s.set(T,f,o),ao(T,o))});else if(i&&!E)t.forEach(T=>{B.handleSelectRow({row:T},o,n)});else{const T=Object.assign({},c);t.forEach(I=>{const j=ve(m,I);(n||!R||R({row:I}))&&(o?T[j]||(T[j]=I):T[j]&&delete T[j],ao(I,o))}),d.selectCheckboxMaps=T}},handleSelectRow({row:t},o,n){const{treeConfig:i}=e,{selectCheckboxMaps:c,treeIndeterminateMaps:p}=d,f=Object.assign({},c),{afterFullData:E}=h,R=lt.value,T=R.children||R.childrenField,I=Ae.value,{checkField:j,checkStrictly:H,checkMethod:G}=I,me=I.indeterminateField||I.halfField,Z=ve(m,t);if(j)if(i&&!H){o===-1?(p[Z]||(me&&s.set(t,me,!0),p[Z]=t),s.set(t,j,!1)):s.eachTree([t],te=>{(m.eqRow(te,t)||n||!G||G({row:te}))&&(s.set(te,j,o),me&&s.set(t,me,!1),delete p[ve(m,te)],ao(t,o))},{children:T});const ie=s.findTree(E,te=>m.eqRow(te,t),{children:T});if(ie&&ie.parent){let te;const Re=[],Te={};if(!n&&G?ie.items.forEach(_e=>{if(G({row:_e})){const Ue=ve(m,_e);Te[Ue]=_e,Re.push(_e)}}):ie.items.forEach(_e=>{const Ue=ve(m,_e);Te[Ue]=_e,Re.push(_e)}),s.find(ie.items,_e=>!!p[ve(m,_e)]))te=-1;else{const _e=[];ie.items.forEach(Ue=>{s.get(Ue,j)&&_e.push(Ue)}),te=_e.filter(Ue=>Te[ve(m,Ue)]).length===Re.length?!0:_e.length||o===-1?-1:!1}d.selectCheckboxMaps=f,B.handleSelectRow({row:ie.parent},te,n);return}}else(n||!G||G({row:t}))&&(s.set(t,j,o),ao(t,o));else if(i&&!H){o===-1?(p[Z]||(me&&s.set(t,me,!0),p[Z]=t),f[Z]&&delete f[Z]):s.eachTree([t],te=>{const Re=ve(m,te);(m.eqRow(te,t)||n||!G||G({row:te}))&&(o?f[Re]=te:f[Re]&&delete f[Re],me&&s.set(t,me,!1),delete p[ve(m,te)],ao(t,o))},{children:T});const ie=s.findTree(E,te=>m.eqRow(te,t),{children:T});if(ie&&ie.parent){let te;const Re=[],Te={};if(!n&&G?ie.items.forEach(_e=>{if(G({row:_e})){const Ue=ve(m,_e);Te[Ue]=_e,Re.push(_e)}}):ie.items.forEach(_e=>{const Ue=ve(m,_e);Te[Ue]=_e,Re.push(_e)}),s.find(ie.items,_e=>!!p[ve(m,_e)]))te=-1;else{const _e=[];ie.items.forEach(Ue=>{const dt=ve(m,Ue);f[dt]&&_e.push(Ue)}),te=_e.filter(Ue=>Te[ve(m,Ue)]).length===Re.length?!0:_e.length||o===-1?-1:!1}d.selectCheckboxMaps=f,B.handleSelectRow({row:ie.parent},te,n);return}}else(n||!G||G({row:t}))&&(o?f[Z]||(f[Z]=t):f[Z]&&delete f[Z],ao(t,o));d.selectCheckboxMaps=f},triggerHeaderTitleEvent(t,o,n){const i=o.content||o.message;if(i){const{tooltipStore:c}=d,{column:p}=n,f=el(i);pn(!0),c.row=null,c.column=p,c.visible=!0,c.currOpts=o,ne(()=>{const E=X.value;E&&E.open&&E.open(t.currentTarget,f)})}},triggerHeaderTooltipEvent(t,o){const{tooltipStore:n}=d,{column:i}=o,c=t.currentTarget;pn(!0),(n.column!==i||!n.visible)&&Xn(t,c,c,null,o)},triggerBodyTooltipEvent(t,o){const{editConfig:n}=e,{editStore:i}=d,{tooltipStore:c}=d,p=ce.value,{actived:f}=i,{row:E,column:R}=o,T=t.currentTarget;if(pn(c.column!==R||c.row!==E),!(R.editRender&&ot(n)&&(p.mode==="row"&&f.row===E||f.row===E&&f.column===R))&&(c.column!==R||c.row!==E||!c.visible)){let I,j;R.treeNode?(I=T.querySelector(".vxe-tree-cell"),R.type==="html"&&(j=T.querySelector(".vxe-cell--html"))):j=T.querySelector(R.type==="html"?".vxe-cell--html":".vxe-cell--label"),Xn(t,T,I||T.children[0],j,o)}},triggerFooterTooltipEvent(t,o){const{column:n}=o,{tooltipStore:i}=d,c=t.currentTarget;pn(i.column!==n||!!i.row),(i.column!==n||!i.visible)&&Xn(t,c,c.querySelector(".vxe-cell--item")||c.children[0],null,o)},handleTargetLeaveEvent(){const t=ze.value;let o=X.value;o&&o.setActived&&o.setActived(!1),t.enterable?h.tooltipTimeout=setTimeout(()=>{o=X.value,o&&o.isActived&&!o.isActived()&&b.closeTooltip()},t.leaveDelay):b.closeTooltip()},triggerHeaderCellClickEvent(t,o){const{_lastResizeTime:n}=h,i=je.value,c=he.value,{column:p}=o,f=t.currentTarget,E=n&&n>Date.now()-300,R=pt(t,f,"vxe-cell--sort").flag,T=pt(t,f,"vxe-cell--filter").flag;i.trigger==="cell"&&!(E||R||T)&&B.triggerSortEvent(t,p,Mt(p)),Et("header-cell-click",Object.assign({triggerResizable:E,triggerSort:R,triggerFilter:T,cell:f},o),t),(c.isCurrent||e.highlightCurrentColumn)&&B.triggerCurrentColumnEvent(t,o)},triggerHeaderCellDblclickEvent(t,o){Et("header-cell-dblclick",Object.assign({cell:t.currentTarget},o),t)},triggerCellClickEvent(t,o){const{highlightCurrentRow:n,editConfig:i}=e,{editStore:c}=d,p=it.value,f=ce.value,E=lt.value,R=qe.value,T=Ae.value,I=Je.value,j=Be.value,{actived:H,focused:G}=c,{row:me,column:Z}=o,{type:ie,treeNode:te}=Z,Re=ie==="radio",Te=ie==="checkbox",Ne=ie==="expand",_e=t.currentTarget,Ue=Re&&pt(t,_e,"vxe-cell--radio").flag,dt=Te&&pt(t,_e,"vxe-cell--checkbox").flag,Dt=te&&pt(t,_e,"vxe-tree--btn-wrapper").flag,yt=Ne&&pt(t,_e,"vxe-table--expanded").flag;o=Object.assign({cell:_e,triggerRadio:Ue,triggerCheckbox:dt,triggerTreeNode:Dt,triggerExpandNode:yt},o),!dt&&!Ue&&(!yt&&(p.trigger==="row"||Ne&&p.trigger==="cell")&&B.triggerRowExpandEvent(t,o),(E.trigger==="row"||te&&E.trigger==="cell")&&B.triggerTreeExpandEvent(t,o)),Dt||(yt||((j.isCurrent||n)&&!dt&&!Ue&&B.triggerCurrentRowEvent(t,o),!Ue&&(R.trigger==="row"||Re&&R.trigger==="cell")&&B.triggerRadioRowEvent(t,o),!dt&&(T.trigger==="row"||Te&&T.trigger==="cell")&&B.handleToggleCheckRowEvent(t,o)),ot(i)&&(I.arrowCursorLock&&t&&f.mode==="cell"&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(G.column=Z,G.row=me),f.trigger==="manual"?H.args&&H.row===me&&Z!==H.column&&Tl(t,o):(!H.args||me!==H.row||Z!==H.column)&&(f.trigger==="click"||f.trigger==="dblclick"&&f.mode==="row"&&H.row===me)&&Tl(t,o))),Et("cell-click",o,t)},triggerCellDblclickEvent(t,o){const{editConfig:n}=e,{editStore:i}=d,c=ce.value,{actived:p}=i,f=t.currentTarget;o=Object.assign({cell:f},o),ot(n)&&c.trigger==="dblclick"&&(!p.args||t.currentTarget!==p.args.cell)&&(c.mode==="row"?Fo("blur").catch(E=>E).then(()=>{m.handleEdit(o,t).then(()=>Fo("change")).catch(E=>E)}):c.mode==="cell"&&m.handleEdit(o,t).then(()=>Fo("change")).catch(E=>E)),Et("cell-dblclick",o,t)},handleToggleCheckRowEvent(t,o){const{selectCheckboxMaps:n}=d,i=Ae.value,{checkField:c,trigger:p}=i,{row:f}=o;if(p==="manual")return;let E=!1;c?E=!s.get(f,c):E=!n[ve(m,f)],t?B.triggerCheckRowEvent(t,o,E):(B.handleSelectRow(o,E),B.checkSelectionStatus())},triggerCheckRowEvent(t,o,n){const i=Ae.value,{row:c}=o,{afterFullData:p}=h,{checkMethod:f,trigger:E}=i;if(E!=="manual"){if(t.stopPropagation(),i.isShiftKey&&t.shiftKey&&!e.treeConfig){const R=b.getCheckboxRecords();if(R.length){const T=R[0],I=b.getVTRowIndex(c),j=b.getVTRowIndex(T);if(I!==j){b.setAllCheckboxRow(!1);const H=I<j?p.slice(I,j+1):p.slice(j,I+1);Io(H,!0,!1),Et("checkbox-range-select",Object.assign({rangeRecords:H},o),t);return}}}(!f||f({row:c}))&&(B.handleSelectRow(o,n),B.checkSelectionStatus(),Et("checkbox-change",Object.assign({records:b.getCheckboxRecords(),reserves:b.getCheckboxReserveRecords(),indeterminates:b.getCheckboxIndeterminateRecords(),checked:n},o),t))}},triggerCheckAllEvent(t,o){const n=Ae.value,{trigger:i}=n;i!=="manual"&&(t&&t.stopPropagation(),Ps(t,o))},triggerRadioRowEvent(t,o){const{selectRadioRow:n}=d,{row:i}=o,c=qe.value,{trigger:p}=c;if(p==="manual")return;t.stopPropagation();let f=i,E=n!==f;E?Wt(f):c.strict||(E=n===f,E&&(f=null,b.clearRadioRow())),E&&Et("radio-change",Object.assign({oldValue:n,newValue:f},o),t)},triggerCurrentColumnEvent(t,o){const n=he,{currentMethod:i}=n.value,{column:c}=o;(!i||i({column:c}))&&b.setCurrentColumn(c)},triggerCurrentRowEvent(t,o){const{currentRow:n}=d,i=Be,{currentMethod:c}=i.value,{row:p}=o,f=n!==p;(!c||c({row:p}))&&(b.setCurrentRow(p),f&&Et("current-change",Object.assign({oldValue:n,newValue:p},o),t))},triggerRowExpandEvent(t,o){const{rowExpandLazyLoadedMaps:n,expandColumn:i}=d,c=it.value,{row:p}=o,{lazy:f,trigger:E}=c;if(E==="manual")return;t.stopPropagation();const R=ve(m,p);if(!f||!n[R]){const T=!b.isRowExpandByRow(p),I=b.getColumnIndex(i),j=b.getVMColumnIndex(i);b.setRowExpand(p,T),Et("toggle-row-expand",{expanded:T,column:i,columnIndex:I,$columnIndex:j,row:p,rowIndex:b.getRowIndex(p),$rowIndex:b.getVMRowIndex(p)},t)}},triggerTreeExpandEvent(t,o){const{treeExpandLazyLoadedMaps:n}=d,i=lt.value,{row:c,column:p}=o,{lazy:f,trigger:E}=i;if(E==="manual")return;t.stopPropagation();const R=ve(m,c);if(!f||!n[R]){const T=!b.isTreeExpandByRow(c),I=b.getColumnIndex(p),j=b.getVMColumnIndex(p);b.setTreeExpand(c,T),Et("toggle-tree-expand",{expanded:T,column:p,columnIndex:I,$columnIndex:j,row:c},t)}},triggerSortEvent(t,o,n){const{mouseConfig:i}=e,c=je.value,p=Oe.value,{field:f,sortable:E}=o;if(E){!n||o.order===n?b.clearSort(c.multiple?o:null):b.sort({field:f,order:n});const R={$table:m,$event:t,column:o,field:f,property:f,order:o.order,sortList:b.getSortColumns(),sortTime:o.sortTime};i&&p.area&&m.handleSortEvent&&m.handleSortEvent(t,R),Et("sort-change",R,t)}},handleRowDragDragstartEvent(t){const o=new Image;t.dataTransfer&&t.dataTransfer.setDragImage(o,0,0)},handleRowDragDragendEvent(t){const{treeConfig:o}=e,n=ge.value,{dragEndMethod:i}=n,c=lt.value,{transform:p}=c,{dragRow:f}=d,{afterFullData:E,afterTreeFullData:R,tableFullData:T,tableFullTreeData:I,prevDragRow:j,prevDragPos:H}=h;j&&f&&j!==f&&Promise.resolve(i?i({oldRow:f,newRow:j}):!0).then(G=>{if(!G)return;const me=H==="bottom"?1:0;let Z=-1,ie=-1;if(o){Z=m.findRowIndexOf(R,f);const te=m.findRowIndexOf(I,f);R.splice(Z,1),I.splice(te,1);const Re=m.findRowIndexOf(R,j),Te=m.findRowIndexOf(I,j);ie=Re+me;const Ne=Te+me;R.splice(ie,0,f),I.splice(Ne,0,f)}else{Z=m.findRowIndexOf(E,f);const te=m.findRowIndexOf(T,f);E.splice(Z,1),T.splice(te,1);const Re=m.findRowIndexOf(E,j),Te=m.findRowIndexOf(T,j);ie=Re+me;const Ne=Te+me;E.splice(ie,0,f),T.splice(Ne,0,f)}d.isDragRowMove=!0,m.cacheRowMap(),m.updateScrollYStatus(),m.handleTableData(o&&p),o&&p||m.updateAfterDataIndex(),m.updateFooter(),m.checkSelectionStatus(),d.scrollYLoad&&m.updateScrollYSpace(),ne().then(()=>(m.updateCellAreas(),m.recalculate())),Et("row-dragend",{oldRow:f,newRow:j,_index:{newIndex:ie,oldIndex:Z}},t)}).catch(()=>{}),qn(),Wn(),qs(),d.dragRow=null,setTimeout(()=>{d.isDragRowMove=!1},500)},handleRowDragDragoverEvent(t){const o=t.currentTarget,n=o.getAttribute("rowid"),i=m.getRowById(n);if(qs(),i){t.preventDefault(),t.preventDefault();const{dragRow:c}=d,f=t.clientY-o.getBoundingClientRect().y<o.clientHeight/2?"top":"bottom";Ii(i,f),h.prevDragRow=i,h.prevDragPos=f,Et("row-dragover",{oldRow:c,targetRow:i,dragPos:f},t)}Xs(t)},handleCellDragMousedownEvent(t,o){var n;t.stopPropagation();const i=ge.value,{dragStartMethod:c}=i,{row:p}=o,E=(n=t.currentTarget.parentNode)===null||n===void 0?void 0:n.parentNode,R=E.parentNode;if(d.isDragRowMove=!1,Wn(),c&&!c(o)){R.draggable=!1,d.dragRow=null,qn();return}d.dragRow=p,R.draggable=!0,Fi(p),Xs(t),Di(E),Et("row-dragstart",o,t)},handleCellDragMouseupEvent(){Wn(),qn(),d.dragRow=null,d.isDragRowMove=!1},triggerScrollXEvent(){Bs()},handleScrollEvent(t,o,n,i,c,p){const{highlightHoverRow:f}=e,{lastScrollLeft:E,lastScrollTop:R}=h,T=S.value,I=T?T.$el:null,j=Be.value,H=M.value,G=X.value,me=I?I.clientHeight:0,Z=I?I.clientWidth:0,ie=I?I.scrollHeight:0,te=I?I.scrollWidth:0;let Re=!1,Te=!1,Ne=!1,_e=!1,Ue="",dt=!1,Dt=!1,yt=!1,st=!1;if(n){const Qe=be.value;Ne=c<=0,Ne||(_e=c+Z>=te),c>E?(Ue="right",c+Z>=te-Qe&&(st=!0)):(Ue="left",c<=Qe&&(yt=!0)),B.checkScrolling(),h.lastScrollLeft=c,d.lastScrollTime=Date.now()}else{const Qe=xe.value;Re=i<=0,Re||(Te=i+me>=ie),i>R?(Ue="bottom",i+me>=ie-Qe&&(Dt=!0)):(Ue="top",i<=Qe&&(dt=!0)),h.lastScrollTop=i,d.lastScrollTime=Date.now()}const Tt=Object.assign({scrollTop:i,scrollLeft:c,bodyHeight:me,bodyWidth:Z,scrollHeight:ie,scrollWidth:te,isX:n,isY:o,isTop:Re,isBottom:Te,isLeft:Ne,isRight:_e,direction:Ue},p);(j.isHover||f)&&m.clearHoverRow(),H&&H.reactData.visible&&H.close(),G&&G.reactData.visible&&G.close(),(Dt||dt||st||yt)&&Et("scroll-boundary",Tt,t),Et("scroll",Tt,t)},triggerScrollYEvent(){const{scrollYStore:t}=h,{adaptive:o,offsetSize:n,visibleSize:i}=t;Wa&&o&&n*2+i<=40?_s():mi(),vi()},scrollToTreeRow(t){const{treeConfig:o}=e,{tableFullData:n}=h,i=[];if(o){const c=lt.value,p=c.children||c.childrenField,f=s.findTree(n,E=>m.eqRow(E,t),{children:p});if(f){const E=f.nodes;E.forEach((R,T)=>{T<E.length-1&&!b.isTreeExpandByRow(R)&&i.push(b.setTreeExpand(R,!0))})}}return Promise.all(i).then(()=>or(m,t))},updateScrollYStatus:_n,updateScrollXSpace(){const{isGroup:t,scrollXLoad:o,scrollbarWidth:n}=d,{visibleColumn:i,scrollXStore:c,elemStore:p,tableWidth:f}=h,E=y.value,R=S.value,T=w.value,I=R?R.$el:null;if(I){const j=E?E.$el:null,H=T?T.$el:null,G=j?j.querySelector(".vxe-table--header"):null,me=I.querySelector(".vxe-table--body"),Z=H?H.querySelector(".vxe-table--footer"):null,ie=i.slice(0,c.startIndex).reduce((Ne,_e)=>Ne+_e.renderWidth,0);let te="";o&&(te=`${ie}px`),G&&(G.style.marginLeft=t?"":te),me.style.marginLeft=te,Z&&(Z.style.marginLeft=te),["main"].forEach(Ne=>{["header","body","footer"].forEach(Ue=>{const dt=p[`${Ne}-${Ue}-xSpace`],Dt=dt?dt.value:null;Dt&&(Dt.style.width=o?`${f+(Ue==="header"?n:0)}px`:"")})});const Te=fe.value;Te&&(Te.style.width=`${f+n}px`),ne(Vt)}},updateScrollYSpace(){const{showOverflow:t}=e,{scrollYLoad:o}=d,{scrollYStore:n,elemStore:i,afterFullData:c,fullAllDataRowIdData:p}=h,{startIndex:f,rowHeight:E}=n;let R=0,T=0;const I=["main","left","right"];let j="",H="";if(o){if(t)R=c.length*E,T=Math.max(0,f*E);else{for(let me=0;me<c.length;me++){const Z=c[me],ie=ve(m,Z),te=p[ie];te&&(R+=te.height||E)}for(let me=0;me<f;me++){const Z=c[me],ie=ve(m,Z),te=p[ie];te&&(T+=te.height||E)}}j=`${T}px`,H=`${R}px`}I.forEach(me=>{const Z=["header","body","footer"],ie=i[`${me}-body-table`],te=ie?ie.value:null;te&&(te.style.marginTop=j),Z.forEach(Re=>{const Te=i[`${me}-${Re}-ySpace`],Ne=Te?Te.value:null;Ne&&(Ne.style.height=H)})});const G=z.value;G&&(G.style.height=H),ne(Vt)},updateScrollXData(){return ne().then(()=>{$s(),B.updateScrollXSpace()})},updateScrollYData(){return ne().then(()=>{B.handleTableData(),gl(),B.updateScrollYSpace()})},checkScrolling(){const t=oe.value,o=we.value,n=S.value,i=n?n.$el:null,p=_.value||i;p&&(t&&(p.scrollLeft>0?Ao(t,"scrolling--middle"):ho(t,"scrolling--middle")),o&&(p.clientWidth<p.scrollWidth-Math.ceil(p.scrollLeft)?Ao(o,"scrolling--middle"):ho(o,"scrolling--middle")))},updateZindex(){e.zIndex?h.tZindex=e.zIndex:h.tZindex<$r()&&(h.tZindex=Hr())},handleCheckedCheckboxRow:Io,triggerHoverEvent(t,{row:o}){B.setHoverRow(o)},setHoverRow(t){const o=ve(m,t),n=L.value;B.clearHoverRow(),n&&s.arrayEach(n.querySelectorAll(`[rowid="${o}"]`),i=>Ao(i,"row--hover")),h.hoverRow=t},clearHoverRow(){const t=L.value;t&&s.arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),o=>ho(o,"row--hover")),h.hoverRow=null},getCell(t,o){return b.getCellElement(t,o)},findRowIndexOf(t,o){return o?s.findIndexOf(t,n=>m.eqRow(n,o)):-1},eqRow(t,o){return t&&o?t===o?!0:ve(m,t)===ve(m,o):!1}},Object.assign(m,b,B);const Ys=t=>{const{showHeader:o,showFooter:n}=e,{tableData:i,tableColumn:c,tableGroupColumn:p,columnStore:f,footerTableData:E}=d,R=t==="left",T=R?f.leftList:f.rightList;return u("div",{ref:R?oe:we,class:`vxe-table--fixed-${t}-wrapper`},[o?u(cr,{ref:R?$:ue,fixedType:t,tableData:i,tableColumn:c,tableGroupColumn:p,fixedColumn:T}):Yt(m),u(ar,{ref:R?q:Ce,fixedType:t,tableData:i,tableColumn:c,fixedColumn:T}),n?u(dr,{ref:R?Y:P,footerTableData:E,tableColumn:c,fixedColumn:T,fixedType:t}):Yt(m)])},Li=()=>{const t=gt.value,o={$table:m};if(r.empty)return r.empty(o);{const n=t.name?fr.get(t.name):null,i=n?n.renderTableEmpty||n.renderTableEmptyView||n.renderEmpty:null;if(i)return wo(i(t,o))}return el(e.emptyText)||us("vxe.table.emptyText")};function Kn(){const t=L.value;t&&t.clientWidth&&t.clientHeight&&b.recalculate()}const Ai=()=>{const{loading:t,stripe:o,showHeader:n,height:i,treeConfig:c,mouseConfig:p,showFooter:f,highlightCell:E,highlightHoverRow:R,highlightHoverColumn:T,editConfig:I,editRules:j}=e,{isCalcColumn:H,isGroup:G,overflowX:me,overflowY:Z,scrollXLoad:ie,scrollYLoad:te,scrollbarHeight:Re,tableData:Te,tableColumn:Ne,tableGroupColumn:_e,footerTableData:Ue,initStore:dt,columnStore:Dt,filterStore:yt,customStore:st,tooltipStore:Tt,dragRow:Qe,dragTipText:tt}=d,{leftList:Nt,rightList:Bo}=Dt,kl=r.loading,xl=Xe.value,Vo=Me.value,Ko=Ae.value,Fl=lt.value,sl=Be.value,Il=ge.value,Yo=he.value,Oo=N.value,nt=yo.value,wt=Oe.value,lo=Fe.value,hn=io.value,Kl=We.value,Uo=d._isLoading||t,rl=Mo.value,Yl=(Il.slots||{}).rowTip;return u("div",{ref:L,class:["vxe-table","vxe-table--render-default",`tid_${C}`,`border--${nt}`,{[`size--${Oo}`]:Oo,[`valid-msg--${Vo.msgMode}`]:!!j,"vxe-editable":!!I,"old-cell-valid":j&&at().cellVaildMode==="obsolete","cell--highlight":E,"cell--selected":p&&wt.selected,"cell--area":p&&wt.area,"row--highlight":sl.isHover||R,"column--highlight":Yo.isHover||T,"checkbox--range":Ko.range,"column--calc":H,"is--header":n,"is--footer":f,"is--group":G,"is--tree-line":c&&(Fl.showLine||Fl.line),"is--fixed-left":Nt.length,"is--fixed-right":Bo.length,"is--animat":!!e.animat,"is--padding":e.padding,"is--round":e.round,"is--stripe":!c&&o,"is--loading":Uo,"is--empty":!Uo&&!Te.length,"is--scroll-y":Z,"is--scroll-x":me,"is--virtual-x":ie,"is--virtual-y":te}],spellcheck:!1,onKeydown:Oi},[u("div",{class:"vxe-table-slots"},r.default?r.default({}):[]),u("div",{key:"tw",class:"vxe-table--render-wrapper"},[u("div",{class:"vxe-table--main-wrapper"},[n?u(cr,{ref:y,tableData:Te,tableColumn:Ne,tableGroupColumn:_e}):Yt(m),u(ar,{ref:S,tableData:Te,tableColumn:Ne}),f?u(dr,{ref:w,footerTableData:Ue,tableColumn:Ne}):Yt(m)]),u("div",{class:"vxe-table--fixed-wrapper"},[Nt&&Nt.length&&me?Ys("left"):Yt(m),Bo&&Bo.length&&me?Ys("right"):Yt(m)])]),rl.x?u("div",{key:"vx",ref:A,class:"vxe-table--scroll-x-virtual"},[u("div",{ref:_,class:"vxe-table--scroll-x-handle",onScroll:xi},[u("div",{ref:fe,class:"vxe-table--scroll-x-space"})])]):Yt(m),rl.y?u("div",{key:"vy",ref:W,class:"vxe-table--scroll-y-virtual"},[u("div",{ref:Q,class:"vxe-table--scroll-y-handle",onScroll:wi},[u("div",{ref:z,class:"vxe-table--scroll-y-space"})])]):Yt(m),u("div",{key:"tn",ref:Le,class:"vxe-table--empty-placeholder"},[u("div",{class:"vxe-table--empty-content"},Li())]),u("div",{key:"tl",class:"vxe-table--border-line"}),u("div",{key:"cl",ref:Ee,class:"vxe-table--resizable-bar",style:me?{"padding-bottom":`${Re}px`}:null}),g?u(g,{key:"lg",class:"vxe-table--loading",modelValue:Uo,icon:hn.icon,text:hn.text},kl?{default:()=>kl({$table:m,$grid:U})}:{}):Yt(m),dt.custom?u(La,{key:"cs",ref:x,customStore:st}):Yt(m),dt.filter?u(Aa,{key:"tf",ref:v,filterStore:yt}):Yt(m),dt.import&&e.importConfig?u($a,{key:"it",defaultOptions:d.importParams,storeData:d.importStore}):Yt(m),dt.export&&(e.exportConfig||e.printConfig)?u(Ba,{key:"et",defaultOptions:d.exportParams,storeData:d.exportStore}):Yt(m),Kl?u(ja,{key:"tm",ref:k}):Yt(m),sl.drag&&(Qe||tt)?u("div",{ref:$e,class:"vxe-table--row-drag-tip"},Yl?Qe?Ks(Yl,{row:Qe}):[Yt(m)]:tt?[u("span",tt)]:[Yt(m)]):Yt(m),F?u("div",{},[u(F,{key:"ctp",ref:D,isArrow:!1,enterable:!1}),u(F,Object.assign({key:"btp",ref:X},xl,Tt.currOpts)),e.editRules&&Vo.showMessage&&(Vo.message==="default"?!i:Vo.message==="tooltip")?u(F,Object.assign({key:"vtp",ref:M,class:[{"old-cell-valid":j&&at().cellVaildMode==="obsolete"},"vxe-table--valid-error"]},Vo.message==="tooltip"||Te.length===1?lo:{})):Yt(m)]):Yt(m)])},Yn=Pe(0);ut(()=>e.data?e.data.length:-1,()=>{Yn.value++}),ut(()=>e.data,()=>{Yn.value++}),ut(Yn,()=>{const{inited:t,initStatus:o}=h;an(e.data||[]).then(()=>{h.inited=!0,h.initStatus=!0,o||cn(),t||dn(),b.recalculate()})});const Un=Pe(0);ut(()=>d.staticColumns.length,()=>{Un.value++}),ut(()=>d.staticColumns,()=>{Un.value++}),ut(Un,()=>{js(d.staticColumns)});const Gn=Pe(0);ut(()=>d.tableColumn.length,()=>{Gn.value++}),ut(()=>d.tableColumn,()=>{Gn.value++}),ut(Gn,()=>{B.analyColumnWidth()}),ut(()=>d.upDataFlag,()=>{ne(()=>{b.updateData()})}),ut(()=>d.reColumnFlag,()=>{ne(()=>{b.refreshColumn()})}),ut(()=>e.showHeader,()=>{ne(()=>{b.recalculate(!0).then(()=>b.refreshScroll())})}),ut(()=>e.showFooter,()=>{ne(()=>{b.recalculate(!0).then(()=>b.refreshScroll())})});const Zn=Pe(0);ut(()=>e.footerData?e.footerData.length:-1,()=>{Zn.value++}),ut(()=>e.footerData,()=>{Zn.value++}),ut(Zn,()=>{b.updateFooter()}),ut(()=>e.height,()=>{ne(()=>b.recalculate(!0))}),ut(()=>e.maxHeight,()=>{ne(()=>b.recalculate(!0))}),ut(()=>e.syncResize,t=>{t&&(Kn(),ne(()=>{Kn(),setTimeout(()=>Kn())}))});const Qn=Pe(0);ut(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Qn.value++}),ut(()=>e.mergeCells,()=>{Qn.value++}),ut(Qn,()=>{b.clearMergeCells(),ne(()=>{e.mergeCells&&b.setMergeCells(e.mergeCells)})});const Jn=Pe(0);ut(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Jn.value++}),ut(()=>e.mergeFooterItems,()=>{Jn.value++}),ut(Jn,()=>{b.clearMergeFooterItems(),ne(()=>{e.mergeFooterItems&&b.setMergeFooterItems(e.mergeFooterItems)})}),O&&ut(()=>O?O.reactData.resizeFlag:null,()=>{Ws()}),_a.forEach(t=>{const{setupTable:o}=t;if(o){const n=o(m);n&&s.isObject(n)&&Object.assign(m,n)}}),B.preventEvent(null,"created",{$table:m});let Xl;return Bi(()=>{b.recalculate().then(()=>b.refreshScroll()),B.preventEvent(null,"activated",{$table:m})}),Vi(()=>{h.isActivated=!1,B.preventEvent(null,"deactivated",{$table:m})}),Ol(()=>{ne(()=>{const{data:t,treeConfig:o,showOverflow:n}=e,{scrollXStore:i,scrollYStore:c}=h,p=pe.value;if(ce.value,lt.value,qe.value,Ae.value,it.value,Be.value,Object.assign(c,{startIndex:0,endIndex:0,visibleSize:0,adaptive:p.adaptive!==!1}),Object.assign(i,{startIndex:0,endIndex:0,visibleSize:0}),an(t||[]).then(()=>{t&&t.length&&(h.inited=!0,h.initStatus=!0,cn(),dn()),Vt()}),e.autoResize){const f=de.value,{refreshDelay:E}=f,R=L.value,T=B.getParentElem(),I=E?s.throttle(()=>b.recalculate(!0),E,{leading:!0,trailing:!0}):null;Xl=Pa.create(I?()=>{e.autoResize&&I()}:()=>{e.autoResize&&b.recalculate(!0)}),R&&Xl.observe(R),T&&Xl.observe(T)}}),vt.on(m,"paste",Mi),vt.on(m,"copy",Ti),vt.on(m,"cut",ki),vt.on(m,"mousedown",Ei),vt.on(m,"blur",yi),vt.on(m,"mousewheel",Ri),vt.on(m,"keydown",Si),vt.on(m,"resize",Ws),vt.on(m,"contextmenu",m.handleGlobalContextmenuEvent),B.preventEvent(null,"mounted",{$table:m})}),Dr(()=>{Xl&&Xl.disconnect(),b.closeFilter(),m.closeMenu&&m.closeMenu(),B.preventEvent(null,"beforeUnmount",{$table:m})}),Sl(()=>{vt.off(m,"paste"),vt.off(m,"copy"),vt.off(m,"cut"),vt.off(m,"mousedown"),vt.off(m,"blur"),vt.off(m,"mousewheel"),vt.off(m,"keydown"),vt.off(m,"resize"),vt.off(m,"contextmenu"),B.preventEvent(null,"unmounted",{$table:m})}),yl("$xeColgroup",null),yl("$xeTable",m),m.renderVN=Ai,m},render(){return this.renderVN()}});function qa(e){const l=Ve(()=>{const{renderParams:g}=e;return g.column}),r=Ve(()=>{const{renderParams:g}=e;return g.row}),a=Ve(()=>{const{renderOpts:g}=e;return g.props||{}}),C=Ve({get(){const{renderParams:g}=e,{row:F,column:O}=g;return s.get(F,O.field)},set(g){const{renderParams:F}=e,{row:O,column:N}=F;return s.set(O,N.field,g)}});return{currColumn:l,currRow:r,cellModel:C,cellOptions:a}}const{renderer:mr,hooks:Xa}=J,Ka=["openFilter","setFilter","clearFilter","getCheckedFilters","updateFilterOptionStatus"];Xa.add("tableFilterModule",{setupTable(e){const{props:l,reactData:r,internalData:a}=e,{refTableHeader:C,refTableBody:g,refTableFilter:F}=e.getRefMaps(),{computeFilterOpts:O,computeMouseOpts:N}=e.getComputeMaps(),d=D=>{const{filterStore:M}=r;M.options.forEach(k=>{k.checked=k._checked}),e.confirmFilterEvent(D)},h=(D,M,k)=>{const{filterStore:v}=r;v.options.forEach(x=>{x._checked=!1}),k._checked=M,e.checkFilterOptions(),d(D)},b=(D,M,k)=>{k._checked=M,e.checkFilterOptions()},L={checkFilterOptions(){const{filterStore:D}=r;D.isAllSelected=D.options.every(M=>M._checked),D.isIndeterminate=!D.isAllSelected&&D.options.some(M=>M._checked)},triggerFilterEvent(D,M,k){const{initStore:v,filterStore:x}=r;if(x.column===M&&x.visible)x.visible=!1;else{const{target:y,pageX:S}=D,{visibleWidth:w}=Dn(),{filters:$,filterMultiple:q,filterRender:Y}=M,ue=ot(Y)?mr.get(Y.name):null,Ce=M.filterRecoverMethod||(ue?ue.tableFilterRecoverMethod||ue.filterRecoverMethod:null);a._currFilterParams=k,Object.assign(x,{multiple:q,options:$,column:M,style:null}),x.options.forEach(P=>{const{_checked:oe,checked:we}=P;P._checked=we,!we&&oe!==we&&Ce&&Ce({option:P,column:M,$table:e})}),this.checkFilterOptions(),x.visible=!0,v.filter=!0,ne(()=>{const P=C.value,oe=g.value,we=P?P.$el:null,Ee=oe.$el;if(!Ee)return;const Le=F.value,$e=Le?Le.$el:null;if(!$e)return;const A=$e.offsetWidth,W=$e.offsetHeight,_=$e.querySelector(".vxe-table--filter-header"),Q=$e.querySelector(".vxe-table--filter-footer"),fe=A/2,z=10,U=Ee.clientWidth-A-z;let le,re;const Me={top:`${y.offsetTop+y.offsetParent.offsetTop+y.offsetHeight}px`};let K=null;const be=Ee.clientHeight-(we?we.clientHeight/2:0);if(W>=be&&(K=Math.max(40,be-(Q?Q.offsetHeight:0)-(_?_.offsetHeight:0))),M.fixed==="left"?le=y.offsetLeft+y.offsetParent.offsetLeft-fe:M.fixed==="right"?re=y.offsetParent.offsetWidth-y.offsetLeft+(y.offsetParent.offsetParent.offsetWidth-y.offsetParent.offsetLeft)-M.renderWidth-fe:le=y.offsetLeft+y.offsetParent.offsetLeft-fe-Ee.scrollLeft,le){const pe=S+A-fe+z-w;pe>0&&(le-=pe),Me.left=`${Math.min(U,Math.max(z,le))}px`}else if(re){const pe=S+A-fe+z-w;pe>0&&(re+=pe),Me.right=`${Math.max(z,re)}px`}x.style=Me,x.maxHeight=K})}e.dispatchEvent("filter-visible",{column:M,field:M.field,property:M.field,filterList:e.getCheckedFilters(),visible:x.visible},D)},handleClearFilter(D){if(D){const{filters:M,filterRender:k}=D;if(M){const v=ot(k)?mr.get(k.name):null,x=D.filterResetMethod||(v?v.tableFilterResetMethod||v.filterResetMethod:null);M.forEach(y=>{y._checked=!1,y.checked=!1,x||(y.data=s.clone(y.resetValue,!0))}),x&&x({options:M,column:D,$table:e})}}},confirmFilterEvent(D){const{mouseConfig:M}=l,{filterStore:k,scrollXLoad:v,scrollYLoad:x}=r,y=O.value,S=N.value,{column:w}=k,{field:$}=w,q=[],Y=[];w.filters.forEach(P=>{P.checked&&(q.push(P.value),Y.push(P.data))});const ue=e.getCheckedFilters(),Ce={$table:e,$event:D,column:w,field:$,property:$,values:q,datas:Y,filters:ue,filterList:ue};y.remote||(e.handleTableData(!0),e.checkSelectionStatus()),M&&S.area&&e.handleFilterEvent&&e.handleFilterEvent(D,Ce),e.dispatchEvent("filter-change",Ce,D),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:P,scrollYLoad:oe}=r;if(v||P||x||oe)return(v||P)&&e.updateScrollXSpace(),(x||oe)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},handleFilterChangeRadioOption:h,handleFilterChangeMultipleOption:b,handleFilterChangeOption(D,M,k){const{filterStore:v}=r;v.multiple?b(D,M,k):h(D,M,k)},handleFilterConfirmFilter:d,handleFilterResetFilter:D=>{const{filterStore:M}=r;e.handleClearFilter(M.column),e.confirmFilterEvent(D)}};return Object.assign(Object.assign({},{openFilter(D){const M=Gt(e,D);if(M&&M.filters){const{elemStore:k}=a,{fixed:v}=M;return e.scrollToColumn(M).then(()=>{const x=k[`${v||"main"}-header-wrapper`]||k["main-header-wrapper"],y=x?x.value:null;if(y){const S=y.querySelector(`.vxe-header--column.${M.id} .vxe-filter--btn`);ha(S,"click")}})}return ne()},setFilter(D,M){const k=Gt(e,D);return k&&k.filters&&(k.filters=Xr(M||[])),ne()},clearFilter(D){const{filterStore:M}=r,{tableFullColumn:k}=a,v=O.value;let x;return D?(x=Gt(e,D),x&&L.handleClearFilter(x)):k.forEach(L.handleClearFilter),(!D||x!==M.column)&&Object.assign(M,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),v.remote?ne():e.updateData()},getCheckedFilters(){const{tableFullColumn:D}=a,M=[];return D.forEach(k=>{const{field:v,filters:x}=k,y=[],S=[];x&&x.length&&(x.forEach(w=>{w.checked&&(y.push(w.value),S.push(w.data))}),y.length&&M.push({column:k,field:v,property:v,values:y,datas:S}))}),M},updateFilterOptionStatus(D,M){return D._checked=M,D.checked=M,ne()}}),L)},setupGrid(e){return e.extendTableMethods(Ka)}});const{menus:Ya,hooks:Ua,globalEvents:Cn,GLOBAL_EVENT_KEYS:wn}=J,Ga=["closeMenu"];Ua.add("tableMenuModule",{setupTable(e){const{xID:l,props:r,reactData:a,internalData:C}=e,{refElem:g,refTableFilter:F,refTableMenu:O}=e.getRefMaps(),{computeMouseOpts:N,computeIsMenu:d,computeMenuOpts:h}=e.getComputeMaps();let b={},B={};const L=(X,D,M)=>{const{ctxMenuStore:k}=a,v=d.value,x=h.value,y=x[D],S=x.visibleMethod;if(y){const{options:w,disabled:$}=y;$?X.preventDefault():v&&w&&w.length&&(M.options=w,e.preventEvent(X,"event.showMenu",M,()=>{if(!S||S(M)){X.preventDefault(),e.updateZindex();const{scrollTop:q,scrollLeft:Y,visibleHeight:ue,visibleWidth:Ce}=Dn();let P=X.clientY+q,oe=X.clientX+Y;const we=()=>{C._currMenuParams=M,Object.assign(k,{visible:!0,list:w,selected:null,selectChild:null,showChild:!1,style:{zIndex:C.tZindex,top:`${P}px`,left:`${oe}px`}}),ne(()=>{const W=O.value.getRefMaps().refElem.value,_=W.clientHeight,Q=W.clientWidth,{boundingTop:fe,boundingLeft:z}=Sn(W),U=fe+_-ue,le=z+Q-Ce;U>-10&&(k.style.top=`${Math.max(q+2,P-_-2)}px`),le>-10&&(k.style.left=`${Math.max(Y+2,oe-Q-2)}px`)})},{keyboard:Ee,row:Le,column:$e}=M;Ee&&Le&&$e?e.scrollToRow(Le,$e).then(()=>{const A=e.getCellElement(Le,$e);if(A){const{boundingTop:W,boundingLeft:_}=Sn(A);P=W+q+Math.floor(A.offsetHeight/2),oe=_+Y+Math.floor(A.offsetWidth/2)}we()}):we()}else b.closeMenu()}))}e.closeFilter()};return b={closeMenu(){return Object.assign(a.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ne()}},B={moveCtxMenu(X,D,M,k,v,x){let y;const S=s.findIndexOf(x,w=>D[M]===w);if(k)v&&Nl(D.selected)?D.showChild=!0:(D.showChild=!1,D.selectChild=null);else if(Cn.hasKey(X,wn.ARROW_UP)){for(let w=S-1;w>=0;w--)if(x[w].visible!==!1){y=x[w];break}D[M]=y||x[x.length-1]}else if(Cn.hasKey(X,wn.ARROW_DOWN)){for(let w=S+1;w<x.length;w++)if(x[w].visible!==!1){y=x[w];break}D[M]=y||x[0]}else D[M]&&(Cn.hasKey(X,wn.ENTER)||Cn.hasKey(X,wn.SPACEBAR))&&B.ctxMenuLinkEvent(X,D[M])},handleOpenMenuEvent:L,handleGlobalContextmenuEvent(X){const{mouseConfig:D,menuConfig:M}=r,{editStore:k,ctxMenuStore:v}=a,{visibleColumn:x}=C,y=F.value,S=O.value,w=N.value,$=h.value,q=g.value,{selected:Y}=k,ue=["header","body","footer"];if(ot(M)){if(v.visible&&S&&pt(X,S.getRefMaps().refElem.value).flag){X.preventDefault();return}if(C._keyCtx){const Ce="body",P={type:Ce,$table:e,keyboard:!0,columns:x.slice(0),$event:X};if(D&&w.area){const oe=e.getActiveCellArea();if(oe&&oe.row&&oe.column){P.row=oe.row,P.column=oe.column,L(X,Ce,P);return}}else if(D&&w.selected&&Y.row&&Y.column){P.row=Y.row,P.column=Y.column,L(X,Ce,P);return}}for(let Ce=0;Ce<ue.length;Ce++){const P=ue[Ce],oe=pt(X,q,`vxe-${P}--column`,Ee=>Ee.parentNode.parentNode.parentNode.getAttribute("xid")===l),we={type:P,$table:e,columns:x.slice(0),$event:X};if(oe.flag){const Ee=oe.targetElem,Le=e.getColumnNode(Ee),$e=Le?Le.item:null;let A=`${P}-`;if($e&&Object.assign(we,{column:$e,columnIndex:e.getColumnIndex($e),cell:Ee}),P==="body"){const _=e.getRowNode(Ee.parentNode),Q=_?_.item:null;A="",Q&&(we.row=Q,we.rowIndex=e.getRowIndex(Q))}const W=`${A}cell-menu`;L(X,P,we),e.dispatchEvent(W,we,X);return}else if(pt(X,q,`vxe-table--${P}-wrapper`,Ee=>Ee.getAttribute("xid")===l).flag){$.trigger==="cell"?X.preventDefault():L(X,P,we);return}}}y&&!pt(X,y.$el).flag&&e.closeFilter(),b.closeMenu()},ctxMenuMouseoverEvent(X,D,M){const k=X.currentTarget,{ctxMenuStore:v}=a;X.preventDefault(),X.stopPropagation(),v.selected=D,v.selectChild=M,M||(v.showChild=Nl(D),v.showChild&&ne(()=>{const x=k.nextElementSibling;if(x){const{boundingTop:y,boundingLeft:S,visibleHeight:w,visibleWidth:$}=Sn(k),q=y+k.offsetHeight,Y=S+k.offsetWidth;let ue="",Ce="";Y+x.offsetWidth>$-10&&(ue="auto",Ce=`${k.offsetWidth}px`);let P="",oe="";q+x.offsetHeight>w-10&&(P="auto",oe="0"),x.style.left=ue,x.style.right=Ce,x.style.top=P,x.style.bottom=oe}}))},ctxMenuMouseoutEvent(X,D){const{ctxMenuStore:M}=a;D.children||(M.selected=null),M.selectChild=null},ctxMenuLinkEvent(X,D){if(!D.disabled&&(D.code||!D.children||!D.children.length)){const M=Ya.get(D.code),k=Object.assign({},C._currMenuParams,{menu:D,$table:e,$grid:e.xegrid,$event:X}),v=M?M.tableMenuMethod||M.menuMethod:null;v&&v(k,X),e.dispatchEvent("menu-click",k,X),b.closeMenu()}}},Object.assign(Object.assign({},b),B)},setupGrid(e){return e.extendTableMethods(Ga)}});const{getConfig:Za,renderer:Qa,hooks:Ja,getI18n:br}=J,ec=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];Ja.add("tableEditModule",{setupTable(e){const{props:l,reactData:r,internalData:a}=e,{refElem:C}=e.getRefMaps(),{computeMouseOpts:g,computeEditOpts:F,computeCheckboxOpts:O,computeTreeOpts:N,computeValidOpts:d}=e.getComputeMaps();let h={},b={};const B=(v,x)=>{const{model:y,editRender:S}=x;S&&(y.value=Jt(v,x),y.update=!1)},L=(v,x)=>{const{model:y,editRender:S}=x;S&&y.update&&(_o(v,x,y.value),y.update=!1,y.value=null)},X=()=>{const v=C.value;if(v){const x=v.querySelector(".col--selected");x&&ho(x,"col--selected")}};function D(){const{editStore:v,tableColumn:x}=r,y=F.value,{actived:S}=v,{row:w,column:$}=S;(w||$)&&(y.mode==="row"?x.forEach(q=>L(w,q)):L(w,$))}function M(v,x){const{tableFullTreeData:y,afterFullData:S,fullDataRowIdData:w,fullAllDataRowIdData:$}=a,q=N.value,{rowField:Y,parentField:ue,mapChildrenField:Ce}=q,P=q.children||q.childrenField,oe=x?"push":"unshift";v.forEach(we=>{const Ee=we[ue],Le=ve(e,we),$e=Ee?s.findTree(y,A=>Ee===A[Y],{children:Ce}):null;if($e){const{item:A}=$e,W=$[ve(e,A)],_=W?W.level:0;let Q=A[P],fe=A[Ce];s.isArray(Q)||(Q=A[P]=[]),s.isArray(fe)||(fe=A[P]=[]),Q[oe](we),fe[oe](we);const z={row:we,rowid:Le,seq:-1,index:-1,_index:-1,$index:-1,items:Q,parent:A,level:_+1,height:0};w[Le]=z,$[Le]=z}else{S[oe](we),y[oe](we);const A={row:we,rowid:Le,seq:-1,index:-1,_index:-1,$index:-1,items:y,parent:null,level:0,height:0};w[Le]=A,$[Le]=A}})}const k=(v,x,y)=>{const{treeConfig:S}=l,{mergeList:w,editStore:$}=r,{tableFullTreeData:q,afterFullData:Y,tableFullData:ue,fullDataRowIdData:Ce,fullAllDataRowIdData:P}=a,oe=N.value,{transform:we,rowField:Ee,mapChildrenField:Le}=oe,$e=oe.children||oe.childrenField;s.isArray(v)||(v=[v]);const A=zo(e.defineField(v.map(_=>Object.assign(S&&we?{[Le]:[],[$e]:[]}:{},_))));if(s.eqNull(x))S&&we?M(A,!1):(Y.unshift(...A),ue.unshift(...A),w.forEach(_=>{const{row:Q}=_;Q>0&&(_.row=Q+A.length)}));else if(x===-1)S&&we?M(A,!0):(Y.push(...A),ue.push(...A),w.forEach(_=>{const{row:Q,rowspan:fe}=_;Q+fe>Y.length&&(_.rowspan=fe+A.length)}));else if(S&&we){const _=s.findTree(q,Q=>x[Ee]===Q[Ee],{children:Le});if(_){const{parent:Q}=_,fe=Q?Q[Le]:q,z=P[ve(e,Q)],U=z?z.level:0;if(A.forEach((le,re)=>{const Me=ve(e,le);Q&&(le[oe.parentField]=Q[Ee]);let K=_.index+re;y&&(K=K+1),fe.splice(K,0,le);const be={row:le,rowid:Me,seq:-1,index:-1,_index:-1,$index:-1,items:fe,parent:Q,level:U+1,height:0};Ce[Me]=be,P[Me]=be}),Q){const le=s.findTree(q,re=>x[Ee]===re[Ee],{children:$e});if(le){const re=le.items;let Me=le.index;y&&(Me=Me+1),re.splice(Me,0,...A)}}}else M(A,!0)}else{if(S)throw new Error(br("vxe.error.noTree",["insert"]));let _=-1;if(s.isNumber(x)?x<Y.length&&(_=x):_=e.findRowIndexOf(Y,x),y&&(_=Math.min(Y.length,_+1)),_===-1)throw new Error(br("vxe.error.unableInsert"));Y.splice(_,0,...A),ue.splice(e.findRowIndexOf(ue,x),0,...A),w.forEach(Q=>{const{row:fe,rowspan:z}=Q;fe>_?Q.row=fe+A.length:fe+z>_&&(Q.rowspan=z+A.length)})}const{insertMaps:W}=$;return A.forEach(_=>{const Q=ve(e,_);W[Q]=_}),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(S&&we),S&&we||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ne().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:A.length?A[A.length-1]:null,rows:A}))};return h={insert(v){return k(v,null)},insertAt(v,x){return k(v,x)},insertNextAt(v,x){return k(v,x,!0)},remove(v){const{treeConfig:x}=l,{mergeList:y,editStore:S,selectCheckboxMaps:w}=r,{tableFullTreeData:$,afterFullData:q,tableFullData:Y}=a,ue=O.value,Ce=N.value,{transform:P,mapChildrenField:oe}=Ce,we=Ce.children||Ce.childrenField,{actived:Ee,removeMaps:Le,insertMaps:$e}=S,{checkField:A}=ue;let W=[];if(v?s.isArray(v)||(v=[v]):v=Y,v.forEach(_=>{if(!e.isInsertByRow(_)){const Q=ve(e,_);Le[Q]=_}}),!A){const _=Object.assign({},w);v.forEach(Q=>{const fe=ve(e,Q);_[fe]&&delete _[fe]}),r.selectCheckboxMaps=_}return Y===v?(v=W=Y.slice(0),a.tableFullData=[],a.afterFullData=[],e.clearMergeCells()):x&&P?v.forEach(_=>{const Q=ve(e,_),fe=s.findTree($,le=>Q===ve(e,le),{children:oe});if(fe){const le=fe.items.splice(fe.index,1);W.push(le[0])}const z=s.findTree($,le=>Q===ve(e,le),{children:we});z&&z.items.splice(z.index,1);const U=e.findRowIndexOf(q,_);U>-1&&q.splice(U,1)}):v.forEach(_=>{const Q=e.findRowIndexOf(Y,_);if(Q>-1){const z=Y.splice(Q,1);W.push(z[0])}const fe=e.findRowIndexOf(q,_);fe>-1&&(y.forEach(z=>{const{row:U,rowspan:le}=z;U>fe?z.row=U-1:U+le>fe&&(z.rowspan=le-1)}),q.splice(fe,1))}),Ee.row&&e.findRowIndexOf(v,Ee.row)>-1&&h.clearEdit(),v.forEach(_=>{const Q=ve(e,_);$e[Q]&&delete $e[Q]}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(x&&P),x&&P||e.updateAfterDataIndex(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ne().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:W.length?W[W.length-1]:null,rows:W}))},removeCheckboxRow(){return h.remove(e.getCheckboxRecords()).then(v=>(e.clearCheckboxRow(),v))},removeRadioRow(){const v=e.getRadioRecord();return h.remove(v||[]).then(x=>(e.clearRadioRow(),x))},removeCurrentRow(){const v=e.getCurrentRecord();return h.remove(v||[]).then(x=>(e.clearCurrentRow(),x))},getRecordset(){const v=h.getRemoveRecords(),x=e.getPendingRecords(),y=v.concat(x),S=h.getUpdateRecords().filter(w=>!y.some($=>e.eqRow($,w)));return{insertRecords:h.getInsertRecords(),removeRecords:v,updateRecords:S,pendingRecords:x}},getInsertRecords(){const{editStore:v}=r,{fullAllDataRowIdData:x}=a,{insertMaps:y}=v,S=[];return s.each(y,(w,$)=>{x[$]&&S.push(w)}),S},getRemoveRecords(){const{editStore:v}=r,{removeMaps:x}=v,y=[];return s.each(x,S=>{y.push(S)}),y},getUpdateRecords(){const{keepSource:v,treeConfig:x}=l,{tableFullData:y}=a,S=N.value;return v?(D(),x?s.filterTree(y,w=>e.isUpdateByRow(w),S):y.filter(w=>e.isUpdateByRow(w))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:v}=r,{afterFullData:x}=a,y=C.value,{args:S,row:w}=v.actived;return S&&e.findRowIndexOf(x,w)>-1&&y.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},S):null},getSelectedCell(){const{editStore:v}=r,{args:x,column:y}=v.selected;return x&&y?Object.assign({},x):null},clearActived(v){return this.clearEdit(v)},clearEdit(v){const{editStore:x}=r,{actived:y,focused:S}=x,{row:w,column:$}=y,q=d.value;return(w||$)&&(D(),y.args=null,y.row=null,y.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:w,rowIndex:e.getRowIndex(w),$rowIndex:e.getVMRowIndex(w),column:$,columnIndex:e.getColumnIndex($),$columnIndex:e.getVMColumnIndex($)},v||null)),q.autoClear&&(q.msgMode!=="full"||Za().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():(S.row=null,S.column=null,ne())},clearSelected(){const{editStore:v}=r,{selected:x}=v;return x.row=null,x.column=null,X(),ne()},isActiveByRow(v){return this.isEditByRow(v)},isEditByRow(v){const{editStore:x}=r;return x.actived.row===v},setActiveRow(v){return h.setEditRow(v)},setEditRow(v,x){const{visibleColumn:y}=a;let S=s.find(y,w=>ot(w.editRender));return x&&(S=s.isString(x)?e.getColumnByField(x):x),e.setEditCell(v,S)},setActiveCell(v,x){return h.setEditCell(v,x)},setEditCell(v,x){const{editConfig:y}=l,S=s.isString(x)?e.getColumnByField(x):x;return v&&S&&ot(y)&&ot(S.editRender)?e.scrollToRow(v,S).then(()=>{const w=e.getCellElement(v,S);return w&&(b.handleEdit({row:v,rowIndex:e.getRowIndex(v),column:S,columnIndex:e.getColumnIndex(S),cell:w,$table:e}),a._lastCallTime=Date.now()),ne()}):ne()},setSelectCell(v,x){const{tableData:y}=r,S=F.value,w=s.isString(x)?e.getColumnByField(x):x;if(v&&w&&S.trigger!=="manual"){const $=e.findRowIndexOf(y,v);if($>-1&&w){const q=e.getCellElement(v,w),Y={row:v,rowIndex:$,column:w,columnIndex:e.getColumnIndex(w),cell:q};e.handleSelected(Y,{})}}return ne()}},b={handleEdit(v,x){const{editConfig:y,mouseConfig:S}=l,{editStore:w,tableColumn:$}=r,q=F.value,{mode:Y}=q,{actived:ue,focused:Ce}=w,{row:P,column:oe}=v,{editRender:we}=oe,Ee=v.cell||e.getCellElement(P,oe),Le=q.beforeEditMethod||q.activeMethod;if(v.cell=Ee,Ee&&ot(y)&&ot(we)&&!e.hasPendingByRow(P)){if(ue.row!==P||Y==="cell"&&ue.column!==oe){let $e="edit-disabled";if(!Le||Le(Object.assign(Object.assign({},v),{$table:e,$grid:e.xegrid}))){S&&(h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),ue.column&&h.clearEdit(x),$e="edit-activated",oe.renderHeight=Ee.offsetHeight,ue.args=v,ue.row=P,ue.column=oe,Y==="row"?$.forEach(W=>B(P,W)):B(P,oe);const A=q.afterEditMethod;ne(()=>{b.handleFocus(v,x),A&&A(Object.assign(Object.assign({},v),{$table:e,$grid:e.xegrid}))})}e.dispatchEvent($e,{row:P,rowIndex:e.getRowIndex(P),$rowIndex:e.getVMRowIndex(P),column:oe,columnIndex:e.getColumnIndex(oe),$columnIndex:e.getVMColumnIndex(oe)},x),$e==="edit-activated"&&e.dispatchEvent("edit-actived",{row:P,rowIndex:e.getRowIndex(P),$rowIndex:e.getVMRowIndex(P),column:oe,columnIndex:e.getColumnIndex(oe),$columnIndex:e.getVMColumnIndex(oe)},x)}else{const{column:$e}=ue;if(S&&(h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),$e!==oe){const{model:A}=$e;A.update&&_o(P,$e,A.value),e.clearValidate&&e.clearValidate(P,oe)}oe.renderHeight=Ee.offsetHeight,ue.args=v,ue.column=oe,setTimeout(()=>{b.handleFocus(v,x)})}Ce.column=null,Ce.row=null,e.focus()}return ne()},handleActived(v,x){return b.handleEdit(v,x)},handleFocus(v){const{row:x,column:y,cell:S}=v,{editRender:w}=y,$=F.value;if(ot(w)){const q=Qa.get(w.name);let Y=w.autofocus||w.autoFocus,ue=w.autoSelect||w.autoselect,Ce;if($.autoFocus&&(!Y&&q&&(Y=q.tableAutoFocus||q.tableAutofocus||q.autofocus),!ue&&q&&(ue=q.tableAutoSelect||q.autoselect),s.isFunction(Y)?Ce=Y(v):Y&&(Y===!0?Ce=S.querySelector("input,textarea"):Ce=S.querySelector(Y),Ce&&Ce.focus())),Ce){if(ue)Ce.select();else if(ul.msie){const P=Ce.createTextRange();P.collapse(!1),P.select()}}else $.autoPos&&(y.fixed||e.scrollToRow(x,y))}},handleSelected(v,x){const{mouseConfig:y}=l,{editStore:S}=r,w=g.value,$=F.value,{actived:q,selected:Y}=S,{row:ue,column:Ce}=v,P=y&&w.selected;return(()=>(P&&(Y.row!==ue||Y.column!==Ce)&&(q.row!==ue||$.mode==="cell"&&q.column!==Ce)&&(h.clearEdit(x),h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),Y.args=v,Y.row=ue,Y.column=Ce,P&&b.addCellSelectedClass(),e.focus(),x&&e.dispatchEvent("cell-selected",v,x)),ne()))()},addCellSelectedClass(){const{editStore:v}=r,{selected:x}=v,{row:y,column:S}=x;if(X(),y&&S){const w=e.getCellElement(y,S);w&&Ao(w,"col--selected")}}},Object.assign(Object.assign({},h),b)},setupGrid(e){return e.extendTableMethods(ec)}});const tc='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function oc(e,l){return new Blob([e],{type:`text/${l.type};charset=utf-8;`})}function lc(e,l){const{style:r}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${tc}</style>`,r?`<style>${r}</style>`:"","</head>",`<body>${l}</body>`,"</html>"].join("")}const{getI18n:No,hooks:nc,renderer:fs}=J;let Hl;const sc="\uFEFF",El=`\r
`;function xr(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const ei=e=>{const l=[];return e.forEach(r=>{r.childNodes&&r.childNodes.length?(l.push(r),l.push(...ei(r.childNodes))):l.push(r)}),l},rc=e=>{let l=1;const r=(g,F)=>{if(F&&(g._level=F._level+1,l<g._level&&(l=g._level)),g.childNodes&&g.childNodes.length){let O=0;g.childNodes.forEach(N=>{r(N,g),O+=N._colSpan}),g._colSpan=O}else g._colSpan=1};e.forEach(g=>{g._level=1,r(g)});const a=[];for(let g=0;g<l;g++)a.push([]);return ei(e).forEach(g=>{g.childNodes&&g.childNodes.length?g._rowSpan=1:g._rowSpan=l-g._level+1,a[g._level-1].push(g)}),a};function ic(e){return e===!0?"full":e||"default"}function $l(e){return e==="TRUE"||e==="true"||e===!0}function En(e,l){const{footerFilterMethod:r}=e;return r?l.filter((a,C)=>r({items:a,$rowIndex:C})):l}function ac(e,l){if(l){if(e.type==="seq")return`	${l}`;switch(e.cellType){case"string":if(!isNaN(l))return`	${l}`;break;case"number":break;default:if(l.length>=12&&!isNaN(l))return`	${l}`;break}}return l}function Bl(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Co(e,l){return e.getElementsByTagName(l)}function vr(e){return`#${e}@${s.uniqueId()}`}function ti(e,l){return e.replace(/#\d+@\d+/g,r=>s.hasOwnProp(l,r)?l[r]:r)}function Cr(e,l){return ti(e,l).replace(/^"+$/g,a=>'"'.repeat(Math.ceil(a.length/2)))}function oi(e,l,r){const a=l.split(El),C=[];let g=[];if(a.length){const F={},O=Date.now();a.forEach(N=>{if(N){const d={};N=N.replace(/("")|(\n)/g,(b,B)=>{const L=vr(O);return F[L]=B?'"':`
`,L}).replace(/"(.*?)"/g,(b,B)=>{const L=vr(O);return F[L]=ti(B,F),L});const h=N.split(r);g.length?(h.forEach((b,B)=>{B<g.length&&(d[g[B]]=Cr(b.trim(),F))}),C.push(d)):g=h.map(b=>Cr(b.trim(),F))}})}return{fields:g,rows:C}}function cc(e,l){return oi(e,l,",")}function dc(e,l){return oi(e,l,"	")}function uc(e,l){const a=new DOMParser().parseFromString(l,"text/html"),C=Co(a,"body"),g=[],F=[];if(C.length){const O=Co(C[0],"table");if(O.length){const N=Co(O[0],"thead");if(N.length){s.arrayEach(Co(N[0],"tr"),h=>{s.arrayEach(Co(h,"th"),b=>{F.push(b.textContent)})});const d=Co(O[0],"tbody");d.length&&s.arrayEach(Co(d[0],"tr"),h=>{const b={};s.arrayEach(Co(h,"td"),(B,L)=>{F[L]&&(b[F[L]]=B.textContent||"")}),g.push(b)})}}}return{fields:F,rows:g}}function fc(e,l){const a=new DOMParser().parseFromString(l,"application/xml"),C=Co(a,"Worksheet"),g=[],F=[];if(C.length){const O=Co(C[0],"Table");if(O.length){const N=Co(O[0],"Row");N.length&&(s.arrayEach(Co(N[0],"Cell"),d=>{F.push(d.textContent)}),s.arrayEach(N,(d,h)=>{if(h){const b={},B=Co(d,"Cell");s.arrayEach(B,(L,X)=>{F[X]&&(b[F[X]]=L.textContent)}),g.push(b)}}))}}return{fields:F,rows:g}}function wr(e){s.eachTree(e,l=>{delete l._level,delete l._colSpan,delete l._rowSpan,delete l._children,delete l.childNodes},{children:"children"})}function pc(e,l){const r=[];return e.forEach(a=>{const C=a.property;C&&r.push(C)}),l.some(a=>r.indexOf(a)>-1)}const hc=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];nc.add("tableExportModule",{setupTable(e){const{props:l,reactData:r,internalData:a}=e,{computeTreeOpts:C,computePrintOpts:g,computeExportOpts:F,computeImportOpts:O,computeCustomOpts:N,computeSeqOpts:d,computeRadioOpts:h,computeCheckboxOpts:b,computeColumnOpts:B}=e.getComputeMaps(),L=ro("$xeGrid",null),X=A=>{const W=C.value,_=W.children||W.childrenField;return A[_]&&A[_].length},D=(A,W,_,Q,fe)=>{const U=d.value.seqMethod||Q.seqMethod;return U?U({row:W,rowIndex:e.getRowIndex(W),$rowIndex:_,column:Q,columnIndex:e.getColumnIndex(Q),$columnIndex:fe}):A};function M(A,W){const _=B.value,Q=W.headerExportMethod||_.headerExportMethod;return Q?Q({column:W,options:A,$table:e}):(A.original?W.property:W.getTitle())||""}const k=A=>s.isBoolean(A)?A?"TRUE":"FALSE":A,v=(A,W,_)=>{const{isAllExpand:Q,mode:fe}=A,{treeConfig:z}=l,U=h.value,le=b.value,re=C.value,Me=B.value;if(Hl||(Hl=document.createElement("div")),z){const K=re.children||re.childrenField,be=[],pe=new Map;return s.eachTree(_,(xe,ae,he,Se,Be,ge)=>{const de=xe._row||xe,ke=Be&&Be._row?Be._row:Be;if(Q||!ke||pe.has(ke)&&e.isTreeExpandByRow(ke)){const et=X(de),qe={_row:de,_level:ge.length-1,_hasChild:et,_expand:et&&e.isTreeExpandByRow(de)};W.forEach((Ae,ze)=>{let Xe="";const Fe=Ae.editRender||Ae.cellRender;let ce=Ae.exportMethod;if(!ce&&Fe&&Fe.name){const je=fs.get(Fe.name);je&&(ce=je.tableExportMethod||je.exportMethod)}if(ce||(ce=Me.exportMethod),ce)Xe=ce({$table:e,row:de,column:Ae,options:A});else switch(Ae.type){case"seq":{const je=Se.map((Ie,Oe)=>Oe%2===0?Number(Ie)+1:".").join("");Xe=fe==="all"?je:D(je,de,ae,Ae,ze);break}case"checkbox":Xe=k(e.isCheckedByCheckboxRow(de)),qe._checkboxLabel=le.labelField?s.get(de,le.labelField):"",qe._checkboxDisabled=le.checkMethod&&!le.checkMethod({row:de});break;case"radio":Xe=k(e.isCheckedByRadioRow(de)),qe._radioLabel=U.labelField?s.get(de,U.labelField):"",qe._radioDisabled=U.checkMethod&&!U.checkMethod({row:de});break;default:if(A.original)Xe=Jt(de,Ae);else if(Xe=`${e.getCellLabel(de,Ae)}`,Ae.type==="html")Hl.innerHTML=Xe,Xe=Hl.innerText.trim();else{const je=e.getCellElement(de,Ae);je&&(Xe=je.innerText.trim())}}qe[Ae.id]=s.toValueString(Xe)}),pe.set(de,1),be.push(Object.assign(qe,de))}},{children:K}),be}return _.map((K,be)=>{const pe={_row:K};return W.forEach((xe,ae)=>{let he="";const Se=xe.editRender||xe.cellRender;let Be=xe.exportMethod;if(!Be&&Se&&Se.name){const ge=fs.get(Se.name);ge&&(Be=ge.exportMethod)}if(Be)he=Be({$table:e,row:K,column:xe,options:A});else switch(xe.type){case"seq":{const ge=be+1;he=fe==="all"?ge:D(ge,K,be,xe,ae);break}case"checkbox":he=k(e.isCheckedByCheckboxRow(K)),pe._checkboxLabel=le.labelField?s.get(K,le.labelField):"",pe._checkboxDisabled=le.checkMethod&&!le.checkMethod({row:K});break;case"radio":he=k(e.isCheckedByRadioRow(K)),pe._radioLabel=U.labelField?s.get(K,U.labelField):"",pe._radioDisabled=U.checkMethod&&!U.checkMethod({row:K});break;default:if(A.original)he=Jt(K,xe);else if(he=`${e.getCellLabel(K,xe)}`,xe.type==="html")Hl.innerHTML=he,he=Hl.innerText.trim();else{const ge=e.getCellElement(K,xe);ge&&(he=ge.innerText.trim())}}pe[xe.id]=s.toValueString(he)}),pe})},x=A=>{const{columns:W,dataFilterMethod:_}=A;let Q=A.data;return _&&(Q=Q.filter((fe,z)=>_({row:fe,$rowIndex:z}))),v(A,W,Q)},y=(A,W,_)=>{const Q=B.value,fe=_.editRender||_.cellRender;let z=_.footerExportMethod;if(!z&&fe&&fe.name){const le=fs.get(fe.name);le&&(z=le.tableFooterExportMethod||le.footerExportMethod)}z||(z=Q.footerExportMethod);const U=e.getVTColumnIndex(_);return z?z({$table:e,items:W,itemIndex:U,row:W,_columnIndex:U,column:_,options:A}):s.isArray(W)?s.toValueString(W[U]):s.get(W,_.field)},S=(A,W,_)=>{let Q=sc;if(A.isHeader&&(Q+=W.map(fe=>Bl(M(A,fe))).join(",")+El),_.forEach(fe=>{Q+=W.map(z=>Bl(ac(z,fe[z.id]))).join(",")+El}),A.isFooter){const{footerTableData:fe}=r;En(A,fe).forEach(U=>{Q+=W.map(le=>Bl(y(A,U,le))).join(",")+El})}return Q},w=(A,W,_)=>{let Q="";if(A.isHeader&&(Q+=W.map(fe=>Bl(M(A,fe))).join("	")+El),_.forEach(fe=>{Q+=W.map(z=>Bl(fe[z.id])).join("	")+El}),A.isFooter){const{footerTableData:fe}=r;En(A,fe).forEach(U=>{Q+=W.map(le=>Bl(y(A,U,le))).join("	")+El})}return Q},$=(A,W,_)=>{const Q=A[W],fe=s.isUndefined(Q)||s.isNull(Q)?_:Q;let re=fe==="title"||(fe===!0||fe==="tooltip")||fe==="ellipsis";const{scrollXLoad:Me,scrollYLoad:K}=r;return(Me||K)&&!re&&(re=!0),re},q=(A,W,_)=>{const{id:Q,border:fe,treeConfig:z,headerAlign:U,align:le,footerAlign:re,showOverflow:Me,showHeaderOverflow:K}=l,{isAllSelected:be,isIndeterminate:pe,mergeList:xe}=r,ae=C.value,{print:he,isHeader:Se,isFooter:Be,isColgroup:ge,isMerge:de,colgroups:ke,original:et}=A,qe="check-all",ze=[`<table class="${["vxe-table",`border--${ic(fe)}`,he?"is--print":"",Se?"is--header":""].filter(Fe=>Fe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${W.map(Fe=>`<col style="width:${Fe.renderWidth}px">`).join("")}</colgroup>`];if(Se&&(ze.push("<thead>"),ge&&!et?ke.forEach(Fe=>{ze.push(`<tr>${Fe.map(ce=>{const je=ce.headerAlign||ce.align||U||le,Ie=$(ce,"showHeaderOverflow",K)?["col--ellipsis"]:[],Oe=M(A,ce);let Ye=0,Je=0;s.eachTree([ce],V=>{(!V.childNodes||!ce.childNodes.length)&&Je++,Ye+=V.renderWidth},{children:"childNodes"});const Ge=Ye-Je;return je&&Ie.push(`col--${je}`),ce.type==="checkbox"?`<th class="${Ie.join(" ")}" colspan="${ce._colSpan}" rowspan="${ce._rowSpan}"><div ${he?"":`style="width: ${Ge}px"`}><input type="checkbox" class="${qe}" ${be?"checked":""}><span>${Oe}</span></div></th>`:`<th class="${Ie.join(" ")}" colspan="${ce._colSpan}" rowspan="${ce._rowSpan}" title="${Oe}"><div ${he?"":`style="width: ${Ge}px"`}><span>${Pt(Oe,!0)}</span></div></th>`}).join("")}</tr>`)}):ze.push(`<tr>${W.map(Fe=>{const ce=Fe.headerAlign||Fe.align||U||le,je=$(Fe,"showHeaderOverflow",K)?["col--ellipsis"]:[],Ie=M(A,Fe);return ce&&je.push(`col--${ce}`),Fe.type==="checkbox"?`<th class="${je.join(" ")}"><div ${he?"":`style="width: ${Fe.renderWidth}px"`}><input type="checkbox" class="${qe}" ${be?"checked":""}><span>${Ie}</span></div></th>`:`<th class="${je.join(" ")}" title="${Ie}"><div ${he?"":`style="width: ${Fe.renderWidth}px"`}><span>${Pt(Ie,!0)}</span></div></th>`}).join("")}</tr>`),ze.push("</thead>")),_.length&&(ze.push("<tbody>"),z?_.forEach(Fe=>{ze.push("<tr>"+W.map(ce=>{const je=ce.align||le,Ie=$(ce,"showOverflow",Me)?["col--ellipsis"]:[],Oe=Fe[ce.id];if(je&&Ie.push(`col--${je}`),ce.treeNode){let Ye="";return Fe._hasChild&&(Ye=`<i class="${Fe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Ie.push("vxe-table--tree-node"),ce.type==="radio"?`<td class="${Ie.join(" ")}" title="${Oe}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*ae.indent}px"><div class="vxe-table--tree-icon-wrapper">${Ye}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${Q}" ${Fe._radioDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></div></div></td>`:ce.type==="checkbox"?`<td class="${Ie.join(" ")}" title="${Oe}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*ae.indent}px"><div class="vxe-table--tree-icon-wrapper">${Ye}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></div></div></td>`:`<td class="${Ie.join(" ")}" title="${Oe}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*ae.indent}px"><div class="vxe-table--tree-icon-wrapper">${Ye}</div><div class="vxe-table--tree-cell">${Oe}</div></div></div></td>`}return ce.type==="radio"?`<td class="${Ie.join(" ")}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><input type="radio" name="radio_${Q}" ${Fe._radioDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></td>`:ce.type==="checkbox"?`<td class="${Ie.join(" ")}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></td>`:`<td class="${Ie.join(" ")}" title="${Oe}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}>${Pt(Oe,!0)}</div></td>`}).join("")+"</tr>")}):_.forEach(Fe=>{ze.push("<tr>"+W.map(ce=>{const je=ce.align||le,Ie=$(ce,"showOverflow",Me)?["col--ellipsis"]:[],Oe=Fe[ce.id];let Ye=1,Je=1;if(de&&xe.length){const Ge=e.getVTRowIndex(Fe._row),V=e.getVTColumnIndex(ce),ee=Gr(xe,Ge,V);if(ee){const{rowspan:se,colspan:De}=ee;if(!se||!De)return"";se>1&&(Ye=se),De>1&&(Je=De)}}return je&&Ie.push(`col--${je}`),ce.type==="radio"?`<td class="${Ie.join(" ")}" rowspan="${Ye}" colspan="${Je}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><input type="radio" name="radio_${Q}" ${Fe._radioDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></td>`:ce.type==="checkbox"?`<td class="${Ie.join(" ")}" rowspan="${Ye}" colspan="${Je}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${$l(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></td>`:`<td class="${Ie.join(" ")}" rowspan="${Ye}" colspan="${Je}" title="${Oe}"><div ${he?"":`style="width: ${ce.renderWidth}px"`}>${Pt(Oe,!0)}</div></td>`}).join("")+"</tr>")}),ze.push("</tbody>")),Be){const{footerTableData:Fe}=r,ce=En(A,Fe);ce.length&&(ze.push("<tfoot>"),ce.forEach(je=>{ze.push(`<tr>${W.map(Ie=>{const Oe=Ie.footerAlign||Ie.align||re||le,Ye=$(Ie,"showOverflow",Me)?["col--ellipsis"]:[],Je=y(A,je,Ie);return Oe&&Ye.push(`col--${Oe}`),`<td class="${Ye.join(" ")}" title="${Je}"><div ${he?"":`style="width: ${Ie.renderWidth}px"`}>${Pt(Je,!0)}</div></td>`}).join("")}</tr>`)}),ze.push("</tfoot>"))}const Xe=!be&&pe?`<script>(function(){var a=document.querySelector(".${qe}");if(a){a.indeterminate=true}})()<\/script>`:"";return ze.push("</table>",Xe),he?ze.join(""):lc(A,ze.join(""))},Y=(A,W,_)=>{let Q=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${A.sheetName}">`,"<Table>",W.map(fe=>`<Column ss:Width="${fe.renderWidth}"/>`).join("")].join("");if(A.isHeader&&(Q+=`<Row>${W.map(fe=>`<Cell><Data ss:Type="String">${M(A,fe)}</Data></Cell>`).join("")}</Row>`),_.forEach(fe=>{Q+="<Row>"+W.map(z=>`<Cell><Data ss:Type="String">${fe[z.id]}</Data></Cell>`).join("")+"</Row>"}),A.isFooter){const{footerTableData:fe}=r;En(A,fe).forEach(U=>{Q+=`<Row>${W.map(le=>`<Cell><Data ss:Type="String">${y(A,U,le)}</Data></Cell>`).join("")}</Row>`})}return`${Q}</Table></Worksheet></Workbook>`},ue=(A,W,_)=>{if(W.length)switch(A.type){case"csv":return S(A,W,_);case"txt":return w(A,W,_);case"html":return q(A,W,_);case"xml":return Y(A,W,_)}return""},Ce=(A,W)=>{const{filename:_,type:Q,download:fe}=A;if(!fe){const z=oc(W,A);return Promise.resolve({type:Q,content:W,blob:z})}J.saveFile&&J.saveFile({filename:_,type:Q,content:W}).then(()=>{A.message!==!1&&J.modal&&J.modal.message({content:No("vxe.table.expSuccess"),status:"success"})})},P=A=>{const{remote:W,columns:_,colgroups:Q,exportMethod:fe,afterExportMethod:z}=A;return new Promise(U=>{if(W){const le={options:A,$table:e,$grid:L};U(fe?fe(le):le)}else{const le=x(A);U(e.preventEvent(null,"event.export",{options:A,columns:_,colgroups:Q,datas:le},()=>Ce(A,ue(A,_,le))))}}).then(U=>(wr(_),A.print||z&&z({status:!0,options:A,$table:e,$grid:L}),Object.assign({status:!0},U))).catch(()=>{wr(_),A.print||z&&z({status:!1,options:A,$table:e,$grid:L});const U={status:!1};return Promise.reject(U)})},oe=(A,W)=>{const{tableFullColumn:_,_importResolve:Q,_importReject:fe}=a;let z={fields:[],rows:[]};switch(W.type){case"csv":z=cc(_,A);break;case"txt":z=dc(_,A);break;case"html":z=uc(_,A);break;case"xml":z=fc(_,A);break}const{fields:U,rows:le}=z;pc(_,U)?e.createData(le).then(Me=>{let K;return(W.mode==="insert"||W.mode==="insertBottom")&&(K=e.insertAt(Me,-1)),W.mode==="insertTop"?K=e.insert(Me):K=e.reloadData(Me),W.message!==!1&&J.modal&&J.modal.message({content:No("vxe.table.impSuccess",[le.length]),status:"success"}),K.then(()=>{Q&&Q({status:!0})})}):W.message!==!1&&(J.modal&&J.modal.message({content:No("vxe.error.impFields"),status:"error"}),fe&&fe({status:!1}))},we=(A,W)=>{const{importMethod:_,afterImportMethod:Q}=W,{type:fe,filename:z}=Ar(A),U=O.value;if(!_&&!s.includes(s.keys(U._typeMaps),fe)){W.message!==!1&&J.modal&&J.modal.message({content:No("vxe.error.notType",[fe]),status:"error"});const re={status:!1};return Promise.reject(re)}return new Promise((re,Me)=>{const K=pe=>{re(pe),a._importResolve=null,a._importReject=null},be=pe=>{Me(pe),a._importResolve=null,a._importReject=null};if(a._importResolve=K,a._importReject=be,window.FileReader){const pe=Object.assign({mode:"insertTop"},W,{type:fe,filename:z});if(pe.remote)_?Promise.resolve(_({file:A,options:pe,$table:e})).then(()=>{K({status:!0})}).catch(()=>{K({status:!0})}):K({status:!0});else{const{tableFullColumn:xe}=a;e.preventEvent(null,"event.import",{file:A,options:pe,columns:xe},()=>{const ae=new FileReader;ae.onerror=()=>{so("vxe.error.notType",[fe]),be({status:!1})},ae.onload=he=>{oe(he.target.result,pe)},ae.readAsText(A,pe.encoding||"UTF-8")})}}else K({status:!0})}).then(()=>{Q&&Q({status:!0,options:W,$table:e})}).catch(re=>(Q&&Q({status:!1,options:W,$table:e}),Promise.reject(re)))},Ee=(A,W)=>{const{treeConfig:_,showHeader:Q,showFooter:fe}=l,{initStore:z,mergeList:U,isGroup:le,footerTableData:re,exportStore:Me,exportParams:K}=r,{collectColumn:be}=a,pe=F.value,xe=_,ae=N.value,he=e.getCheckboxRecords(),Se=L?L.getComputeMaps().computeProxyOpts.value:{},Be=!!re.length,ge=!xe&&U.length,de=Object.assign({message:!0,isHeader:Q,isFooter:fe,current:"current",modes:["current","selected"].concat(Se.ajax&&Se.ajax.queryAll?["all"]:[])},A),ke=de.types||s.keys(pe._typeMaps),et=de.modes||[],qe=ae.checkMethod,Ae=be.slice(0),{columns:ze}=de,Xe=ke.map(ce=>({value:ce,label:No(`vxe.export.types.${ce}`)})),Fe=et.map(ce=>ce&&ce.value?{value:ce.value,label:ce.label||ce.value}:{value:ce,label:No(`vxe.export.modes.${ce}`)});return s.eachTree(Ae,(ce,je,Ie,Oe,Ye)=>{(ce.children&&ce.children.length||xr(ce))&&(ce.checked=ze?ze.some(Ge=>{if(Mn(Ge))return ce===Ge;if(s.isString(Ge))return ce.field===Ge;{const V=Ge.id||Ge.colId,ee=Ge.type,se=Ge.property||Ge.field;if(V)return ce.id===V;if(se&&ee)return ce.property===se&&ce.type===ee;if(se)return ce.property===se;if(ee)return ce.type===ee}return!1}):ce.visible,ce.halfChecked=!1,ce.disabled=Ye&&Ye.disabled||(qe?!qe({column:ce}):!1))}),Object.assign(Me,{columns:Ae,typeList:Xe,modeList:Fe,hasFooter:Be,hasMerge:ge,hasTree:xe,isPrint:W,hasColgroup:le,visible:!0}),Object.assign(K,{mode:he.length?"selected":"current"},de),Fe.some(ce=>ce.value===K.mode)||(K.mode=Fe[0].value),Xe.some(ce=>ce.value===K.type)||(K.type=Xe[0].value),z.export=!0,ne()},Le=()=>J.modal?J.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),$e={exportData(A){const{treeConfig:W}=l,{isGroup:_,tableGroupColumn:Q}=r,{tableFullColumn:fe,afterFullData:z}=a,U=F.value,le=C.value,re=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},U,{print:!1},A),{type:Me,mode:K,columns:be,original:pe,beforeExportMethod:xe}=re;let ae=[];const he=be&&be.length?be:null;let Se=re.columnFilterMethod;!he&&!Se&&(Se=pe?({column:ge})=>ge.property:({column:ge})=>xr(ge)),he?(re._isCustomColumn=!0,ae=s.searchTree(s.mapTree(he,ge=>{let de;if(ge){if(Mn(ge))de=ge;else if(s.isString(ge))de=e.getColumnByField(ge);else{const ke=ge.id||ge.colId,et=ge.type,qe=ge.property||ge.field;ke?de=e.getColumnById(ke):qe&&et?de=fe.find(Ae=>Ae.property===qe&&Ae.type===et):qe?de=e.getColumnByField(qe):et&&(de=fe.find(Ae=>Ae.type===et))}return de||{}}},{children:"childNodes",mapChildren:"_children"}),(ge,de)=>Mn(ge)&&(!Se||Se({column:ge,$columnIndex:de})),{children:"_children",mapChildren:"childNodes",original:!0})):ae=s.searchTree(_?Q:fe,(ge,de)=>ge.visible&&(!Se||Se({column:ge,$columnIndex:de})),{children:"children",mapChildren:"childNodes",original:!0});const Be=[];if(s.eachTree(ae,ge=>{ge.children&&ge.children.length||Be.push(ge)},{children:"childNodes"}),re.columns=Be,re.colgroups=rc(ae),re.filename||(re.filename=No(re.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[s.toDateString(Date.now(),"yyyyMMddHHmmss")])),re.sheetName||(re.sheetName=document.title),!re.exportMethod&&!s.includes(s.keys(U._typeMaps),Me)){const ge={status:!1};return Promise.reject(ge)}if(re.print||xe&&xe({options:re,$table:e,$grid:L}),!re.data)if(re.data=[],K==="selected"){const ge=e.getCheckboxRecords();["html","pdf"].indexOf(Me)>-1&&W?re.data=s.searchTree(e.getTableData().fullData,de=>e.findRowIndexOf(ge,de)>-1,Object.assign({},le,{data:"_row"})):re.data=ge}else if(K==="all"){if(L&&!re.remote){const{reactData:ge}=L,{computeProxyOpts:de}=L.getComputeMaps(),{sortData:ke}=ge,et=de.value,{beforeQueryAll:qe,afterQueryAll:Ae,ajax:ze={},props:Xe={}}=et,Fe=ze.queryAll,ce=ze.queryAllSuccess,je=ze.queryAllError;if(Fe){const Ie={$table:e,$grid:L,sort:ke.length?ke[0]:{},sorts:ke,filters:ge.filterData,form:ge.formData,options:re};return Promise.resolve((qe||Fe)(Ie)).then(Oe=>(re.data=(Xe.list?s.get(Oe,Xe.list):Oe)||[],Ae&&Ae(Ie),ce&&ce(Object.assign(Object.assign({},Ie),{response:Oe})),P(re))).catch(Oe=>{je&&je(Object.assign(Object.assign({},Ie),{response:Oe}))})}}}else K==="current"&&(re.data=z);return P(re)},importByFile(A,W){const _=Object.assign({},W),{beforeImportMethod:Q}=_;return Q&&Q({options:_,$table:e}),we(A,_)},importData(A){const W=O.value,_=Object.assign({types:s.keys(W._typeMaps)},W,A),{beforeImportMethod:Q,afterImportMethod:fe}=_;return Q&&Q({options:_,$table:e}),J.readFile(_).catch(z=>(fe&&fe({status:!1,options:_,$table:e}),Promise.reject(z))).then(z=>{const{file:U}=z;return we(U,_)})},saveFile(A){return J.saveFile(A)},readFile(A){return J.readFile(A)},print(A){const W=g.value,_=Object.assign({original:!1},W,A,{type:"html",download:!1,remote:!1,print:!0});_.sheetName||(_.sheetName=document.title);const Q=_.beforePrintMethod,fe=_.html||_.content;return new Promise((z,U)=>{J.print?z(fe?J.print({title:_.sheetName,html:fe,customStyle:_.style,beforeMethod:Q?({html:le})=>Q({html:le,content:le,options:_,$table:e}):void 0}):$e.exportData(_).then(({content:le})=>J.print({title:_.sheetName,html:le,customStyle:_.style,beforeMethod:Q?({html:re})=>Q({html:re,content:re,options:_,$table:e}):void 0}))):U({status:!1})})},getPrintHtml(A){const W=g.value,_=Object.assign({original:!1},W,A,{type:"html",download:!1,remote:!1,print:!0});return $e.exportData(_).then(({content:Q})=>({html:Q}))},closeImport(){return J.modal?J.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(A){const{treeConfig:W,importConfig:_}=l,{initStore:Q,importStore:fe,importParams:z}=r,U=O.value,le=Object.assign({mode:"insertTop",message:!0,types:s.keys(U._typeMaps),modes:["insertTop","covering"]},U,A),re=le.types||[],Me=le.modes||[];if(!!W){le.message&&J.modal&&J.modal.message({content:No("vxe.error.treeNotImp"),status:"error"});return}_||so("vxe.error.reqProp",["import-config"]);const be=re.map(xe=>({value:xe,label:No(`vxe.export.types.${xe}`)})),pe=Me.map(xe=>xe&&xe.value?{value:xe.value,label:xe.label||xe.value}:{value:xe,label:No(`vxe.import.modes.${xe}`)});Object.assign(fe,{file:null,type:"",filename:"",modeList:pe,typeList:be,visible:!0}),Object.assign(z,le),pe.some(xe=>xe.value===z.mode)||(z.mode=pe[0].value),Q.import=!0},closeExport:Le,openExport(A){const W=F.value,_=Object.assign({message:!0,types:s.keys(W._typeMaps)},W,A);Ee(_)},closePrint:Le,openPrint(A){const W=g.value,_=Object.assign({message:!0},W,A);Ee(_,!0)}};return $e},setupGrid(e){return e.extendTableMethods(hc)}});const{hooks:gc}=J;function mc(e,l){let r=0,a=0;const C=!ul.firefox&&Rl(e,"vxe-checkbox--label");if(C){const g=getComputedStyle(e);r-=s.toNumber(g.paddingTop),a-=s.toNumber(g.paddingLeft)}for(;e&&e!==l;)if(r+=e.offsetTop,a+=e.offsetLeft,e=e.offsetParent,C){const g=getComputedStyle(e);r-=s.toNumber(g.paddingTop),a-=s.toNumber(g.paddingLeft)}return{offsetTop:r,offsetLeft:a}}gc.add("tableKeyboardModule",{setupTable(e){const{props:l,reactData:r,internalData:a}=e,{refElem:C}=e.getRefMaps(),{computeEditOpts:g,computeCheckboxOpts:F,computeMouseOpts:O,computeTreeOpts:N}=e.getComputeMaps();function d(L,X,D,M,k,v){let x=0,y=[],S=0;const w=v>0,{scrollYLoad:$}=r,{afterFullData:q,scrollYStore:Y}=a;if($){w?S=k+v:S=M.height-k+Math.abs(v);const ue=e.getVTRowIndex(X.row);w?y=q.slice(ue,ue+Math.ceil(S/Y.rowHeight)):y=q.slice(ue-Math.floor(S/Y.rowHeight),ue+1)}else{w?S=L.clientY-M.y:S=M.y-L.clientY+M.height;const ue=w?"next":"previous";for(;D&&x<S;){const Ce=e.getRowNode(D);Ce&&(y.push(Ce.item),x+=D.offsetHeight,D=D[`${ue}ElementSibling`])}}return y}const h=(L,X)=>{const{column:D,cell:M}=X;if(D.type==="checkbox"){const k=C.value,{elemStore:v}=a,x=L.clientX,y=L.clientY,S=v[`${D.fixed||"main"}-body-wrapper`]||v["main-body-wrapper"],w=S?S.value:null;if(!w)return;const $=w.querySelector(".vxe-table--checkbox-range"),q=document.onmousemove,Y=document.onmouseup,ue=M.parentElement,Ce=e.getCheckboxRecords();let P=[];const oe=1,we=mc(L.target,w),Ee=we.offsetTop+L.offsetY,Le=we.offsetLeft+L.offsetX,$e=w.scrollTop,A=ue.offsetHeight,W=ue.getBoundingClientRect(),_=y-W.y;let Q=null,fe=!1,z=1;const U=(K,be)=>{e.dispatchEvent(`checkbox-range-${K}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},be)},le=K=>{const{clientX:be,clientY:pe}=K,xe=be-x,ae=pe-y+(w.scrollTop-$e);let he=Math.abs(ae),Se=Math.abs(xe),Be=Ee,ge=Le;ae<oe?(Be+=ae,Be<oe&&(Be=oe,he=Ee)):he=Math.min(he,w.scrollHeight-Ee-oe),xe<oe?(ge+=xe,Se>Le&&(ge=oe,Se=Le)):Se=Math.min(Se,w.clientWidth-Le-oe),$.style.height=`${he}px`,$.style.width=`${Se}px`,$.style.left=`${ge}px`,$.style.top=`${Be}px`,$.style.display="block";const de=d(K,X,ue,W,_,ae<oe?-he:he);he>10&&de.length!==P.length&&(P=de,K.ctrlKey?de.forEach(ke=>{e.handleSelectRow({row:ke},Ce.indexOf(ke)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(de,!0,!1)),U("change",K))},re=()=>{clearTimeout(Q),Q=null},Me=K=>{re(),Q=setTimeout(()=>{if(Q){const{scrollLeft:be,scrollTop:pe,clientHeight:xe,scrollHeight:ae}=w,he=Math.ceil(z*50/A);fe?pe+xe<ae?(e.scrollTo(be,pe+he),Me(K),le(K)):re():pe?(e.scrollTo(be,pe-he),Me(K),le(K)):re()}},50)};Ao(k,"drag--range"),document.onmousemove=K=>{K.preventDefault(),K.stopPropagation();const{clientY:be}=K,{boundingTop:pe}=Sn(w);be<pe?(fe=!1,z=pe-be,Q||Me(K)):be>pe+w.clientHeight?(fe=!0,z=be-pe-w.clientHeight,Q||Me(K)):Q&&re(),le(K)},document.onmouseup=K=>{re(),ho(k,"drag--range"),$.removeAttribute("style"),document.onmousemove=q,document.onmouseup=Y,U("end",K)},U("start",L)}},b=(L,X)=>{const{editConfig:D,checkboxConfig:M,mouseConfig:k}=l,v=F.value,x=O.value,y=g.value;if(k&&x.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(L,X);M&&v.range&&h(L,X),k&&x.selected&&(!D||y.mode==="cell")&&e.handleSelected(X,L)};return{moveTabSelected(L,X,D){const{editConfig:M}=l,{afterFullData:k,visibleColumn:v}=a,x=g.value;let y,S,w;const $=Object.assign({},L),q=e.getVTRowIndex($.row),Y=e.getVTColumnIndex($.column);D.preventDefault(),X?Y<=0?q>0&&(S=q-1,y=k[S],w=v.length-1):w=Y-1:Y>=v.length-1?q<k.length-1&&(S=q+1,y=k[S],w=0):w=Y+1;const ue=v[w];ue&&(y?($.rowIndex=S,$.row=y):$.rowIndex=q,$.columnIndex=w,$.column=ue,$.cell=e.getCellElement($.row,$.column),M?(x.trigger==="click"||x.trigger==="dblclick")&&(x.mode==="row"?e.handleEdit($,D):e.scrollToRow($.row,$.column).then(()=>e.handleSelected($,D))):e.scrollToRow($.row,$.column).then(()=>e.handleSelected($,D)))},moveCurrentRow(L,X,D){const{treeConfig:M}=l,{currentRow:k}=r,{afterFullData:v}=a,x=N.value,y=x.children||x.childrenField;let S;if(D.preventDefault(),k)if(M){const{index:w,items:$}=s.findTree(v,q=>q===k,{children:y});L&&w>0?S=$[w-1]:X&&w<$.length-1&&(S=$[w+1])}else{const w=e.getVTRowIndex(k);L&&w>0?S=v[w-1]:X&&w<v.length-1&&(S=v[w+1])}else S=v[0];if(S){const w={$table:e,row:S,rowIndex:e.getRowIndex(S),$rowIndex:e.getVMRowIndex(S)};e.scrollToRow(S).then(()=>e.triggerCurrentRowEvent(D,w))}},moveSelected(L,X,D,M,k,v){const{afterFullData:x,visibleColumn:y}=a,S=Object.assign({},L),w=e.getVTRowIndex(S.row),$=e.getVTColumnIndex(S.column);v.preventDefault(),D&&w>0?(S.rowIndex=w-1,S.row=x[S.rowIndex]):k&&w<x.length-1?(S.rowIndex=w+1,S.row=x[S.rowIndex]):X&&$?(S.columnIndex=$-1,S.column=y[S.columnIndex]):M&&$<y.length-1&&(S.columnIndex=$+1,S.column=y[S.columnIndex]),e.scrollToRow(S.row,S.column).then(()=>{S.cell=e.getCellElement(S.row,S.column),e.handleSelected(S,v)})},triggerHeaderCellMousedownEvent(L,X){const{mouseConfig:D}=l,M=O.value;if(D&&M.area&&e.handleHeaderCellAreaEvent){const k=L.currentTarget,v=pt(L,k,"vxe-cell--sort").flag,x=pt(L,k,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(L,Object.assign({cell:k,triggerSort:v,triggerFilter:x},X))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent(L,X){const D=L.currentTarget;X.cell=D,b(L,X),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}}}});const{getConfig:bc,validators:xc,hooks:vc}=J;class tn{constructor(l){Object.assign(this,{$options:l,required:l.required,min:l.min,max:l.max,type:l.type,pattern:l.pattern,validator:l.validator,trigger:l.trigger,maxWidth:l.maxWidth})}get content(){return el(this.$options.content||this.$options.message)}get message(){return this.content}}const Cc=["fullValidate","validate","clearValidate"];vc.add("tableValidatorModule",{setupTable(e){const{props:l,reactData:r,internalData:a}=e,{refValidTooltip:C}=e.getRefMaps(),{computeValidOpts:g,computeTreeOpts:F,computeEditOpts:O}=e.getComputeMaps();let N={},d={},h;const b=D=>new Promise(M=>{g.value.autoPos===!1?(e.dispatchEvent("valid-error",D,null),M()):e.handleEdit(D,{type:"valid-error",trigger:"call"}).then(()=>{M(d.showValidTooltip(D))})}),B=D=>{if(g.value.msgMode==="single"){const k=Object.keys(D),v={};if(k.length){const x=k[0];v[x]=D[x]}return v}return D},L=(D,M,k)=>{const v={},{editRules:x,treeConfig:y}=l,{afterFullData:S,visibleColumn:w}=a,$=F.value,q=$.children||$.childrenField,Y=g.value;let ue;D===!0?ue=S:D&&(s.isFunction(D)?M=D:ue=s.isArray(D)?D:[D]),ue||(e.getInsertRecords?ue=e.getInsertRecords().concat(e.getUpdateRecords()):ue=[]);const Ce=[];a._lastCallTime=Date.now(),h=!1,N.clearValidate();const P={};if(x){const oe=e.getColumns(),we=Ee=>{if(k||!h){const Le=[];oe.forEach($e=>{(k||!h)&&s.has(x,$e.property)&&Le.push(d.validCellRules("all",Ee,$e).catch(({rule:A,rules:W})=>{const _={rule:A,rules:W,rowIndex:e.getRowIndex(Ee),row:Ee,columnIndex:e.getColumnIndex($e),column:$e,field:$e.property,$table:e};if(v[$e.property]||(v[$e.property]=[]),P[`${ve(e,Ee)}:${$e.id}`]={column:$e,row:Ee,rule:A,content:A.content},v[$e.property].push(_),!k)return h=!0,Promise.reject(_)}))}),Ce.push(Promise.all(Le))}};return y?s.eachTree(ue,we,{children:q}):ue.forEach(we),Promise.all(Ce).then(()=>{const Ee=Object.keys(v);return r.validErrorMaps=B(P),ne().then(()=>{if(Ee.length)return Promise.reject(v[Ee[0]][0]);M&&M()})}).catch(Ee=>new Promise((Le,$e)=>{const A=()=>{ne(()=>{M?(M(v),Le()):bc().validToReject==="obsolete"?$e(v):Le(v)})},W=()=>{Ee.cell=e.getCellElement(Ee.row,Ee.column),pa(Ee.cell),b(Ee).then(A)};if(Y.autoPos===!1)A();else{const _=Ee.row,Q=Ee.column,fe=S.indexOf(_),z=w.indexOf(Q),U=fe>0?S[fe-1]:_,le=z>0?w[z-1]:Q;e.scrollToRow(U,le).then(W)}}))}else r.validErrorMaps={};return ne().then(()=>{M&&M()})};N={fullValidate(D,M){return L(D,M,!0)},validate(D,M){return L(D,M)},clearValidate(D,M){const{validErrorMaps:k}=r,v=C.value,x=g.value,y=s.isArray(D)?D:D?[D]:[],S=s.isArray(M)?M:(M?[M]:[]).map($=>Gt(e,$));let w={};if(v&&v.reactData.visible&&v.close(),x.msgMode==="single")return r.validErrorMaps={},ne();if(y.length&&S.length)w=Object.assign({},k),y.forEach($=>{S.forEach(q=>{const Y=`${ve(e,$)}:${q.id}`;w[Y]&&delete w[Y]})});else if(y.length){const $=y.map(q=>`${ve(e,q)}`);s.each(k,(q,Y)=>{$.indexOf(Y.split(":")[0])>-1&&(w[Y]=q)})}else if(S.length){const $=S.map(q=>`${q.id}`);s.each(k,(q,Y)=>{$.indexOf(Y.split(":")[1])>-1&&(w[Y]=q)})}return r.validErrorMaps=w,ne()}};const X=(D,M)=>{const{type:k,min:v,max:x,pattern:y}=D,S=k==="number",w=S?s.toNumber(M):s.getSize(M);return!!(S&&isNaN(M)||!s.eqNull(v)&&w<s.toNumber(v)||!s.eqNull(x)&&w>s.toNumber(x)||y&&!(s.isRegExp(y)?y:new RegExp(y)).test(M))};return d={validCellRules(D,M,k,v){const{editRules:x}=l,{field:y}=k,S=[],w=[];if(y&&x){const $=s.get(x,y);if($){const q=s.isUndefined(v)?s.get(M,y):v;$.forEach(Y=>{const{type:ue,trigger:Ce,required:P,validator:oe}=Y;if(D==="all"||!Ce||D===Ce)if(oe){const we={cellValue:q,rule:Y,rules:$,row:M,rowIndex:e.getRowIndex(M),column:k,columnIndex:e.getColumnIndex(k),field:k.field,$table:e,$grid:e.xegrid};let Ee;if(s.isString(oe)){const Le=xc.get(oe);if(Le){const $e=Le.tableCellValidatorMethod||Le.cellValidatorMethod;$e&&(Ee=$e(we))}}else Ee=oe(we);Ee&&(s.isError(Ee)?(h=!0,S.push(new tn({type:"custom",trigger:Ce,content:Ee.message,rule:new tn(Y)}))):Ee.catch&&w.push(Ee.catch(Le=>{h=!0,S.push(new tn({type:"custom",trigger:Ce,content:Le&&Le.message?Le.message:Y.content||Y.message,rule:new tn(Y)}))})))}else{const we=ue==="array",Ee=s.isArray(q);let Le=!0;we||Ee?Le=!Ee||!q.length:s.isString(q)?Le=Qo(q.trim()):Le=Qo(q),(P?Le||X(Y,q):!Le&&X(Y,q))&&(h=!0,S.push(new tn(Y)))}})}}return Promise.all(w).then(()=>{if(S.length){const $={rules:S,rule:S[0]};return Promise.reject($)}})},hasCellRules(D,M,k){const{editRules:v}=l,{field:x}=k;if(x&&v){const y=s.get(v,x);return y&&!!s.find(y,S=>D==="all"||!S.trigger||D===S.trigger)}return!1},triggerValidate(D){const{editConfig:M,editRules:k}=l,{editStore:v}=r,{actived:x}=v,y=O.value,S=g.value;if(k&&S.msgMode==="single"&&(r.validErrorMaps={}),M&&k&&x.row){const{row:w,column:$,cell:q}=x.args;if(d.hasCellRules(D,w,$))return d.validCellRules(D,w,$).then(()=>{y.mode==="row"&&N.clearValidate(w,$)}).catch(({rule:Y})=>{if(!Y.trigger||D===Y.trigger){const ue={rule:Y,row:w,column:$,cell:q};return d.showValidTooltip(ue),Promise.reject(ue)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(D){const{height:M}=l,{tableData:k,validStore:v,validErrorMaps:x}=r,{rule:y,row:S,column:w,cell:$}=D,q=g.value,Y=C.value,ue=y.content;return v.visible=!0,q.msgMode==="single"?r.validErrorMaps={[`${ve(e,S)}:${w.id}`]:{column:w,row:S,rule:y,content:ue}}:r.validErrorMaps=Object.assign({},x,{[`${ve(e,S)}:${w.id}`]:{column:w,row:S,rule:y,content:ue}}),e.dispatchEvent("valid-error",D,null),Y&&Y&&(q.message==="tooltip"||q.message==="default"&&!M&&k.length<2)?Y.open($,ue):ne()}},Object.assign(Object.assign({},N),d)},setupGrid(e){return e.extendTableMethods(Cc)}});const wc=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];J.hooks.add("tableCustomModule",{setupTable(e){const{reactData:l,internalData:r}=e,{computeCustomOpts:a}=e.getComputeMaps(),{refElem:C}=e.getRefMaps(),g=e.xegrid,F=()=>{const{customStore:M}=l,k=C.value;let v=0;k&&(v=k.clientHeight-28),M.maxHeight=Math.max(88,v)},O=()=>{const{initStore:M,customStore:k}=l,{collectColumn:v}=r,x={},y={},S={};return s.eachTree(v,w=>{const $=w.getKey();w.renderFixed=w.fixed,w.renderVisible=w.visible,w.renderResizeWidth=w.renderWidth,x[$]=w.renderSortNumber,y[$]=w.fixed,S[$]=w.visible},{children:"children"}),k.oldSortMaps=x,k.oldFixedMaps=y,k.oldVisibleMaps=S,l.customColumnList=v.slice(0),k.visible=!0,M.custom=!0,L(),F(),ne().then(()=>F())},N=()=>{const{customStore:M}=l,k=a.value;return M.visible&&(M.visible=!1,k.immediate||e.handleCustom()),ne()},d=()=>{const{customColumnList:M}=l,k=a.value,{allowVisible:v,allowSort:x,allowFixed:y,allowResizable:S}=k;return s.eachTree(M,(w,$,q,Y,ue)=>{if(ue)w.fixed=ue.fixed;else{if(x){const Ce=$+1;w.renderSortNumber=Ce}y&&(w.fixed=w.renderFixed)}S&&w.renderVisible&&(!w.children||w.children.length)&&w.renderResizeWidth!==w.renderWidth&&(w.resizeWidth=w.renderResizeWidth,w.renderWidth=w.renderResizeWidth),v&&(w.visible=w.renderVisible)}),e.saveCustomStore("confirm")},h=()=>{const{customColumnList:M,customStore:k}=l,{oldSortMaps:v,oldFixedMaps:x,oldVisibleMaps:y}=k,S=a.value,{allowVisible:w,allowSort:$,allowFixed:q,allowResizable:Y}=S;return s.eachTree(M,ue=>{const Ce=ue.getKey(),P=!!y[Ce],oe=x[Ce]||"";w&&(ue.renderVisible=P,ue.visible=P),q&&(ue.renderFixed=oe,ue.fixed=oe),$&&(ue.renderSortNumber=v[Ce]||0),Y&&(ue.renderResizeWidth=ue.renderWidth)},{children:"children"}),ne()},b=M=>{const{customStore:k}=l,{customColumnList:v}=l,x=a.value,{checkMethod:y,visibleMethod:S}=x,w=!!M;return x.immediate?(s.eachTree(v,$=>{S&&!S({column:$})||y&&!y({column:$})||($.visible=w,$.renderVisible=w,$.halfVisible=!1)}),k.isAll=w,e.handleCustom(),e.saveCustomStore("update:visible")):(s.eachTree(v,$=>{S&&!S({column:$})||y&&!y({column:$})||($.renderVisible=w,$.halfVisible=!1)}),k.isAll=w),e.checkCustomStatus(),ne()},B={openCustom:O,closeCustom:N,saveCustom:d,cancelCustom:h,resetCustom(M){const{collectColumn:k}=r,v=a.value,{checkMethod:x}=v,y=Object.assign({visible:!0,resizable:M===!0,fixed:M===!0,sort:M===!0},M);return s.eachTree(k,S=>{y.resizable&&(S.resizeWidth=0),y.fixed&&(S.fixed=S.defaultFixed),y.sort&&(S.renderSortNumber=S.sortNumber),(!x||x({column:S}))&&(S.visible=S.defaultVisible),S.renderResizeWidth=S.renderWidth}),e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:M}=l,k=!M.isAll;return b(k)},setCustomAllCheckbox:b},L=()=>{const{customStore:M}=l,{collectColumn:k}=r,v=a.value,{checkMethod:x}=v;M.isAll=k.every(y=>(x?!x({column:y}):!1)||y.renderVisible),M.isIndeterminate=!M.isAll&&k.some(y=>(!x||x({column:y}))&&(y.renderVisible||y.halfVisible))},X=(M,k)=>{(g||e).dispatchEvent("custom",{type:M},k)},D={checkCustomStatus:L,emitCustomEvent:X,triggerCustomEvent(M){const{customStore:k}=e.reactData;k.visible?(N(),X("close",M)):(k.btnEl=M.target,O(),X("open",M))},customOpenEvent(M){const{customStore:k}=l;k.visible||(k.activeBtn=!0,k.btnEl=M.target,e.openCustom(),e.emitCustomEvent("open",M))},customCloseEvent(M){const{customStore:k}=l;k.visible&&(k.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",M))}};return Object.assign(Object.assign({},B),D)},setupGrid(e){return e.extendTableMethods(wc)}});const{getConfig:ps,renderer:Ec,getI18n:yc}=J,li="modelValue",ni={};function Rc(e,l){return e&&l.valueFormat?s.toStringDate(e,l.valueFormat):e}function Oc(e,l,r){const{dateConfig:a={}}=l;return s.toDateString(Rc(e,l),a.labelFormat||r)}function hs(e,l){return Oc(e,l,yc(`vxe.input.date.labelFormat.${l.type||"date"}`))}function Sc(e){return`vxe-${e.replace("$","")}`}function Ho({name:e}){return Os(e)}function Ln({name:e}){return Os(Sc(e))}function si(e,l,r){const{$panel:a}=e;a.changeOption({},l,r)}function An(e){let{name:l,attrs:r}=e;return l==="input"&&(r=Object.assign({type:"text"},r)),r}function ri(e){const{name:l,immediate:r,props:a}=e;if(!r){if(l==="VxeInput"||l==="$input"){const{type:C}=a||{};return!(!C||C==="text"||C==="number"||C==="integer"||C==="float")}return!(l==="input"||l==="textarea"||l==="$textarea")}return r}function tl(e,l,r,a){return s.assign({immediate:ri(e)},ni,a,e.props,{[li]:r})}function kn(e,l,r,a){return s.assign({},ni,a,e.props,{[li]:r})}function Hn(e,l){return l.$type==="cell"||ri(e)}function Po(e,l,r){const{placeholder:a}=e;return[u("span",{class:"vxe-cell--label"},a&&Lr(r)?[u("span",{class:"vxe-cell--placeholder"},Pt(el(a),1))]:Pt(r,1))]}function ii(e,l,r,a){const{events:C}=e,g=Zr(e),F=Qr(e),O=F===g,N={};return C&&s.objectEach(C,(d,h)=>{N[Pl(h)]=function(...b){d(l,...b)}}),r&&(N[Pl(g)]=function(d){r(d),O&&a&&a(d),C&&C[g]&&C[g](l,d)}),!O&&a&&(N[Pl(F)]=function(...d){a(...d),C&&C[F]&&C[F](l,...d)}),N}function nn(e,l,r,a){const{events:C}=e,g=Zr(e),F=Qr(e),O={};return s.objectEach(C,(N,d)=>{O[Pl(d)]=function(...h){N(l,...h)}}),r&&(O[Pl(g)]=function(N){r(N),C&&C[g]&&C[g](l,N)}),a&&(O[Pl(F)]=function(...N){a(...N),C&&C[F]&&C[F](l,...N)}),O}function Jo(e,l){const{$table:r,row:a,column:C}=l,{name:g}=e,{model:F}=C,O=Hn(e,l);return nn(e,l,N=>{F.update=!0,F.value=N,O&&_o(a,C,N)},N=>{if(!O&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(g)){const d=N.value;F.update=!0,F.value=d,r.updateStatus(l,d)}else r.updateStatus(l)})}function Fn(e,l,r){return nn(e,l,a=>{r.data=a},()=>{si(l,!s.eqNull(r.data),r)})}function ai(e,l){const{$table:r,row:a,column:C}=l,{model:g}=C;return ii(e,l,F=>{const O=F.target.value;Hn(e,l)?_o(a,C,O):(g.update=!0,g.value=O)},F=>{const O=F.target.value;r.updateStatus(l,O)})}function ci(e,l,r){return ii(e,l,a=>{r.data=a.target.value},()=>{si(l,!s.eqNull(r.data),r)})}function gs(e,l){const{row:r,column:a}=l,{name:C}=e,g=Hn(e,l)?Jt(r,a):a.model.value;return[u(C,Object.assign(Object.assign(Object.assign({class:`vxe-default-${C}`},An(e)),{value:g}),ai(e,l)))]}function Mc(e,l){return[u(Ho(e),Object.assign(Object.assign({},tl(e,l,null)),nn(e,l)))]}function po(e,l){const{row:r,column:a}=l,C=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign({},tl(e,l,C)),Jo(e,l)))]}function Er(e,l){const{options:r}=e,{row:a,column:C}=l,g=Jt(a,C);return[u(Ho(e),Object.assign(Object.assign({options:r},tl(e,l,g)),Jo(e,l)))]}function yn(e,l){const{row:r,column:a}=l,C=Jt(r,a);return[u(Ln(e),Object.assign(Object.assign({},tl(e,l,C)),Jo(e,l)))]}function di(e,l){return[u(Os("vxe-button"),Object.assign(Object.assign({},tl(e,l,null)),nn(e,l)))]}function Tc(e,l){return e.children.map(r=>di(r,l)[0])}function ui(e,l,r){const{optionGroups:a,optionGroupProps:C={}}=e,g=C.options||"options",F=C.label||"label";return a.map((O,N)=>u("optgroup",{key:N,label:O[F]},r(O[g],e,l)))}function In(e,l,r){const{optionProps:a={}}=l,{row:C,column:g}=r,F=a.label||"label",O=a.value||"value",N=a.disabled||"disabled",d=Hn(l,r)?Jt(C,g):g.model.value;return e.map((h,b)=>u("option",{key:b,value:h[O],disabled:h[N],selected:h[O]==d},h[F]))}function kc(e,l){const{column:r}=l,{name:a}=e,C=An(e);return r.filters.map((g,F)=>u(a,Object.assign(Object.assign(Object.assign({key:F,class:`vxe-default-${a}`},C),{value:g.data}),ci(e,l,g))))}function ms(e,l){const{column:r}=l;return r.filters.map((a,C)=>{const g=a.data;return u(Ho(e),Object.assign(Object.assign({key:C},kn(e,e,g)),Fn(e,l,a)))})}function Fc(e,l){const{column:r}=l;return r.filters.map((a,C)=>{const g=a.data;return u(Ln(e),Object.assign(Object.assign({key:C},kn(e,e,g)),Fn(e,l,a)))})}function Rn({option:e,row:l,column:r}){const{data:a}=e;return s.get(l,r.field)==a}function On({option:e,row:l,column:r}){const{data:a}=e,C=s.get(l,r.field);return s.toValueString(C).indexOf(a)>-1}function yr(e,l){return[u("select",Object.assign(Object.assign({class:"vxe-default-select"},An(e)),ai(e,l)),e.optionGroups?ui(e,l,In):In(e.options,e,l))]}function Rr(e,l){const{row:r,column:a}=l,{options:C,optionProps:g,optionGroups:F,optionGroupProps:O}=e,N=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign({},tl(e,l,N,{options:C,optionProps:g,optionGroups:F,optionGroupProps:O})),Jo(e,l)))]}function Or(e,l){const{row:r,column:a}=l,{options:C,optionProps:g}=e,F=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign({},tl(e,l,F,{options:C,optionProps:g})),Jo(e,l)))]}function Sr(e,l){const{row:r,column:a}=l,{options:C,optionProps:g,optionGroups:F,optionGroupProps:O}=e,N=Jt(r,a);return[u(Ln(e),Object.assign(Object.assign({},tl(e,l,N,{options:C,optionProps:g,optionGroups:F,optionGroupProps:O})),Jo(e,l)))]}function Tn(e,{row:l,column:r}){const{options:a,optionGroups:C,optionProps:g={},optionGroupProps:F={}}=e,O=s.get(l,r.field);let N;const d=g.label||"label",h=g.value||"value";return O!=null?s.map(s.isArray(O)?O:[O],C?b=>{const B=F.options||"options";for(let L=0;L<C.length&&(N=s.find(C[L][B],X=>X[h]==b),!N);L++);return N?N[d]:b}:b=>(N=s.find(a,B=>B[h]==b),N?N[d]:b)).join(", "):""}function bs(e){const{row:l,column:r,options:a}=e;return a.original?Jt(l,r):Tn(r.editRender||r.cellRender,e)}function Rs(e,{row:l,column:r}){const{options:a,optionProps:C={}}=e,g=s.get(l,r.field),F=C.label||"label",O=C.value||"value",N=C.children||"children";if(g!=null){const d={};return s.eachTree(a,h=>{d[s.get(h,O)]=h},{children:N}),s.map(s.isArray(g)?g:[g],h=>{const b=d[h];return b&&s.get(b,F)}).join(", ")}return""}function Mr(e){const{row:l,column:r,options:a}=e;return a.original?Jt(l,r):Rs(r.editRender||r.cellRender,e)}Ec.mixin({input:{tableAutoFocus:"input",renderTableEdit:gs,renderTableDefault:gs,renderTableFilter:kc,tableFilterDefaultMethod:On},textarea:{tableAutoFocus:"textarea",renderTableEdit:gs},select:{renderTableEdit:yr,renderTableDefault:yr,renderTableCell(e,l){return Po(e,l,Tn(e,l))},renderTableFilter(e,l){const{column:r}=l;return r.filters.map((a,C)=>u("select",Object.assign(Object.assign({key:C,class:"vxe-default-select"},An(e)),ci(e,l,a)),e.optionGroups?ui(e,l,In):In(e.options,e,l)))},tableFilterDefaultMethod:Rn,tableExportMethod:bs},VxeInput:{tableAutoFocus:"input",renderTableEdit:po,renderTableCell(e,l){var r;const{props:a={}}=e,{row:C,column:g}=l,F=a.digits||((r=ps().input)===null||r===void 0?void 0:r.digits)||2;let O=s.get(C,g.field);if(O)switch(a.type){case"date":case"week":case"month":case"quarter":case"year":O=hs(O,a);break;case"float":O=s.toFixed(s.floor(O,F),F);break}return Po(e,l,O)},renderTableDefault:po,renderTableFilter:ms,tableFilterDefaultMethod:On},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:po,renderTableCell(e,l){var r;const{props:a={}}=e,{row:C,column:g}=l,F=a.digits||((r=ps().numberInput)===null||r===void 0?void 0:r.digits)||2;let O=s.get(C,g.field);if(O)switch(a.type){case"float":O=s.toFixed(s.floor(O,F),F);break}return Po(e,l,O)},renderTableDefault:po,renderTableFilter:ms,tableFilterDefaultMethod:On},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:po,renderTableCell(e,l){const{props:r={}}=e,{row:a,column:C}=l;let g=s.get(a,C.field);return g&&(g=hs(g,r)),Po(e,l,g)},renderTableDefault:po,renderTableFilter:ms,tableFilterDefaultMethod:Rn},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:po,renderTableCell(e,l){const{row:r,column:a}=l,C=s.get(r,a.field);return Po(e,l,C)}},VxeButton:{renderTableDefault:Mc},VxeButtonGroup:{renderTableDefault(e,l){const{options:r}=e;return[u(Ho(e),Object.assign(Object.assign({options:r},tl(e,l,null)),nn(e,l)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Rr,renderTableDefault:Rr,renderTableCell(e,l){return Po(e,l,Tn(e,l))},renderTableFilter(e,l){const{column:r}=l,{options:a,optionProps:C,optionGroups:g,optionGroupProps:F}=e;return r.filters.map((O,N)=>{const d=O.data;return u(Ho(e),Object.assign(Object.assign({key:N},kn(e,l,d,{options:a,optionProps:C,optionGroups:g,optionGroupProps:F})),Fn(e,l,O)))})},tableFilterDefaultMethod:Rn,tableExportMethod:bs},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Or,renderTableCell(e,l){return Po(e,l,Rs(e,l))},tableExportMethod:Mr},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Or,renderTableCell(e,l){return Po(e,l,Rs(e,l))},tableExportMethod:Mr},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit:po,renderTableCell(e,l){const{row:r,column:a}=l,C=s.get(r,a.field);return u("i",{class:C})}},VxeRadioGroup:{renderTableDefault:Er},VxeCheckboxGroup:{renderTableDefault:Er},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:po,renderTableDefault:po},VxeUpload:{renderTableEdit:po,renderTableCell:po,renderTableDefault:po},VxeImage:{renderTableDefault(e,l){const{row:r,column:a}=l,{props:C}=e,g=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign(Object.assign({},C),{src:g}),Jo(e,l)))]}},VxeImageGroup:{renderTableDefault(e,l){const{row:r,column:a}=l,{props:C}=e,g=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign(Object.assign({},C),{urlList:g}),Jo(e,l)))]}},VxeTextEllipsis:{renderTableDefault(e,l){const{row:r,column:a}=l,{props:C}=e,g=Jt(r,a);return[u(Ho(e),Object.assign(Object.assign(Object.assign({},C),{content:g}),Jo(e,l)))]}},VxeRate:{renderTableDefault:po},VxeSlider:{renderTableDefault:po},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:yn,renderTableCell(e,l){var r;const{props:a={}}=e,{row:C,column:g}=l,F=a.digits||((r=ps().input)===null||r===void 0?void 0:r.digits)||2;let O=s.get(C,g.field);if(O)switch(a.type){case"date":case"week":case"month":case"year":O=hs(O,a);break;case"float":O=s.toFixed(s.floor(O,F),F);break}return Po(e,l,O)},renderTableDefault:yn,renderTableFilter:Fc,tableFilterDefaultMethod:On},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:di},$buttons:{renderTableDefault:Tc},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Sr,renderTableDefault:Sr,renderTableCell(e,l){return Po(e,l,Tn(e,l))},renderTableFilter(e,l){const{column:r}=l,{options:a,optionProps:C,optionGroups:g,optionGroupProps:F}=e;return r.filters.map((O,N)=>{const d=O.data;return u(Ln(e),Object.assign(Object.assign({key:N},kn(e,l,d,{options:a,optionProps:C,optionGroups:g,optionGroupProps:F})),Fn(e,l,O)))})},tableFilterDefaultMethod:Rn,tableExportMethod:bs},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:yn,renderTableDefault:yn}});const $n=Object.assign({},_l,{install(e){e.component(_l.name,_l)}}),Ic={useCellView:qa};J.dynamicApp&&J.dynamicApp.component(_l.name,_l);J.component(_l);J.tableHandle=Ic;const Dc=$n,{getConfig:Lo,getIcon:cl,getI18n:Vl,renderer:Tr,commands:kr,createEvent:Lc,useFns:Ac}=J,zl=Eo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>Lo().toolbar.buttons},tools:{type:Array,default:()=>Lo().toolbar.tools},perfect:{type:Boolean,default:()=>Lo().toolbar.perfect},size:{type:String,default:()=>Lo().toolbar.size||Lo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,l){const{slots:r,emit:a}=l,C=s.uniqueId(),g=J.getComponent("VxeButton"),{computeSize:F}=Ac.useSize(e),O=zo({isRefresh:!1,connectFlag:0,columns:[]}),N={connectTable:null},d=Pe(),h={refElem:d},b={xID:C,props:e,context:l,reactData:O,internalData:N,getRefMaps:()=>h};let B={};const L=ro("$xeGrid",null),X=Ve(()=>Object.assign({},s.clone(Lo().toolbar.refresh,!0),e.refresh)),D=Ve(()=>Object.assign({},s.clone(Lo().toolbar.import,!0),e.import)),M=Ve(()=>Object.assign({},s.clone(Lo().toolbar.export,!0),e.export)),k=Ve(()=>Object.assign({},s.clone(Lo().toolbar.print,!0),e.print)),v=Ve(()=>Object.assign({},s.clone(Lo().toolbar.zoom,!0),e.zoom)),x=Ve(()=>Object.assign({},s.clone(Lo().toolbar.custom,!0),e.custom)),y=Ve(()=>{const{connectTable:K}=N,be=K;if((O.connectFlag||be)&&be){const{computeCustomOpts:pe}=be.getComputeMaps();return pe.value}return{trigger:""}}),S=Ve(()=>y.value.trigger),w=()=>{const{connectTable:K}=N;if(K)return!0;so("vxe.error.barUnableLink")},$=({$event:K})=>{const{connectTable:be}=N,pe=be;pe&&(pe.triggerCustomEvent?pe.triggerCustomEvent(K):so("vxe.error.reqModule",["VxeTableCustomModule"]))},q=({$event:K})=>{const{connectTable:be}=N,pe=be;pe?pe.customOpenEvent(K):so("vxe.error.reqModule",["VxeTableCustomModule"])},Y=({$event:K})=>{const{connectTable:be}=N,pe=be;if(pe){const{customStore:xe}=pe.reactData;xe.activeBtn=!1,setTimeout(()=>{!xe.activeBtn&&!xe.activeWrapper&&pe.customCloseEvent(K)},350)}},ue=({$event:K})=>{const{isRefresh:be}=O,pe=X.value;if(!be){const xe=pe.queryMethod||pe.query;if(xe){O.isRefresh=!0;try{Promise.resolve(xe({})).catch(ae=>ae).then(()=>{O.isRefresh=!1})}catch{O.isRefresh=!1}}else L&&(O.isRefresh=!0,L.triggerToolbarCommitEvent({code:pe.code||"reload"},K).catch(ae=>ae).then(()=>{O.isRefresh=!1}))}},Ce=({$event:K})=>{L&&L.triggerZoomEvent(K)},P=(K,be)=>{const{connectTable:pe}=N,xe=pe,{code:ae}=be;if(ae)if(L)L.triggerToolbarBtnEvent(be,K);else{const he=kr.get(ae),Se={code:ae,button:be,$table:xe,$grid:L,$event:K};if(he){const Be=he.tableCommandMethod||he.commandMethod;Be&&Be(Se)}b.dispatchEvent("button-click",Se,K)}},oe=(K,be)=>{const{connectTable:pe}=N,xe=pe,{code:ae}=be;if(ae)if(L)L.triggerToolbarTolEvent(be,K);else{const he=kr.get(ae),Se={code:ae,tool:be,$table:xe,$grid:L,$event:K};if(he){const Be=he.tableCommandMethod||he.commandMethod;Be&&Be(Se)}b.dispatchEvent("tool-click",Se,K)}},we=()=>{if(w()){const{connectTable:K}=N,be=K;be&&be.openImport()}},Ee=()=>{if(w()){const{connectTable:K}=N,be=K;be&&be.openExport()}},Le=()=>{if(w()){const{connectTable:K}=N,be=K;be&&be.openPrint()}};B={dispatchEvent:(K,be,pe)=>{a(K,Lc(pe,{$toolbar:b},be))},syncUpdate(K){N.connectTable=K.$table,O.columns=K.collectColumn,O.connectFlag++}},Object.assign(b,B);const A=(K,be)=>{const{dropdowns:pe}=K,xe=[];return pe?pe.map((ae,he)=>ae.visible===!1?He():g?u(g,{key:he,disabled:ae.disabled,loading:ae.loading,type:ae.type,mode:ae.mode,icon:ae.icon,circle:ae.circle,round:ae.round,status:ae.status,content:ae.name,title:ae.title,routerLink:ae.routerLink,permissionCode:ae.permissionCode,prefixTooltip:ae.prefixTooltip,suffixTooltip:ae.suffixTooltip,onClick:({$event:Se})=>be?P(Se,ae):oe(Se,ae)}):He()):xe},W=()=>{const{buttons:K}=e,{connectTable:be}=N,pe=be,xe=[];return K&&K.forEach(ae=>{const{dropdowns:he,buttonRender:Se}=ae;if(ae.visible!==!1){const Be=Se?Tr.get(Se.name):null;if(Se&&Be&&Be.renderToolbarButton){const ge=Be.toolbarButtonClassName,de={$grid:L,$table:pe,button:ae};xe.push(u("span",{class:["vxe-button--item",ge?s.isFunction(ge)?ge(de):ge:""]},wo(Be.renderToolbarButton(Se,de))))}else g&&xe.push(u(g,{disabled:ae.disabled,loading:ae.loading,type:ae.type,mode:ae.mode,icon:ae.icon,circle:ae.circle,round:ae.round,status:ae.status,content:ae.name,title:ae.title,routerLink:ae.routerLink,permissionCode:ae.permissionCode,prefixTooltip:ae.prefixTooltip,suffixTooltip:ae.suffixTooltip,destroyOnClose:ae.destroyOnClose,placement:ae.placement,transfer:ae.transfer,onClick:({$event:ge})=>P(ge,ae)},he&&he.length?{dropdowns:()=>A(ae,!0)}:{}))}}),xe},_=()=>{const{tools:K}=e,{connectTable:be}=N,pe=be,xe=[];return K&&K.forEach((ae,he)=>{const{dropdowns:Se,toolRender:Be}=ae;if(ae.visible!==!1){const ge=Be?Be.name:null,de=Be?Tr.get(ge):null;if(Be&&de&&de.renderToolbarTool){const ke=de.toolbarToolClassName,et={$grid:L,$table:pe,tool:ae};xe.push(u("span",{key:ge,class:["vxe-tool--item",ke?s.isFunction(ke)?ke(et):ke:""]},wo(de.renderToolbarTool(Be,et))))}else g&&xe.push(u(g,{key:he,disabled:ae.disabled,loading:ae.loading,type:ae.type,mode:ae.mode,icon:ae.icon,circle:ae.circle,round:ae.round,status:ae.status,content:ae.name,title:ae.title,routerLink:ae.routerLink,permissionCode:ae.permissionCode,prefixTooltip:ae.prefixTooltip,suffixTooltip:ae.suffixTooltip,destroyOnClose:ae.destroyOnClose,placement:ae.placement,transfer:ae.transfer,onClick:({$event:ke})=>oe(ke,ae)},Se&&Se.length?{dropdowns:()=>A(ae,!1)}:{}))}}),xe},Q=()=>{const K=D.value;return g?u(g,{key:"import",circle:!0,icon:K.icon||cl().TOOLBAR_TOOLS_IMPORT,title:Vl("vxe.toolbar.import"),onClick:we}):He()},fe=()=>{const K=M.value;return g?u(g,{key:"export",circle:!0,icon:K.icon||cl().TOOLBAR_TOOLS_EXPORT,title:Vl("vxe.toolbar.export"),onClick:Ee}):He()},z=()=>{const K=k.value;return g?u(g,{key:"print",circle:!0,icon:K.icon||cl().TOOLBAR_TOOLS_PRINT,title:Vl("vxe.toolbar.print"),onClick:Le}):He()},U=()=>{const K=X.value;return g?u(g,{key:"refresh",circle:!0,icon:O.isRefresh?K.iconLoading||cl().TOOLBAR_TOOLS_REFRESH_LOADING:K.icon||cl().TOOLBAR_TOOLS_REFRESH,title:Vl("vxe.toolbar.refresh"),onClick:ue}):He()},le=()=>{const K=v.value;return L&&g?u(g,{key:"zoom",circle:!0,icon:L.isMaximized()?K.iconOut||cl().TOOLBAR_TOOLS_MINIMIZE:K.iconIn||cl().TOOLBAR_TOOLS_FULLSCREEN,title:Vl(`vxe.toolbar.zoom${L.isMaximized()?"Out":"In"}`),onClick:Ce}):He()},re=()=>{const K=x.value,be=S.value,pe={};return be==="manual"||(be==="hover"?(pe.onMouseenter=q,pe.onMouseleave=Y):pe.onClick=$),g?u(g,Object.assign({key:"custom",circle:!0,icon:K.icon||cl().TOOLBAR_TOOLS_CUSTOM,title:Vl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},pe)):He()},Me=()=>{const{perfect:K,loading:be,refresh:pe,zoom:xe,custom:ae,className:he}=e,{connectTable:Se}=N,Be=F.value,ge=r.tools,de=r.buttons,ke=Se;return u("div",{ref:d,class:["vxe-toolbar",he?s.isFunction(he)?he({$toolbar:b}):he:"",{[`size--${Be}`]:Be,"is--perfect":K,"is--loading":be}]},[u("div",{class:"vxe-buttons--wrapper"},de?de({$grid:L,$table:ke}):W()),u("div",{class:"vxe-tools--wrapper"},ge?ge({$grid:L,$table:ke}):_()),u("div",{class:"vxe-tools--operate"},[e.import?Q():He(),e.export?fe():He(),e.print?z():He(),pe?U():He(),xe&&L?le():He(),ae?re():He()])])};return b.renderVN=Me,ne(()=>{const{refresh:K}=e,be=X.value,pe=be.queryMethod||be.query;K&&!L&&!pe&&Cs("vxe.error.notFunc",["queryMethod"]),x.value}),b},render(){return this.renderVN()}}),Bn=Object.assign({},zl,{install(e){e.component(zl.name,zl)}});J.dynamicApp&&J.dynamicApp.component(zl.name,zl);J.component(zl);const Hc=Bn,{getConfig:Go,getI18n:jl,commands:$c,hooks:Bc,useFns:Vc,createEvent:jc,globalEvents:xs,GLOBAL_EVENT_KEYS:Nc}=J,Pc=Object.keys(Fs),Fr=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","getCellLabel","getCellElement","focus","blur","connect"],_c=[...Is,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Wl=Eo({name:"VxeGrid",props:Object.assign(Object.assign({},Fs),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Go().grid.size||Go().size}}),emits:_c,setup(e,l){var r;const{slots:a,emit:C}=l,g=s.uniqueId(),F=J.getComponent("VxeForm"),O=J.getComponent("VxePager"),{computeSize:N}=Vc.useSize(e),d=zo({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((r=Go().pager)===null||r===void 0?void 0:r.pageSize)||10,currentPage:1}}),h=Pe(),b=Pe(),B=Pe(),L=Pe(),X=Pe(),D=Pe(),M=Pe(),k=Pe(),v=Pe(),x=Pe(),y=V=>{const ee={};return V.forEach(se=>{ee[se]=(...De)=>{const ye=b.value;if(ye&&ye[se])return ye[se](...De)}}),ee},S=y(Fr);Fr.forEach(V=>{S[V]=(...ee)=>{const se=b.value;if(se&&se[V])return se&&se[V](...ee)}});const w=Ve(()=>s.merge({},s.clone(Go().grid.proxyConfig,!0),e.proxyConfig)),$=Ve(()=>{const V=w.value;return s.isBoolean(V.message)?V.message:V.showResponseMsg}),q=Ve(()=>w.value.showActiveMsg),Y=Ve(()=>Object.assign({},Go().grid.pagerConfig,e.pagerConfig)),ue=Ve(()=>Object.assign({},Go().grid.formConfig,e.formConfig)),Ce=Ve(()=>Object.assign({},Go().grid.toolbarConfig,e.toolbarConfig)),P=Ve(()=>Object.assign({},Go().grid.zoomConfig,e.zoomConfig)),oe=Ve(()=>d.isZMax?{zIndex:d.tZindex}:null),we=Ve(()=>{const V={},ee=e;return Pc.forEach(se=>{V[se]=ee[se]}),V}),Ee=Ve(()=>{const{seqConfig:V,pagerConfig:ee,loading:se,editConfig:De,proxyConfig:ye}=e,{isZMax:We,tableLoading:Ze,tablePage:ht,tableData:ct}=d,qt=we.value,it=w.value,lt=Y.value,gt=Object.assign({},qt);return We&&(qt.maxHeight?gt.maxHeight="100%":gt.height="100%"),ye&&ot(it)&&(gt.loading=se||Ze,gt.data=ct,ee&&it.seq&&ot(lt)&&(gt.seqConfig=Object.assign({},V,{startIndex:(ht.currentPage-1)*ht.pageSize}))),De&&(gt.editConfig=Object.assign({},De)),gt}),Le=Ve(()=>{const{layouts:V}=e;return V&&V.length?V:Go().grid.layouts||["Form","Toolbar","Top","Table","Bottom","Pager"]}),$e={refElem:h,refTable:b,refForm:B,refToolbar:L,refPager:X},A={computeProxyOpts:w,computePagerOpts:Y,computeFormOpts:ue,computeToolbarOpts:Ce,computeZoomOpts:P},W={xID:g,props:e,context:l,reactData:d,getRefMaps:()=>$e,getComputeMaps:()=>A},_=()=>{const V=Ce.value;e.toolbarConfig&&ot(V)&&ne(()=>{const ee=b.value,se=L.value;ee&&se&&ee.connect(se)})},Q=()=>{const{proxyConfig:V}=e,{formData:ee}=d,se=w.value,De=ue.value;return V&&ot(se)&&se.form?ee:De.data},fe=()=>{const{tablePage:V}=d,{pagerConfig:ee}=e,se=Y.value,{currentPage:De,pageSize:ye}=se;ee&&ot(se)&&(De&&(V.currentPage=De),ye&&(V.pageSize=ye))},z=V=>{const ee=q.value,se=b.value,De=se.getCheckboxRecords();De.length?(se.togglePendingRow(De),S.clearCheckboxRow()):ee&&J.modal&&J.modal.message({id:V,content:jl("vxe.grid.selectOneRecord"),status:"warning"})},U=(V,ee)=>{const se=w.value,ye=(se.response||se.props||{}).message;let We;return V&&ye&&(We=s.isFunction(ye)?ye({data:V,$grid:W}):s.get(V,ye)),We||jl(ee)},le=(V,ee,se)=>{const De=q.value,ye=S.getCheckboxRecords();if(De)if(ye.length){if(J.modal)return J.modal.confirm({id:`cfm_${V}`,content:jl(ee),escClosable:!0}).then(We=>{if(We==="confirm")return se()})}else J.modal&&J.modal.message({id:`msg_${V}`,content:jl("vxe.grid.selectOneRecord"),status:"warning"});else ye.length&&se();return Promise.resolve()},re=V=>{const{proxyConfig:ee}=e,{tablePage:se}=d,{$event:De,currentPage:ye,pageSize:We}=V,Ze=w.value;se.currentPage=ye,se.pageSize=We,Oe.dispatchEvent("page-change",V,De),ee&&ot(Ze)&&Oe.commitProxy("query").then(ht=>{Oe.dispatchEvent("proxy-query",ht,De)})},Me=V=>{const ee=b.value,{proxyConfig:se}=e,{computeSortOpts:De}=ee.getComputeMaps(),ye=w.value;De.value.remote&&(d.sortData=V.sortList,se&&ot(ye)&&(d.tablePage.currentPage=1,Oe.commitProxy("query").then(Ze=>{Oe.dispatchEvent("proxy-query",Ze,V.$event)}))),Oe.dispatchEvent("sort-change",V,V.$event)},K=V=>{const ee=b.value,{proxyConfig:se}=e,{computeFilterOpts:De}=ee.getComputeMaps(),ye=w.value;De.value.remote&&(d.filterData=V.filterList,se&&ot(ye)&&(d.tablePage.currentPage=1,Oe.commitProxy("query").then(Ze=>{Oe.dispatchEvent("proxy-query",Ze,V.$event)}))),Oe.dispatchEvent("filter-change",V,V.$event)},be=V=>{const{proxyConfig:ee}=e,se=w.value;ee&&ot(se)&&Oe.commitProxy("reload").then(De=>{Oe.dispatchEvent("proxy-query",Object.assign(Object.assign({},De),{isReload:!0}),V.$event)}),Oe.dispatchEvent("form-submit",V,V.$event)},pe=V=>{const{proxyConfig:ee}=e,{$event:se}=V,De=w.value;ee&&ot(De)&&Oe.commitProxy("reload").then(ye=>{Oe.dispatchEvent("proxy-query",Object.assign(Object.assign({},ye),{isReload:!0}),se)}),Oe.dispatchEvent("form-reset",V,se)},xe=V=>{Oe.dispatchEvent("form-submit-invalid",V,V.$event)},ae=V=>{const{$event:ee}=V;ne(()=>S.recalculate(!0)),Oe.dispatchEvent("form-toggle-collapse",V,ee),Oe.dispatchEvent("form-collapse",V,ee)},he=V=>{const{isZMax:ee}=d;return(V?!ee:ee)&&(d.isZMax=!ee,d.tZindex<$r()&&(d.tZindex=Hr())),ne().then(()=>S.recalculate(!0)).then(()=>d.isZMax)},Se=(V,ee)=>{const se=V[ee];if(se)if(s.isString(se)){if(a[se])return a[se]}else return se;return null},Be=()=>{const{formConfig:V,proxyConfig:ee}=e,{formData:se}=d,De=w.value,ye=ue.value;if(V&&ot(ye)||a.form){let We=[];if(a.form)We=a.form({$grid:W});else if(ye.items){const Ze={};if(!ye.inited){ye.inited=!0;const ht=De.beforeItem;De&&ht&&ye.items.forEach(ct=>{ht({$grid:W,item:ct})})}ye.items.forEach(ht=>{s.each(ht.slots,ct=>{s.isFunction(ct)||a[ct]&&(Ze[ct]=a[ct])})}),F&&We.push(u(F,Object.assign(Object.assign({ref:B},Object.assign({},ye,{data:ee&&ot(De)&&De.form?se:ye.data})),{onSubmit:be,onReset:pe,onSubmitInvalid:xe,onCollapse:ae}),Ze))}return u("div",{ref:D,key:"form",class:"vxe-grid--form-wrapper"},We)}return He()},ge=()=>{const{toolbarConfig:V}=e,ee=Ce.value;if(V&&ot(ee)||a.toolbar){let se=[];if(a.toolbar)se=a.toolbar({$grid:W});else{const De=ee.slots;let ye,We;const Ze={};De&&(ye=Se(De,"buttons"),We=Se(De,"tools"),ye&&(Ze.buttons=ye),We&&(Ze.tools=We)),se.push(u(Bn,Object.assign({ref:L},ee),Ze))}return u("div",{ref:M,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},se)}return He()},de=()=>a.top?u("div",{ref:k,key:"top",class:"vxe-grid--top-wrapper"},a.top({$grid:W})):He(),ke=()=>{const V=a.left;return V?u("div",{class:"vxe-grid--left-wrapper"},V({$grid:W})):He()},et=()=>{const V=a.right;return V?u("div",{class:"vxe-grid--right-wrapper"},V({$grid:W})):He()},qe=()=>{const{proxyConfig:V}=e,ee=Ee.value,se=w.value,De=Object.assign({},Fe),ye=a.empty,We=a.loading;V&&ot(se)&&(se.sort&&(De.onSortChange=Me),se.filter&&(De.onFilterChange=K));const Ze={};return ye&&(Ze.empty=()=>ye({$grid:W})),We&&(Ze.loading=()=>We({$grid:W})),u("div",{class:"vxe-grid--table-wrapper"},[u($n,Object.assign(Object.assign({ref:b},ee),De),Ze)])},Ae=()=>a.bottom?u("div",{ref:v,key:"bottom",class:"vxe-grid--bottom-wrapper"},a.bottom({$grid:W})):He(),ze=()=>{const{proxyConfig:V,pagerConfig:ee}=e,se=w.value,De=Y.value;if(ee&&ot(De)||a.pager){let ye=[];if(a.pager)ye=a.pager({$grid:W});else{const We=De.slots,Ze={};let ht,ct;We&&(ht=Se(We,"left"),ct=Se(We,"right"),ht&&(Ze.left=ht),ct&&(Ze.right=ct)),O&&ye.push(u(O,Object.assign(Object.assign(Object.assign({ref:X},De),V&&ot(se)?d.tablePage:{}),{onPageChange:re}),Ze))}return u("div",{ref:x,key:"pager",class:"vxe-grid--pager-wrapper"},ye)}return He()},Xe=()=>{const V=[];return Le.value.forEach(se=>{switch(se){case"Form":V.push(Be());break;case"Toolbar":V.push(ge());break;case"Top":V.push(de());break;case"Table":V.push(u("div",{key:"table",class:"vxe-grid--table-container"},[ke(),qe(),et()]));break;case"Bottom":V.push(Ae());break;case"Pager":V.push(ze());break}}),V},Fe={};Is.forEach(V=>{const ee=s.camelCase(`on-${V}`);Fe[ee]=(...se)=>C(V,...se)});const ce=()=>{const{proxyConfig:V,formConfig:ee}=e,{proxyInited:se}=d,De=w.value,ye=ue.value;if(V&&ot(De)){if(ee&&ot(ye)&&De.form&&ye.items){const We={};ye.items.forEach(Ze=>{const{field:ht,itemRender:ct}=Ze;if(ht){let qt=null;if(ct){const{defaultValue:it}=ct;s.isFunction(it)?qt=it({item:Ze}):s.isUndefined(it)||(qt=it)}We[ht]=qt}}),d.formData=We}se||(d.proxyInited=!0,De.autoLoad!==!1&&ne().then(()=>Oe.commitProxy("_init")).then(We=>{Oe.dispatchEvent("proxy-query",Object.assign(Object.assign({},We),{isInited:!0}),new Event("init"))}))}},je=V=>{const ee=P.value;xs.hasKey(V,Nc.ESCAPE)&&d.isZMax&&ee.escRestore!==!1&&Ye.triggerZoomEvent(V)},Oe={dispatchEvent:(V,ee,se)=>{C(V,jc(se,{$grid:W},ee))},commitProxy(V,...ee){const{toolbarConfig:se,pagerConfig:De,editRules:ye,validConfig:We}=e,{tablePage:Ze}=d,ht=q.value,ct=$.value,qt=w.value,it=Y.value,lt=Ce.value,{beforeQuery:gt,afterQuery:io,beforeDelete:eo,afterDelete:to,beforeSave:Ft,afterSave:_t,ajax:mt={}}=qt,yo=qt.response||qt.props||{},rt=b.value,Mo=Q();let oo=null,It=null;if(s.isString(V)){const{buttons:bt}=lt,Mt=se&&ot(lt)&&bt?s.findTree(bt,At=>At.code===V,{children:"dropdowns"}):null;oo=Mt?Mt.item:null,It=V}else oo=V,It=oo.code;const m=oo?oo.params:null;switch(It){case"insert":return rt.insert({});case"insert_edit":return rt.insert({}).then(({row:bt})=>rt.setEditRow(bt));case"insert_actived":return rt.insert({}).then(({row:bt})=>rt.setEditRow(bt));case"mark_cancel":z(It);break;case"remove":return le(It,"vxe.grid.removeSelectRecord",()=>rt.removeCheckboxRow());case"import":rt.importData(m);break;case"open_import":rt.openImport(m);break;case"export":rt.exportData(m);break;case"open_export":rt.openExport(m);break;case"reset_custom":return rt.resetCustom(!0);case"_init":case"reload":case"query":{const bt=mt.query,Mt=mt.querySuccess,At=mt.queryError;if(bt){const jt=It==="_init",Ht=It==="reload";let Xt=[],zt=[],Bt={};if(De&&((jt||Ht)&&(Ze.currentPage=1),ot(it)&&(Bt=Object.assign({},Ze))),jt){let Ot=null;if(rt){const{computeSortOpts:Ct}=rt.getComputeMaps();Ot=Ct.value.defaultSort}Ot&&(s.isArray(Ot)||(Ot=[Ot]),Xt=Ot.map(Ct=>({field:Ct.field,property:Ct.field,order:Ct.order}))),rt&&(zt=rt.getCheckedFilters())}else rt&&(Ht?rt.clearAll():(Xt=rt.getSortColumns(),zt=rt.getCheckedFilters()));const co={code:It,button:oo,isInited:jt,isReload:Ht,$grid:W,page:Bt,sort:Xt.length?Xt[0]:{},sorts:Xt,filters:zt,form:Mo,options:bt};return d.sortData=Xt,d.filterData=zt,d.tableLoading=!0,Promise.resolve((gt||bt)(co,...ee)).then(Ot=>{if(d.tableLoading=!1,Ot)if(De&&ot(it)){const Ct=yo.total,Kt=(s.isFunction(Ct)?Ct({data:Ot,$grid:W}):s.get(Ot,Ct||"page.total"))||0;Ze.total=s.toNumber(Kt);const To=yo.result;d.tableData=(s.isFunction(To)?To({data:Ot,$grid:W}):s.get(Ot,To||"result"))||[];const Wo=Math.max(Math.ceil(Kt/Ze.pageSize),1);Ze.currentPage>Wo&&(Ze.currentPage=Wo)}else{const Ct=yo.list;d.tableData=(Ct?s.isFunction(Ct)?Ct({data:Ot,$grid:W}):s.get(Ot,Ct):Ot)||[]}else d.tableData=[];return io&&io(co,...ee),Mt&&Mt(Object.assign(Object.assign({},co),{response:Ot})),{status:!0}}).catch(Ot=>(d.tableLoading=!1,At&&At(Object.assign(Object.assign({},co),{response:Ot})),{status:!1}))}break}case"delete":{const bt=mt.delete,Mt=mt.deleteSuccess,At=mt.deleteError;if(bt){const jt=S.getCheckboxRecords(),Ht=jt.filter(Bt=>!rt.isInsertByRow(Bt)),zt={$grid:W,code:It,button:oo,body:{removeRecords:Ht},form:Mo,options:bt};if(jt.length)return le(It,"vxe.grid.deleteSelectRecord",()=>Ht.length?(d.tableLoading=!0,Promise.resolve((eo||bt)(zt,...ee)).then(Bt=>(d.tableLoading=!1,rt.setPendingRow(Ht,!1),ct&&J.modal&&J.modal.message({content:U(Bt,"vxe.grid.delSuccess"),status:"success"}),to?to(zt,...ee):Oe.commitProxy("query"),Mt&&Mt(Object.assign(Object.assign({},zt),{response:Bt})),{status:!0})).catch(Bt=>(d.tableLoading=!1,ct&&J.modal&&J.modal.message({id:It,content:U(Bt,"vxe.grid.operError"),status:"error"}),At&&At(Object.assign(Object.assign({},zt),{response:Bt})),{status:!1}))):rt.remove(jt));ht&&J.modal&&J.modal.message({id:It,content:jl("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const bt=mt.save,Mt=mt.saveSuccess,At=mt.saveError;if(bt){const jt=rt.getRecordset(),{insertRecords:Ht,removeRecords:Xt,updateRecords:zt,pendingRecords:Bt}=jt,co={$grid:W,code:It,button:oo,body:jt,form:Mo,options:bt};Ht.length&&(jt.pendingRecords=Bt.filter(Ct=>rt.findRowIndexOf(Ht,Ct)===-1)),Bt.length&&(jt.insertRecords=Ht.filter(Ct=>rt.findRowIndexOf(Bt,Ct)===-1));let Ot=Promise.resolve();return ye&&(Ot=rt[We&&We.msgMode==="full"?"fullValidate":"validate"](jt.insertRecords.concat(zt))),Ot.then(Ct=>{if(!Ct){if(jt.insertRecords.length||Xt.length||zt.length||jt.pendingRecords.length)return d.tableLoading=!0,Promise.resolve((Ft||bt)(co,...ee)).then(Kt=>(d.tableLoading=!1,rt.clearPendingRow(),ct&&J.modal&&J.modal.message({content:U(Kt,"vxe.grid.saveSuccess"),status:"success"}),_t?_t(co,...ee):Oe.commitProxy("query"),Mt&&Mt(Object.assign(Object.assign({},co),{response:Kt})),{status:!0})).catch(Kt=>(d.tableLoading=!1,ct&&J.modal&&J.modal.message({id:It,content:U(Kt,"vxe.grid.operError"),status:"error"}),At&&At(Object.assign(Object.assign({},co),{response:Kt})),{status:!1}));ht&&J.modal&&J.modal.message({id:It,content:jl("vxe.grid.dataUnchanged"),status:"info"})}})}break}default:{const bt=$c.get(It);if(bt){const Mt=bt.tableCommandMethod||bt.commandMethod;Mt&&Mt({code:It,button:oo,$grid:W,$table:rt},...ee)}}}return ne()},zoom(){return d.isZMax?Oe.revert():Oe.maximize()},isMaximized(){return d.isZMax},maximize(){return he(!0)},revert(){return he()},getFormData:Q,getFormItems(V){const ee=ue.value,{formConfig:se}=e,{items:De}=ee,ye=[];return s.eachTree(se&&ot(ee)&&De?De:[],We=>{ye.push(We)},{children:"children"}),s.isUndefined(V)?ye:ye[V]},getProxyInfo(){const V=b.value;if(e.proxyConfig){const{sortData:ee}=d;return{data:d.tableData,filter:d.filterData,form:Q(),sort:ee.length?ee[0]:{},sorts:ee,pager:d.tablePage,pendingRecords:V?V.getPendingRecords():[]}}return null}},Ye={extendTableMethods:y,callSlot(V,ee){return V&&(s.isString(V)&&(V=a[V]||null),s.isFunction(V))?wo(V(ee)):[]},getExcludeHeight(){const{height:V}=e,{isZMax:ee}=d,se=h.value,De=D.value,ye=M.value,We=k.value,Ze=v.value,ht=x.value;return(ee||!(V==="auto"||V==="100%")?0:ys(se.parentNode))+ys(se)+Jl(De)+Jl(ye)+Jl(We)+Jl(Ze)+Jl(ht)},getParentHeight(){const V=h.value;return V?(d.isZMax?Dn().visibleHeight:s.toNumber(getComputedStyle(V.parentNode).height))-Ye.getExcludeHeight():0},triggerToolbarCommitEvent(V,ee){const{code:se}=V;return Oe.commitProxy(V,ee).then(De=>{se&&De&&De.status&&["query","reload","delete","save"].includes(se)&&Oe.dispatchEvent(se==="delete"||se==="save"?`proxy-${se}`:"proxy-query",Object.assign(Object.assign({},De),{isReload:se==="reload"}),ee)})},triggerToolbarBtnEvent(V,ee){Ye.triggerToolbarCommitEvent(V,ee),Oe.dispatchEvent("toolbar-button-click",{code:V.code,button:V},ee)},triggerToolbarTolEvent(V,ee){Ye.triggerToolbarCommitEvent(V,ee),Oe.dispatchEvent("toolbar-tool-click",{code:V.code,tool:V},ee)},triggerZoomEvent(V){Oe.zoom(),Oe.dispatchEvent("zoom",{type:d.isZMax?"max":"revert"},V)}};Object.assign(W,S,Oe,Ye);const Je=Pe(0);ut(()=>e.columns?e.columns.length:-1,()=>{Je.value++}),ut(()=>e.columns,()=>{Je.value++}),ut(Je,()=>{ne(()=>W.loadColumn(e.columns||[]))}),ut(()=>e.toolbarConfig,()=>{_()}),ut(()=>e.pagerConfig,()=>{fe()}),ut(()=>e.proxyConfig,()=>{ce()}),Bc.forEach(V=>{const{setupGrid:ee}=V;if(ee){const se=ee(W);se&&s.isObject(se)&&Object.assign(W,se)}}),fe(),Ol(()=>{ne(()=>{const{columns:V}=e;V&&V.length&&W.loadColumn(V),_(),ce()}),xs.on(W,"keydown",je)}),Sl(()=>{xs.off(W,"keydown")});const Ge=()=>{const V=N.value,ee=oe.value;return u("div",{ref:h,class:["vxe-grid",{[`size--${V}`]:V,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":d.isZMax,"is--loading":e.loading||d.tableLoading}],style:ee},Xe())};return W.renderVN=Ge,yl("$xeGrid",W),W},render(){return this.renderVN()}}),Ds=Object.assign({},Wl,{install(e){e.component(Wl.name,Wl)}});J.dynamicApp&&J.dynamicApp.component(Wl.name,Wl);J.component(Wl);const zc=Ds,Wc={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},qc=[Ts,ks,Ds,$n,Bn];function Xc(e,l){J.setConfig(l),qc.forEach(r=>r.install(e))}if(!J.hasLanguage("zh-CN")){const e="zh-CN";J.setI18n(e,Wc),J.setLanguage(e)}J.setTheme("light");const Jc=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:Ma,Column:Sa,Grid:zc,Table:Dc,Toolbar:Hc,VXETable:ra,VxeColgroup:ks,VxeColumn:Ts,VxeGrid:Ds,VxeTable:$n,VxeToolbar:Bn,VxeUI:J,_t:Nr,clipboard:oa,commands:ea,config:Vr,formats:Ji,getConfig:_i,getI18n:Ki,getIcon:Wi,getTheme:Ni,globalEvents:Yi,globalResize:Ui,hooks:na,install:Xc,interceptor:ta,log:la,menus:Qi,modal:da,print:ca,readFile:aa,renderer:Gi,saveFile:ia,setConfig:Pi,setI18n:Xi,setIcon:zi,setLanguage:qi,setTheme:ji,setup:Br,t:jr,use:sa,validators:Zi,version:Ss},Symbol.toStringTag,{value:"Module"}));export{Jc as V};
