import{a as x,o as f}from"./methods.c4cebea6.js";import{C as g,k as u,d as D,D as h,x as k,o as c,m as i,F as y,p as T,t as F,u as I}from"./.pnpm.d93a25db.js";import{_ as S}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.3cfc0961.js";const w=g("app",()=>{const o=u(null);return{setData:s=>{o.value=s},getData:()=>o.value}}),B=D({__name:"index",setup(o){const r=w().getData(),s=u([]),a=u(),p=(_,l=0)=>{let n=`Index/install?step=${_}`;l&&(n+=`&total=${l}`),x(n,r).then(e=>{const v=(e==null?void 0:e.msg)??"",t=(e==null?void 0:e.data)??{};s.value.push(v??"安装错误");const m=a.value;m.scrollTop=m.scrollHeight,t!=null&&t.next?setTimeout(()=>{p(t==null?void 0:t.next,(t==null?void 0:t.total)??0)},100):setTimeout(()=>{f("/complete")},2500)}).catch(()=>{setTimeout(()=>{f("/site")},1500)})};return h(s.value,()=>{a.value.scrollTo(0,a.value.scrollHeight)}),k(()=>{p("structure")}),(_,l)=>(c(),i("div",{ref_key:"installRef",ref:a,class:"install-box"},[(c(!0),i(y,null,T(I(s),(n,e)=>(c(),i("div",{key:e,class:"item"},F(n),1))),128))],512))}});const b=S(B,[["__scopeId","data-v-f1c02570"]]);export{b as default};
