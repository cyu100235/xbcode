var xa=Object.defineProperty;var ka=(e,t,a)=>t in e?xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var qe=(e,t,a)=>(ka(e,typeof t!="symbol"?t+"":t,a),a);import{d as A,c as V,E as nt,N as st,r as B,o as m,a as I,w as $,b as Tt,u as r,e as wa,g as je,f as y,h as ue,i as k,j as b,k as x,p as xe,l as ke,m as Rt,n as Ut,t as M,F,q as G,s as T,v as L,H as xt,x as ba,y as Pa,z as Ca,A as $a,B as Da,C as Ia,D as ja,G as se,I as me,J as ie,K as Xe,L as N,M as Z,O as Aa,P as O,Q as we,R as Mt,S as Lt,T as Sa,U as Va,V as Ea,W as de,X as kt,Y as pe,Z as Ba,_ as Ta,$ as Ra,a0 as Ua,a1 as Ft,a2 as Ot,a3 as Qe,a4 as wt,a5 as Ma,a6 as La,a7 as rt,a8 as Fa,a9 as Oa,aa as $e,ab as qt,ac as Me,ad as zt,ae as qa,af as za,ag as lt,ah as Na,ai as Ha,aj as Wa,ak as Xa,al as Qa,am as Za,an as Ja,ao as Nt,ap as Ka,aq as Ga,ar as Ya}from"./.pnpm.7672c64c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const J=A({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(e){const t=e,a=V(()=>{if(nt[t.icon])return nt[t.icon];if(st[t.icon])return st[t.icon]});return(n,s)=>{const o=B("el-icon");return m(),I(o,{size:n.size,color:n.color},{default:$(()=>[(m(),I(Tt(r(a))))]),_:1},8,["size","color"])}}}),Te=(e,t,a="",n)=>{wa({message:e,title:a,duration:2e3,type:t,...n})},K=(e,t="温馨提示",a)=>{Te(e,"success",t,a)},j=(e,t="温馨提示",a)=>{Te(e,"error",t,a)},be=e=>(xe("data-v-25334c0b"),e=e(),ke(),e),eo={class:"category-container"},to={class:"item"},ao=be(()=>b("div",{class:"title"}," 附件名称 ",-1)),oo={class:"item"},no=be(()=>b("div",{class:"title"}," 文件名称 ",-1)),so={class:"item"},lo=be(()=>b("div",{class:"title"}," 文件路径 ",-1)),co={class:"item"},ro=be(()=>b("div",{class:"title"}," 文件链接 ",-1)),io={class:"item"},uo=be(()=>b("div",{class:"title"}," 文件格式 ",-1)),po={class:"item"},mo=be(()=>b("div",{class:"title"}," 文件大小（字节） ",-1)),_o={class:"item"},fo=be(()=>b("div",{class:"title"}," 附件选定器 ",-1)),ho=A({__name:"upload",props:{modelValue:{}},emits:["update:init"],setup(e,{expose:t,emit:a}){const n=e,s=je(),o=y({...n.modelValue}),l=()=>o.value.title?o.value:(j("请输入附件名称"),!1);return ue(()=>{a("update:init",s.exposed)}),t({getFormData:l}),(c,i)=>{const u=B("el-input");return m(),k("div",eo,[b("div",to,[ao,x(u,{modelValue:r(o).title,"onUpdate:modelValue":i[0]||(i[0]=d=>r(o).title=d),placeholder:"请输入附件名称"},null,8,["modelValue"])]),b("div",oo,[no,x(u,{modelValue:r(o).filename,"onUpdate:modelValue":i[1]||(i[1]=d=>r(o).filename=d),placeholder:"请输入文件名称",disabled:""},null,8,["modelValue"])]),b("div",so,[lo,x(u,{modelValue:r(o).path,"onUpdate:modelValue":i[2]||(i[2]=d=>r(o).path=d),placeholder:"请输入文件路径",disabled:""},null,8,["modelValue"])]),b("div",co,[ro,x(u,{modelValue:r(o).url,"onUpdate:modelValue":i[3]||(i[3]=d=>r(o).url=d),placeholder:"请输入文件链接",disabled:""},null,8,["modelValue"])]),b("div",io,[uo,x(u,{modelValue:r(o).format,"onUpdate:modelValue":i[4]||(i[4]=d=>r(o).format=d),placeholder:"请输入文件格式",disabled:""},null,8,["modelValue"])]),b("div",po,[mo,x(u,{modelValue:r(o).size,"onUpdate:modelValue":i[5]||(i[5]=d=>r(o).size=d),placeholder:"请输入文件大小",disabled:""},null,8,["modelValue"])]),b("div",_o,[fo,x(u,{modelValue:r(o).adapter,"onUpdate:modelValue":i[6]||(i[6]=d=>r(o).adapter=d),placeholder:"请输入附件选定器",disabled:""},null,8,["modelValue"])])])}}});const U=(e,t)=>{const a=e.__vccOpts||e;for(const[n,s]of t)a[n]=s;return a},vo=U(ho,[["__scopeId","data-v-25334c0b"]]),go={web_name:"",web_title:""},yo="modulepreload",xo=function(e){return"/view/"+e},bt={},ge=function(t,a,n){if(!a||a.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=xo(o),o in bt)return;bt[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":yo,l||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),l)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},ze="/login",Ht="/Index/index",ko=["/exception","/401","/403","/404","/401","/500","/502"],wo={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},it="authorization",ut="appid",Le=Rt(()=>{const e=Ve();return Ut(`${e}_${it}`,null)}),Pe=Rt(()=>{const e=Ve();return Ut(`${e}_${ut}`,null)}),Ze=A({__name:"menu-item",props:{menuData:{}},setup(e){const t=Pe(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=Ge(n.ajaxParams));let l={...o.value};t.value&&(l={...l,appid:t.value}),oe(`/${s}`,l)};return(n,s)=>{const o=B("el-menu-item-group"),l=B("el-menu-item");return m(),k(F,null,[n.menuData.isGroup&&n.menuData.show?(m(),I(o,{key:0},{title:$(()=>[b("span",null,M(n.menuData.title),1)]),default:$(()=>[(m(!0),k(F,null,G(n.menuData.children,c=>(m(),I(Ze,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1})):T("",!0),!n.menuData.isGroup&&n.menuData.show?(m(),I(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=c=>a(n.menuData))},{default:$(()=>[L(M(n.menuData.title),1)]),_:1},8,["index"])):T("",!0)],64)}}}),bo=A({__name:"menu-item-level",props:{menuData:{}},setup(e){const t=Pe(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=Ge(n.ajaxParams));let l={...o.value};t.value&&(l={...l,appid:t.value}),oe(`/${s}`,l)};return(n,s)=>{const o=B("el-sub-menu"),l=B("el-menu-item");return m(),k(F,null,[n.menuData.isGroup&&n.menuData.show?(m(),I(o,{key:0,index:n.menuData.activeId},{title:$(()=>[b("span",null,M(n.menuData.title),1)]),default:$(()=>[(m(!0),k(F,null,G(n.menuData.children,c=>(m(),I(Ze,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1},8,["index"])):T("",!0),!n.menuData.isGroup&&n.menuData.show?(m(),I(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=c=>a(n.menuData))},{default:$(()=>[L(M(n.menuData.title),1)]),_:1},8,["index"])):T("",!0)],64)}}}),Ye={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Pt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},Po={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Co=e=>e.map(t=>(t.handle=a=>{if((t==null?void 0:t.where)==="==")return a===t.value;if((t==null?void 0:t.where)==="!=")return a!==t.value;if((t==null?void 0:t.where)==="in"){const n=t.value;return n instanceof Array&&n instanceof Object?Ue(a,t.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},t)),$o=e=>e.map(t=>(t!=null&&t.control&&(t.control=Co(t.control)),t)),Do={};function Io(e,t){return m(),k("div",null," 高德地图 ")}const jo=U(Do,[["render",Io]]),Ao={};function So(e,t){return m(),k("div",null," 百度地图 ")}const Vo=U(Ao,[["render",So]]),Eo={};function Bo(e,t){return m(),k("div",null," 腾讯地图 ")}const To=U(Eo,[["render",Bo]]),Ro={javascript:ba,php:Pa,python:Ca,java:$a,css:Da,xml:Ia},Uo=e=>(xt.registerLanguage(e,Ro[e]),xt),Mo={class:"w-100%"},Lo=["innerHTML"],Fo=A({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(e){const t=e,a=Uo(t.language),n=y("");return ja(()=>{n.value=a.highlight(t.modelValue,{language:t.language}).value}),(s,o)=>(m(),k("div",Mo,[b("pre",null,[L("    "),b("code",{class:"hljs",innerHTML:r(n)},null,8,Lo),L(`
    `)])]))}}),Wt=e=>(xe("data-v-71347fa8"),e=e(),ke(),e),Oo={class:"xh-icons-modal"},qo={class:"xh-icons"},zo={class:"search-container"},No=Wt(()=>b("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Ho={class:"icon-list"},Wo={class:"tools"},Xo=Wt(()=>b("div",{class:"title"}," 所有图标 ",-1)),Qo={class:"options"},Zo={class:"list"},Jo=["onDblclick","onClick"],Ko={class:"icon-title"},Go=A({__name:"modal",emits:["update:init"],setup(e,{expose:t,emit:a}){const n=je(),s=y([{title:"Element-Plus",type:"element",icons:Object.keys(nt)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(st)}]),o=y(""),l=y("element"),c=y(""),i=y([]),u=p=>{i.value=[];const _=s.value.find(C=>C.type===p);_&&d(_.icons)};function d(p){let _=0;function C(){globalThis.requestIdleCallback(w=>{for(;w.timeRemaining()>0&&_<p.length;)i.value.push(p[_++]);_<p.length&&C()})}C()}const f=p=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(p).then(_=>{});else{const _=document.createElement("input");_.value=p,document.body.appendChild(_),_.select(),document.execCommand("Copy"),_.remove()}K("复制成功")},v=p=>{c.value=p===c.value?"":p};return t({confirm:()=>c.value}),ue(()=>{d(s.value[0].icons),a("update:init",n.exposed)}),(p,_)=>{const C=J,w=B("el-button"),S=B("el-button-group"),E=B("el-input"),P=B("el-option"),g=B("el-select");return m(),k("div",Oo,[b("div",qo,[b("div",zo,[x(E,{modelValue:r(o),"onUpdate:modelValue":_[1]||(_[1]=D=>se(o)?o.value=D:null),placeholder:"图标名称"},{prepend:$(()=>[x(C,{icon:"Search",type:"element"})]),append:$(()=>[x(S,null,{default:$(()=>[x(w,{onClick:_[0]||(_[0]=D=>o.value="")},{default:$(()=>[L(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),No]),b("div",Ho,[b("div",Wo,[Xo,b("div",Qo,[x(g,{modelValue:r(l),"onUpdate:modelValue":_[2]||(_[2]=D=>se(l)?l.value=D:null),onChange:u},{default:$(()=>[(m(!0),k(F,null,G(r(s),(D,q)=>(m(),I(P,{key:q,label:D.title,value:D.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),b("div",Zo,[(m(!0),k(F,null,G(r(i).filter(D=>D.includes(r(o))),(D,q)=>(m(),k("div",{key:q,class:me(["item",{active:D===r(c)}]),onDblclick:H=>f(D),onClick:H=>v(D)},[x(C,{icon:D,size:26,type:r(l),color:"#888"},null,8,["icon","type"]),b("div",Ko,M(D),1)],42,Jo))),128))])])])])}}});const Yo=U(Go,[["__scopeId","data-v-71347fa8"]]),ne=(e,t,a)=>ie({title:"通用模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,...a,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Xe(e,t)}),Ae=(e,t,a)=>ie({title:"可主动关闭的模态框",customStyle:{width:"60%",height:"90vh"},draggable:!0,showClose:!0,closeOnClickModal:!1,...a,showCancelButton:!0,showConfirmButton:!0,customClass:"xh-modal-close-mask",message:()=>Xe(e,t)}),Ie=()=>{ie.close()},en={class:"icons-container"},tn={key:0,class:"icon"},an={key:1,class:"icon"},on=A({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=()=>{const s=y();Ae(Yo,{"onUpdate:init":o=>{s.value=o}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"60%",height:"85vh"},beforeClose:(o,l,c)=>{var i;if(o==="confirm"){const u=(i=s.value)==null?void 0:i.confirm();if(!u){j("请选择图标");return}t("update:modelValue",u),c()}else c()}})},n=()=>{t("update:modelValue",""),K("重置成功")};return(s,o)=>{const l=J,c=B("el-button");return m(),k("div",en,[s.modelValue?(m(),k("div",tn,[x(l,{icon:s.modelValue,size:18},null,8,["icon"])])):(m(),k("div",an)),s.modelValue?(m(),I(c,{key:2,onClick:n},{default:$(()=>[L(" 重置 ")]),_:1})):T("",!0),x(c,{type:"primary",onClick:a},{default:$(()=>[L(" 选择 ")]),_:1})])}}});const nn=U(on,[["__scopeId","data-v-784ef829"]]),sn=A({__name:"index",props:{modelValue:{},style:{default:{}}},setup(e){return(t,a)=>(m(),k("div",N(Z(t.style)),M(t.modelValue),17))}}),ln={};function cn(e,t){return m(),k("div",null," 自定义输入框（未实现） ")}const rn=U(ln,[["render",cn]]),un=["innerHTML"],dn=A({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(e){return(t,a)=>{const n=J;return m(),k("div",{class:"form-prompt",style:Aa(t.style)},[t.icon?(m(),I(n,{key:0,icon:t.icon,size:t.iconSize},null,8,["icon","size"])):T("",!0),b("span",{class:"text",innerHTML:t.text},null,8,un)],4)}}});const pn=U(dn,[["__scopeId","data-v-05bcd7b9"]]),mn=A({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=o=>{t("update:modelValue",o)},s=y(a.modelValue);return(o,l)=>(m(),I(r(le),O({modelValue:r(s),"onUpdate:modelValue":l[0]||(l[0]=c=>se(s)?s.value=c:null),file:o.file},{ajaxParams:o.ajaxParams},{"onUpdate:modelValue":n}),null,16,["modelValue","file"]))}}),_n={};function fn(e,t){return m(),k("div",null," 表格展示器 ")}const hn=U(_n,[["render",fn]]),Xt=V(()=>e=>{const a=e.split("?")[0].split(".").pop();if(!a)return!1;const n=a.toLowerCase();return["png","jpg","jpeg","gif","webp","svg","bmp"].includes(n)}),vn={class:"upload-container"},gn=["onClick"],yn=A({__name:"index",props:{modelValue:{default:[]},limit:{default:1},suffix:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=()=>{const o=y();Ae(ca,{"onUpdate:init":l=>{o.value=l}},{title:"附件库",center:!0,customStyle:{width:"60%",height:"85vh"},beforeClose:(l,c,i)=>{var u;if(l==="confirm"){const d=(u=o.value)==null?void 0:u.getSelected();if(d.length){const f=d.map(v=>v==null?void 0:v.url);t("update:modelValue",f),i()}else j("请选择文件")}else i()}})},s=o=>{const l=a.modelValue.filter((c,i)=>i!==o);t("update:modelValue",l)};return ue(()=>{if(typeof a.modelValue=="string"){const o=a.modelValue===""?"":[a.modelValue];t("update:modelValue",o)}}),(o,l)=>{const c=B("el-image"),i=J,u=B("el-icon");return m(),k("div",vn,[(m(!0),k(F,null,G(o.modelValue,(d,f)=>(m(),k("div",{key:f,class:"item"},[r(Xt)(d)?(m(),I(c,{key:0,class:"image","preview-src-list":o.modelValue,"z-index":999,src:d,infinite:!1},null,8,["preview-src-list","src"])):(m(),I(u,{key:1,class:"file-thumb"},{default:$(()=>[x(i,{icon:"Document",size:28,type:"element"})]),_:1})),b("div",{class:"del-file",onClick:v=>s(f)},[x(i,{icon:"Delete",size:15,type:"element"})],8,gn)]))),128)),b("div",{class:"item",onClick:n},[x(i,{icon:"PlusOutlined",size:20,color:"#888"})])])}}});const xn=U(yn,[["__scopeId","data-v-b84801de"]]),kn={class:"editor-container"},wn=A({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e;we(u=>({"4dbdd5bb":r(i)}));const n=Mt(),s=y(a.modelValue),o=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});Lt(()=>{n.value&&(n.value.destroy(),n.value=null)});const l=u=>{n.value=u},c=u=>{const d=u.getHtml();t("update:modelValue",d)},i=V(()=>`${a.editHeight}px`);return(u,d)=>(m(),k("div",kn,[x(r(Sa),O({class:"toolbar",editor:r(n)},r(o)),null,16,["editor"]),x(r(Va),{modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=f=>se(s)?s.value=f:null),"default-config":u.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:c},null,8,["modelValue","default-config"])]))}});const Ct=U(wn,[["__scopeId","data-v-274068df"]]),$t={amap:jo,bmap:Vo,icons:nn,qmap:To,remote:mn,uploadify:xn,info:sn,HCode:Fo,PromptTip:pn,wangEditor:Ct,tinymceEditor:Ct,XInput:rn,XTable:hn},bn=e=>{Object.keys($t).forEach(t=>{e.component(t,$t[t])})};let Qt="/api";Qt=window.location.origin;const dt=Qt,X=Ea.create({baseURL:dt,timeout:6e4}),Pn=async e=>{const t=Le();t.value&&e.headers.set(it,t.value);const a=Pe();return a.value&&e.headers.set(ut,a.value),e},Cn=e=>{var s,o,l,c,i;const t=Le(),a=e.data,n=e.headers["content-type"];if(n.includes("application/json")){if((a==null?void 0:a.code)===301)return oe(((s=a==null?void 0:a.data)==null?void 0:s.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===302)return j((a==null?void 0:a.msg)||"302.网络错误~"),oe(((o=a==null?void 0:a.data)==null?void 0:o.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===303)return j((a==null?void 0:a.msg)||"303.网络错误~"),oe(((l=a==null?void 0:a.data)==null?void 0:l.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===304)return window.location.reload(),Promise.reject(a);if((a==null?void 0:a.code)===305)return j((a==null?void 0:a.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(a);if([600,666,11e3].includes(a==null?void 0:a.code))return Promise.reject(a);if((a==null?void 0:a.code)===200)return a;if((a==null?void 0:a.code)===12e3){t.value="";let u=(c=W.currentRoute.value)==null?void 0:c.fullPath;return(i=W.currentRoute.value.query)!=null&&i.redirect&&(u=W.currentRoute.value.query.redirect),u===ze&&(u="/"),W.replace({path:ze,query:{redirect:u}}),j((a==null?void 0:a.msg)||"登录超时啦~"),Promise.reject(a)}return a!=null&&a.msg&&j((a==null?void 0:a.msg)||"网络错误~"),Promise.reject(a)}else return n.includes("application/octet-stream")?Promise.resolve(a):Promise.reject(a)},$n=e=>{if(e.response){const{status:t}=e.response;t===401?oe("/exception",{code:401}):t===403?oe("/exception",{code:403}):t===500?oe("/exception",{code:500}):t===502&&oe("/exception",{code:502})}return Promise.reject(e)};X.interceptors.request.use(Pn);X.interceptors.response.use(Cn,$n);const Dn=Object.freeze(Object.defineProperty({__proto__:null,baseURL:dt,default:X,instance:X},Symbol.toStringTag,{value:"Module"})),pt=A({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{expose:t,emit:a}){const n=e,s=de(),o=je(),l=y({}),c=y({api:"",method:"POST"}),i=y({}),u=y(),d=y(Po),f=y("");kt.use(bn);const v=kt.$form(),h=()=>{const C=y({method:n.method,params:{...n.ajaxParams},data:{...n.ajaxParams}});n.method==="GET"?delete C.value.data:delete C.value.params,a("update:init"),X(n.api,C.value).then(w=>{const{data:S}=w;if(!(S!=null&&S.http))return j("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(S!=null&&S.formRule))return j("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));c.value=S.http,u.value=$o(S.formRule),d.value={...d.value,...S.config},f.value=(S==null?void 0:S.redirect)??"",a("update:init-ok",{response:S,exposed:o.exposed})}).catch(w=>{a("update:init-error",w)})},p=()=>{var w,S,E;const C=y({method:((w=c.value)==null?void 0:w.method)??"GET",params:{...n.ajaxParams},data:{}});((S=c.value)==null?void 0:S.method)==="GET"?C.value.params={...C.value.params,...i.value}:C.value.data={...C.value.data,...i.value},a("update:submit",{api:c.value.api,queryParams:C}),X(((E=c.value)==null?void 0:E.api)??"",C.value).then(P=>{var g;(g=s.query)!=null&&g.isBack&&!n.isModal&&!f.value?We():f.value&&oe(f.value),a("update:submit-ok",P),K((P==null?void 0:P.msg)??"操作失败")}).catch(P=>{a("update:submit-error",P)})},_=()=>{a("update:rest-ok")};return ue(()=>h()),t({init:h,submit:p,reset:_}),(C,w)=>(m(),I(r(v),{api:r(l),"onUpdate:api":w[0]||(w[0]=S=>se(l)?l.value=S:null),modelValue:r(i),"onUpdate:modelValue":w[1]||(w[1]=S=>se(i)?i.value=S:null),modelModifiers:{lazy:!0},rule:r(u),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),In={class:"xh-modal-container"},jn=A({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(e){const t=y(),a=y({submitBtn:{},resetBtn:{}}),n=s=>{var l;const o=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;a.value=o};return(s,o)=>(m(),k("div",In,[x(r(pt),{ref_key:"formRef",ref:t,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":n},null,8,["api","method","ajax-params"])]))}});const mt=U(jn,[["__scopeId","data-v-be00eddc"]]),An={class:"xh-modal-container"},Sn={class:"xh-modal-content"},Vn=A({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const a=y(),n=y(),s=y({submitBtn:{},resetBtn:{}}),o=()=>{n.value.setDisabled(!1)},l=f=>{var h;const v=(h=f==null?void 0:f.response)==null?void 0:h.extraConfig;v.resetBtn.content="关闭",v.resetBtn.type="error",s.value=v},c=()=>{a.value.submit()},i=()=>{o(),t("update:submit-ok")},u=()=>{o(),t("update:submit-error")},d=()=>{a.value.reset(),t("update:rest-ok")};return(f,v)=>(m(),k("div",An,[b("div",Sn,[x(r(pt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:f.api,method:f.method,"ajax-params":f.ajaxParams,"is-modal":!0,"onUpdate:initOk":l,"onUpdate:submitOk":i,"onUpdate:submitError":u,"onUpdate:restOk":o,"onUpdate:initError":o},null,8,["api","method","ajax-params"])]),x(r(Zt),{ref_key:"buttonRef",ref:n,"extra-config":r(s),"onUpdate:submit":c,"onUpdate:rest":d},null,8,["extra-config"])]))}});const _t=U(Vn,[["__scopeId","data-v-6b7db386"]]),En=A({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(e){const t=e,a=V(()=>t.text?"":`xh-button-${t.type}`);return(n,s)=>(m(),k("button",{class:me(["xh-button",r(a)])},[pe(n.$slots,"loading",{},void 0,!0),pe(n.$slots,"icon",{},void 0,!0),pe(n.$slots,"default",{},void 0,!0)],2))}});const Bn=U(En,[["__scopeId","data-v-dbf03c62"]]),Je=A({__name:"index",props:{type:{default:"default"}},setup(e){const t=e,a=["error","purple","cyan"],n=V(()=>a.includes(t.type));return(s,o)=>{const l=B("el-button");return r(n)?(m(),I(Bn,{key:0,type:s.type},{default:$(()=>[pe(s.$slots,"loading"),pe(s.$slots,"icon"),pe(s.$slots,"default")]),_:3},8,["type"])):(m(),I(l,{key:1,type:s.type},{default:$(()=>[pe(s.$slots,"loading"),pe(s.$slots,"icon"),pe(s.$slots,"default")]),_:3},8,["type"]))}}}),Tn=A({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(e,{expose:t,emit:a}){const n=je(),s=y(!1),o=i=>{s.value=i},l=()=>{o(!0),a("update:submit")},c=()=>{o(!0),a("update:rest")};return ue(()=>{a("update:init",{exposed:n.exposed})}),t({setDisabled:o}),(i,u)=>{var v;const d=Je,f=B("el-space");return(v=i.extraConfig.submitBtn)!=null&&v.show?(m(),I(f,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:$(()=>{var h,p,_,C;return[(h=i.extraConfig.submitBtn)!=null&&h.show?(m(),I(d,O({key:0,type:"primary",class:"xh-extra-button"},((p=i.extraConfig)==null?void 0:p.submitBtn)??{},{loading:r(s),disabled:r(s),onClick:l}),{default:$(()=>{var w;return[L(M(r(s)?"请求中...":((w=i.extraConfig.submitBtn)==null?void 0:w.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):T("",!0),(_=i.extraConfig.resetBtn)!=null&&_.show?(m(),I(d,O({key:1,type:"warning",class:"xh-extra-button"},((C=i.extraConfig)==null?void 0:C.resetBtn)??{},{disabled:r(s),onClick:c}),{default:$(()=>{var w;return[L(M(((w=i.extraConfig.resetBtn)==null?void 0:w.content)??"重置"),1)]}),_:1},16,["disabled"])):T("",!0)]}),_:1})):T("",!0)}}});const Zt=U(Tn,[["__scopeId","data-v-c3072cde"]]),Rn=(e,t,a,n,s)=>{var f,v;a==null||a.xGrid;const o=a==null?void 0:a.form,l=a==null?void 0:a.page,c=a==null?void 0:a.sort,i=a==null?void 0:a.filters;a!=null&&a.code&&((f=n.screenConfig)!=null&&f.api)&&(e=(v=n.screenConfig)==null?void 0:v.api);const u=W.currentRoute.value,d=y({method:t,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...o,...(u==null?void 0:u.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),i.length>0&&d.value.params&&i.forEach(({field:h,values:p})=>{d.value.params={...d.value.params,[h]:p.join(",")}}),new Promise((h,p)=>{X(e,d.value).then(_=>{h(_)}).catch(_=>{p(_)})})},Un=(e,t,a)=>{X(a.file,{responseType:"blob"}).then(n=>{Ba.saveFile({filename:e,type:t,content:n.data})})},Mn=(e,t,a)=>new Promise((n,s)=>{var c;if(!((c=t.exportConfig)!=null&&c.api))return j("请设置请求API"),Promise.reject(new Error("请设置请求API"));const o=a==null?void 0:a.getProxyInfo(),l={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:o?o.pager:null,ids:e.mode==="selected"?e.data.map(i=>i.id):[],fields:e.columns.map(i=>({field:i.field,title:i.title}))};return new Promise(i=>{var f;const u={method:"POST",data:{...l}},d=((f=t.exportConfig)==null?void 0:f.api)??"";X(d,u).then(v=>{const{data:h}=v;if(!(h!=null&&h.file))return j("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));Un(l.filename,l.format,h),i(v)})})}),Ln=(e,t,a)=>{const n=new FormData;return n.append("file",e.file),new Promise(s=>{var c;const o=((c=t.importConfig)==null?void 0:c.api)??"";X(o,{method:"POST",data:n}).then(i=>{const{msg:u}=i;K(u||"操作成功"),a==null||a.commitProxy("query"),s(i)}).catch(i=>{console.error("导入失败",i)})})},Fn=(e,t,a)=>new Promise(n=>{const s=new FileReader;s.onload=o=>{const l=o.target?o.target.result:"",c=Ta(l,{type:"binary"}),i=Ra.sheet_to_json(c.Sheets.Sheet1);e.$table.loadData(i),K("已将数据导入至本地表格"),n(i)},s.readAsBinaryString(e.file)}),On=(e,t,a)=>{var n,s;return(n=t.importConfig)!=null&&n.api&&((s=t.importConfig)!=null&&s.isRemote)?Ln(e,t,a):Fn(e)},qn=(e,t,a,n,s)=>{const o={...a.toolbarConfig,slots:{buttons:"topButtonList"}};return a.toolbarConfig=o,o!=null&&o.import&&(a.importConfig={...a.importConfig,remote:!0,importMethod:l=>On(l,a,s)}),o!=null&&o.export&&(a.exportConfig={...a.exportConfig,remote:!0,exportMethod:l=>Mn(l,a,s)}),a.proxyConfig={...a.proxyConfig,ajax:{query:l=>Rn(e,t,l,a,n)}},a},fe=(e,t,a)=>X.request({url:e,params:t,method:"GET",...a}),ye=(e,t,a)=>X.request({url:e,data:t,method:"POST",...a}),Ne=(e,t,a)=>X.request({url:e,data:t,method:"PUT",...a}),He=(e,t,a)=>X.request({url:e,data:t,method:"DELETE",...a}),ee=(e,t)=>{const a=e.field;let n=t[a];if(a.includes(".")){const s=a.split(".");let o=t;s.forEach(l=>{o=o[l]}),n=o}return n},Se=(e,t,a,n=!0)=>{if(!e){j("请设置请求API接口"),a==null||a.commitProxy("query");return}Ne(e,t).then(s=>{a==null||a.commitProxy("query"),n&&K((s==null?void 0:s.msg)??"操作成功")})},zn=(e,t,a,n)=>{var c,i;const s=((c=a==null?void 0:a.rowConfig)==null?void 0:c.keyField)??"id",o=t[e==null?void 0:e.field],l={[s]:t[s],keyField:s,field:e==null?void 0:e.field,value:o};Se((i=e==null?void 0:e.params)==null?void 0:i.api,l,n)},Nn=(e,t)=>{let a={};for(const n in e){const s=e[n]||"id";a={...a,[s]:t[n]||""}}return a},Fe=(e,t,a)=>{var l,c;const n=W.currentRoute.value;let o={...((l=e==null?void 0:e.pageData)==null?void 0:l.queryParams)??{},...n.query};return(c=e.pageData)!=null&&c.isBack&&(o={...o,isBack:1}),o},Hn=(e,t,a,n,s)=>{var u,d,f,v,h;const o=W.currentRoute.value,l=((u=e==null?void 0:e.pageData)==null?void 0:u.queryParams)??{},c=y({...o.query}),i=y({...c.value});if(l instanceof Object&&(i.value={...i.value,...l}),a&&!Ue(JSON.stringify((d=e==null?void 0:e.pageData)==null?void 0:d.aliasParams),["[]","{}"]))i.value={...i.value,...Nn((f=e==null?void 0:e.pageData)==null?void 0:f.aliasParams,a)};else{const p=((v=n==null?void 0:n.rowConfig)==null?void 0:v.keyField)??"id";if(!a[p]){j("当前数据错误");return}const _=a[p];i.value={...i.value,[p]:_}}return(h=e.pageData)!=null&&h.isBack&&(i.value={...i.value,isBack:1}),i.value},Wn=(e,t,a)=>{var s,o;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){j("缺少跳转地址");return}const n=Fe(e);W.push({path:(o=e==null?void 0:e.pageData)==null?void 0:o.path,query:{...n}})},Xn=(e,t,a,n)=>{var s,o;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){j("缺少跳转地址");return}W.push({path:(o=e==null?void 0:e.pageData)==null?void 0:o.path,query:{...t}})},Re=e=>{vt(e)||(e=`${window.location.origin}/${e}`),window.open(e)},Qn=(e,t,a)=>{var i,u,d;const n=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",s=((u=e.pageData)==null?void 0:u.method)??"GET";let o=((d=e.pageData)==null?void 0:d.path)??"";const l=Fe(e),c={method:s,params:{},data:{}};if(s==="GET"?c.params=l:c.data=l,o){Re(o);return}X(n,c).then(f=>{const{data:v}=f;if(!(v!=null&&v.url)){j("缺少目标跳转地址");return}o=v.url,Re(o)})},Zn=(e,t,a,n)=>{var d,f,v,h,p;const s=((d=e==null?void 0:e.pageData)==null?void 0:d.api)??"",o=((f=e.pageData)==null?void 0:f.method)??"GET";let l=((v=t.checkboxConfig)==null?void 0:v.labelField)??"";l||(l=((h=t==null?void 0:t.rowConfig)==null?void 0:h.keyField)??"id");let c=((p=e.pageData)==null?void 0:p.path)??"";const i=Fe(e),u={method:o,params:{},data:{}};if(o==="GET"?u.params={...i,[l]:a}:u.data={...i,[l]:a},c){Re(c);return}X(s,u).then(_=>{const{data:C}=_;if(!(C!=null&&C.url)){j("缺少目标跳转地址");return}c=C.url,Re(c)})},Jn=(e,t,a,n)=>{var i,u,d;const s=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",o=((u=e.pageData)==null?void 0:u.method)??"GET";let l=((d=e.pageData)==null?void 0:d.path)??"";const c=y({method:o,params:{...t},data:{...t}});if(o==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}X(s,c.value).then(f=>{const{data:v}=f;if(!(v!=null&&v.url)){j("缺少目标跳转地址");return}l=v.url,Re(l)})},Kn=(e,t,a)=>{var o,l,c,i;if(!(((o=e.message)==null?void 0:o.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{},"onUpdate:submit-ok":()=>{Ie(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ie(),a==null||a.commitProxy("reload")}};ne(_t,s,{...e.message,beforeClose:(u,d,f)=>{f(),a==null||a.commitProxy("reload")}})},Gn=(e,t,a,n)=>{var c,i,u,d,f,v,h;if(!(((c=e.message)==null?void 0:c.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}let o=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((f=e.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[o]:a},"onUpdate:submit-ok":()=>{Ie(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ie(),n==null||n.commitProxy("reload")}});((v=e.pageData)==null?void 0:v.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(h=e.pageData)==null?void 0:h.queryParams}),ne(_t,l.value,{...e.message,beforeClose:(p,_,C)=>{C(),n==null||n.commitProxy("reload")}})},Yn=(e,t,a,n)=>{var c,i,u,d,f;if(!(((c=e.message)==null?void 0:c.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}const o=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t},"onUpdate:submit-ok":()=>{Ie(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ie(),n==null||n.commitProxy("reload")}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(f=o.value.ajaxParams)!=null&&f.isBack&&delete o.value.ajaxParams.isBack,ne(_t,o.value,{...e.message,beforeClose:(v,h,p)=>{p(),n==null||n.commitProxy("reload")}})},he=(e,t="温馨提示",a="",n)=>ie.confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:a,...n}),Jt=(e,t)=>Ua.service({text:e,lock:!0,background:"rgba(0, 0, 0, 0.7)",...t}),es=(e,t,a)=>{var d,f,v,h,p;const n=(d=e.pageData)==null?void 0:d.api,s=((f=e.pageData)==null?void 0:f.method)??"GET",o=Fe(e);o!=null&&o.isBack&&delete o.isBack;const l=y({method:s,params:{...o},data:{...o}});s==="GET"?delete l.value.data:delete l.value.params;const c=((v=e.message)==null?void 0:v.content)??"",i=((h=e.message)==null?void 0:h.title)??"",u=((p=e.message)==null?void 0:p.type)??"";if(!n){j("接口地址不存在");return}he(c,i,u).then(()=>{X(n,l.value).then(_=>{K((_==null?void 0:_.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},ts=(e,t,a,n)=>{var v,h,p,_,C,w,S;const s=(v=e.pageData)==null?void 0:v.api,o=((h=e.pageData)==null?void 0:h.method)??"GET",l=Fe(e);l!=null&&l.isBack&&delete l.isBack;let c=((p=t.checkboxConfig)==null?void 0:p.labelField)??"";c||(c=((_=t==null?void 0:t.rowConfig)==null?void 0:_.keyField)??"id");const i=y({method:o,params:{...l,[c]:a},data:{...l,[c]:a}});o==="GET"?delete i.value.data:delete i.value.params;const u=((C=e.message)==null?void 0:C.content)??"",d=((w=e.message)==null?void 0:w.title)??"",f=((S=e.message)==null?void 0:S.type)??"";if(!s){j("接口地址不存在");return}he(u,d,f).then(()=>{X(s,i.value).then(E=>{K((E==null?void 0:E.msg)??"操作成功"),n==null||n.commitProxy("reload")})})},as=(e,t,a,n)=>{var v,h,p,_,C,w,S,E;const s=(v=e.pageData)==null?void 0:v.api,o=((h=e.pageData)==null?void 0:h.method)??"GET";let l=((p=a.checkboxConfig)==null?void 0:p.labelField)??"";l||(l=((_=a==null?void 0:a.rowConfig)==null?void 0:_.keyField)??"id");const c=y({method:o,params:{...t},data:{...t}});o==="GET"?delete c.value.data:delete c.value.params;const i=((C=e.message)==null?void 0:C.content)??"",u=((w=e.message)==null?void 0:w.title)??"",d=((S=e.message)==null?void 0:S.type)??"",f=((E=e.message)==null?void 0:E.loading)??"正在处理中";if(!s){j("接口地址不存在");return}he(i,u,d).then(()=>{const P=Jt(f);X(s,c.value).then(g=>{K((g==null?void 0:g.msg)??"操作成功"),n==null||n.commitProxy("reload")}).finally(()=>{P.close()})})},os=(e,t,a)=>{var o,l,c;if(!(((o=e.message)==null?void 0:o.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.path){j("请提供远程组件地址");return}const s={file:((l=e.pageData)==null?void 0:l.path)||"",ajaxParams:((c=e.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ie.close(),a==null||a.commitProxy("reload")}};ne(Ke,s,{...e.message,beforeClose:(i,u,d)=>{d(),a==null||a.commitProxy("reload")}})},ns=(e,t,a,n)=>{var c,i,u,d,f,v;if(!(((c=e.message)==null?void 0:c.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.path){j("请提供远程组件地址");return}let o=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({file:(d=e.pageData)==null?void 0:d.path,ajaxParams:{[o]:a},"onUpdate:close":()=>{ie.close(),n==null||n.commitProxy("reload")}});((f=e.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...(v=e.pageData)==null?void 0:v.queryParams}),ne(Ke,l.value,{...e.message,beforeClose:(h,p,_)=>{_(),n==null||n.commitProxy("reload")}})},ss=(e,t,a,n)=>{var l,c;if(!(((l=e.message)==null?void 0:l.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.path){j("请提供远程组件地址");return}const o=y({file:(c=e.pageData)==null?void 0:c.path,ajaxParams:t,"onUpdate:close":()=>{ie.close(),n==null||n.commitProxy("reload")}});ne(Ke,o.value,{...e.message,beforeClose:(i,u,d)=>{d(),n==null||n.commitProxy("reload")}})},ls=(e,t,a)=>{var o,l,c,i;if(!(((o=e.message)==null?void 0:o.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供信息模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};ne(mt,s,{...e.message,beforeClose:(u,d,f)=>{f(),a==null||a.commitProxy("reload")}})},cs=(e,t,a,n)=>{var i,u,d,f,v,h;if(!(((i=e.message)==null?void 0:i.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}let o=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(f=e.pageData)==null?void 0:f.api,method:((v=e.pageData)==null?void 0:v.method)||"GET",ajaxParams:{[o]:a}}),c=((h=e==null?void 0:e.pageData)==null?void 0:h.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),ne(mt,l.value,{...e.message,beforeClose:(p,_,C)=>{C(),n==null||n.commitProxy("reload")}})},rs=(e,t,a,n)=>{var c,i,u,d,f;if(!(((c=e.message)==null?void 0:c.title)||"")){j("信息模态框标题不能为空");return}if(!e.pageData.api){j("请提供信息模态框接口");return}const o=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(f=o.value.ajaxParams)!=null&&f.isBack&&delete o.value.ajaxParams.isBack,ne(mt,o.value,{...e.message,beforeClose:(v,h,p)=>{p(),n==null||n.commitProxy("reload")}})},is=(e,t,a)=>{var o,l,c,i;if(!(((o=e.message)==null?void 0:o.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供表格模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};ne(ht,s,{...e.message,beforeClose:(u,d,f)=>{f(),a==null||a.commitProxy("reload")}})},us=(e,t,a,n)=>{var c,i,u,d,f,v,h;if(!(((c=e.message)==null?void 0:c.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}let o=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((f=e.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[o]:a}});((v=e.pageData)==null?void 0:v.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(h=e.pageData)==null?void 0:h.queryParams}),ne(ht,l.value,{...e.message,beforeClose:(p,_,C)=>{C(),n==null||n.commitProxy("reload")}})},ds=(e,t,a,n)=>{var c,i,u,d;if(!(((c=e.message)==null?void 0:c.title)||"")){j("模态框标题不能为空");return}if(!e.pageData.api){j("请提供模态框接口");return}const o=y({api:(i=e.pageData)==null?void 0:i.api,method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e==null?void 0:e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),ne(ht,o.value,{...e.message,beforeClose:(f,v,h)=>{h(),n==null||n.commitProxy("reload")}})},ps=(e,t,a,n)=>{},ms=(e,t,a)=>{var n;switch((n=t.pageData)==null?void 0:n.type){case"page":Wn(t);break;case"link":Qn(t);break;case"down":break;case"confirm":es(t,e,a);break;case"modal":Kn(t,e,a);break;case"info":ls(t,e,a);break;case"table":is(t,e,a);break;case"remote":os(t,e,a);break;default:j("按钮类型错误");break}},_s=(e,t,a)=>{var c,i,u,d;const n=(c=e.columns)==null?void 0:c.filter(f=>f.type==="checkbox");if(!(n!=null&&n.length)){j("请先开启批量操作");return}const s=(a==null?void 0:a.getCheckboxRecords())??[];if(s.length<=0){j("请选择数据");return}let o=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((u=e==null?void 0:e.rowConfig)==null?void 0:u.keyField)??"id");const l=s.map(f=>f[o]);switch((d=t.pageData)==null?void 0:d.type){case"link":Zn(t,e,l);break;case"down":break;case"confirm":ts(t,e,l,a);break;case"remote":ns(t,e,l,a);break;case"modal":Gn(t,e,l,a);break;case"info":cs(t,e,l,a);break;case"table":us(t,e,l,a);break;default:j("按钮类型错误");break}},Dt=(e,t,a,n,s)=>{var c,i;if(!n){j("行参数出错");return}const o=y({}),l=((c=t.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(o.value={...l}),o.value={...o.value,...Hn(t,a,n,e)},(i=t.pageData)==null?void 0:i.type){case"page":Xn(t,o.value);break;case"link":Jn(t,o.value);break;case"down":ps(t,o.value);break;case"confirm":as(t,o.value,e,s);break;case"modal":Yn(t,o.value,e,s);break;case"info":rs(t,o.value,e,s);break;case"table":ds(t,o.value,e,s);break;case"remote":ss(t,o.value,e,s);break;default:j("按钮类型错误");break}};const fs=()=>{const e=_e(),t=Ve(),a=(e==null?void 0:e.routeList)??[],n=[];for(const s of a){const o=`${t}${s.path}`;n.push(o)}return n},ft=e=>{const t=fs();return Ue(e,t)},hs={class:"button-group"},vs={class:"pr-1"},gs={class:"no-group-buttons"},ys=A({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(e){var h;const t=e,a=V(()=>{var p;return((p=t.column.params)==null?void 0:p.buttonGroupIcon)??"Operation"}),n=V(()=>{var p;return((p=t.column.params)==null?void 0:p.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},o=y(((h=t.column.params)==null?void 0:h.buttonStyle)??s),l=V(()=>t.rightButtonList.filter(p=>{var C,w,S,E,P,g,D,q,H,Y;const _=((C=p.pageData)==null?void 0:C.group)||((w=t.column.params)==null?void 0:w.group);return(E=(S=p.pageData)==null?void 0:S.params)!=null&&E.field&&((g=(P=p.pageData)==null?void 0:P.params)!=null&&g.value)&&_?(t.row[(q=(D=p.pageData)==null?void 0:D.params)==null?void 0:q.field]||"")===((Y=(H=p.pageData)==null?void 0:H.params)==null?void 0:Y.value):_})),c=V(()=>t.rightButtonList.filter(p=>{var _;return!((_=p.pageData)!=null&&_.group)})),i=V(()=>{var p;return((p=t.column.params)==null?void 0:p.groupText)||"更多"}),u=V(()=>p=>{var P,g,D,q,H,Y,ae;const _=((P=p.pageData)==null?void 0:P.api)??"";if(!ft(_))return!1;const C=((D=(g=p==null?void 0:p.pageData)==null?void 0:g.params)==null?void 0:D.where)??"",w=(H=(q=p==null?void 0:p.pageData)==null?void 0:q.params)==null?void 0:H.field,S=(ae=(Y=p==null?void 0:p.pageData)==null?void 0:Y.params)==null?void 0:ae.value;if(w===void 0&&S===void 0)return!0;if(w===void 0||w===""||w&&(S===void 0||S===""))return!1;const E=t.row[w];switch(C){case"!=":return S!==E;case"in":return S instanceof Array&&Ue(E,S);case"notIn":return S instanceof Array&&!Ue(E,S);default:return S===E}}),d=V(()=>p=>{const _={...p};return _!=null&&_.icon&&delete _.icon,_}),f=p=>{Dt(t.gridConfig,p,t.column,t.row,t.xGrid)},v=p=>{Dt(t.gridConfig,p,t.column,t.row,t.xGrid)};return(p,_)=>{const C=J,w=B("el-button"),S=B("el-dropdown-item"),E=B("el-dropdown-menu"),P=B("el-dropdown");return m(),k("div",hs,[r(l).length?(m(),I(P,{key:0,class:"mr-2",onCommand:f},{dropdown:$(()=>[x(E,null,{default:$(()=>[(m(!0),k(F,null,G(r(l),(g,D)=>(m(),k(F,{key:D},[r(u)(g)?(m(),I(S,{key:0,command:g},{default:$(()=>{var q,H,Y;return[(q=g==null?void 0:g.button)!=null&&q.icon?(m(),I(C,{key:0,icon:(H=g==null?void 0:g.button)==null?void 0:H.icon,type:(Y=g==null?void 0:g.button)==null?void 0:Y.iconType},null,8,["icon","type"])):T("",!0),b("span",null,M(g.title),1)]}),_:2},1032,["command"])):T("",!0)],64))),128))]),_:1})]),default:$(()=>[x(w,O({type:"danger"},r(o)),{default:$(()=>[b("span",vs,M(r(i)),1),r(a)?(m(),I(C,{key:0,icon:r(a),type:r(n)},null,8,["icon","type"])):T("",!0)]),_:1},16)]),_:1})):T("",!0),b("div",gs,[(m(!0),k(F,null,G(r(c),(g,D)=>{var q;return Ft((m(),k("div",{key:D,class:"item"},[(m(),I(w,O({key:D},r(d)((g==null?void 0:g.button)??{}),{onClick:H=>v(g)}),Qe({default:$(()=>[L(" "+M(g.title),1)]),_:2},[(q=g==null?void 0:g.button)!=null&&q.icon?{name:"icon",fn:$(()=>{var H,Y,ae;return[(H=g==null?void 0:g.button)!=null&&H.icon?(m(),I(C,{key:0,icon:(Y=g==null?void 0:g.button)==null?void 0:Y.icon,type:((ae=g==null?void 0:g.button)==null?void 0:ae.iconType)??""},null,8,["icon","type"])):T("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Ot,r(u)(g)]])}),128))])])}}});const xs=U(ys,[["__scopeId","data-v-f5cb3161"]]),ks={class:"flex space-x-2"},ws=A({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(e){const t=e,a=V(()=>t.topButtonList.filter(s=>{var o;return!((o=s.pageData)!=null&&o.group)})),n=V(()=>s=>{var l;const o=((l=s.pageData)==null?void 0:l.api)??"";return!!ft(o)});return(s,o)=>{const l=J,c=Je,i=B("el-space");return m(),k("div",ks,[r(a).length?(m(),I(i,{key:0},{default:$(()=>[(m(!0),k(F,null,G(r(a),(u,d)=>{var f;return m(),k(F,null,[r(n)(u)?(m(),I(c,O({key:d,type:"primary"},(u==null?void 0:u.button)??{},{onClick:v=>r(ms)(t.gridConfig,u,s.xGrid)}),Qe({default:$(()=>[L(" "+M(u.title),1)]),_:2},[(f=u==null?void 0:u.button)!=null&&f.icon?{name:"icon",fn:$(()=>{var v,h;return[x(l,{icon:(v=u==null?void 0:u.button)==null?void 0:v.icon,type:(h=u==null?void 0:u.button)==null?void 0:h.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):T("",!0)],64)}),256))]),_:1})):T("",!0)])}}}),bs={class:"flex space-x-2"},Ps=A({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(e){const t=e,a=V(()=>{var o;return((o=t.selectButtonList)==null?void 0:o.filter(l=>{var c;return!((c=l.pageData)!=null&&c.group)}))||[]}),n=V(()=>o=>{const l={...o};return l!=null&&l.icon&&delete l.icon,l}),s=V(()=>o=>{var c;const l=((c=o.pageData)==null?void 0:c.api)??"";return!!ft(l)});return(o,l)=>{const c=J,i=Je,u=B("el-space");return m(),k("div",bs,[r(a).length?(m(),I(u,{key:0},{default:$(()=>[(m(!0),k(F,null,G(r(a),(d,f)=>{var v;return m(),k(F,null,[r(s)(d)?(m(),I(i,O({key:f,type:"primary"},r(n)((d==null?void 0:d.button)??{}),{onClick:h=>r(_s)(t.gridConfig,d,o.xGrid)}),Qe({default:$(()=>[L(" "+M(d.title),1)]),_:2},[(v=d==null?void 0:d.button)!=null&&v.icon?{name:"icon",fn:$(()=>{var h,p;return[x(c,{icon:(h=d==null?void 0:d.button)==null?void 0:h.icon,type:(p=d==null?void 0:d.button)==null?void 0:p.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):T("",!0)],64)}),256))]),_:1})):T("",!0)])}}}),Cs={class:"flex space-x-3"},$s={key:1,class:"flex space-x-1"},Ds=A({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(e){const t=de();return(a,n)=>{var o,l,c;const s=Je;return m(),k("div",Cs,[(o=r(t).query)!=null&&o.isBack?(m(),I(s,{key:0,type:"primary",onClick:r(We)},{default:$(()=>[L(" 返回 ")]),_:1},8,["onClick"])):T("",!0),a.topButtonList.length||(l=a.selectButtonList)!=null&&l.length?(m(),k("div",$s,[a.topButtonList.length?(m(),I(ws,N(O({key:0},{xGrid:a.xGrid,gridConfig:a.gridConfig,topButtonList:a.topButtonList})),null,16)):T("",!0),(c=a.selectButtonList)!=null&&c.length?(m(),I(Ps,N(O({key:1},{xGrid:a.xGrid,gridConfig:a.gridConfig,selectButtonList:a.selectButtonList})),null,16)):T("",!0)])):T("",!0)])}}}),Is=e=>(xe("data-v-c11e2f2f"),e=e(),ke(),e),js=Is(()=>b("div",null,null,-1)),As={class:"assets-container"},Ss={class:"item"},Vs=["src"],Es=["src"],Bs=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,a="",n=V(()=>{var o,l;return((l=(o=t.column)==null?void 0:o.params)==null?void 0:l.resource)??[]}),s=V(()=>ee(t.column,t.row));return(o,l)=>{const c=J,i=B("el-tooltip");return m(),k(F,null,[js,b("div",As,[(m(!0),k(F,null,G(r(n),(u,d)=>(m(),I(i,{key:d,show:u==null?void 0:u.isUpdate,trigger:"hover",placement:"top"},{content:$(()=>[L(M((u==null?void 0:u.title)??"错误"),1)]),default:$(()=>[b("div",Ss,[(u==null?void 0:u.type)==="url"&&r(vt)(u==null?void 0:u.icon)?(m(),k("img",{key:0,class:"logo",src:u==null?void 0:u.icon},null,8,Vs)):(u==null?void 0:u.type)==="path"?(m(),k("img",{key:1,class:"logo",src:`${r(a)}${u==null?void 0:u.icon}`},null,8,Es)):(m(),I(c,{key:2,icon:u.icon},null,8,["icon"])),b("span",null,M(r(s)[u.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const Ts=U(Bs,[["__scopeId","data-v-c11e2f2f"]]),Rs=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,o;const t=e,a=V(()=>ee(t.column,t.row)),n=y(((o=(s=t.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l,c)=>{const i=J;return m(),I(i,O({icon:r(a)},r(n)),null,16,["icon"])}}}),Us={class:"xh-image-error"},Ms=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,o,l,c;const t=e,a=V(()=>ee(t.column,t.row)),n=y(((o=(s=t.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l=n.value)!=null&&l.style||(n.value.style={width:"30px",height:"30px"}),(c=n.value)!=null&&c.preview&&(n.value.previewSrcList=[a.value],delete n.value.preview),(i,u)=>{const d=J,f=B("el-image");return m(),I(f,O(r(n),{src:r(a),class:"xh-table-image"}),{error:$(()=>[b("div",Us,[x(d,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const Ls=U(Ms,[["__scopeId","data-v-2e6bc660"]]),Fs=e=>(xe("data-v-257b233b"),e=e(),ke(),e),Os={class:"xh-image-error"},qs=Fs(()=>b("span",null,"加载失败",-1)),zs=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var l,c,i;const t=e,a=V(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),n=V(()=>{const u=ee(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=V(()=>{const u=ee(t.column,t.row);return u instanceof Array&&u.length>0?u:[]}),o=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=o.value)!=null&&i.style||(o.value.style={width:"30px",height:"30px"}),(u,d)=>{const f=J,v=B("el-image");return m(!0),k(F,null,G(r(s),(h,p)=>(m(),I(v,O(r(o),{key:p,src:h==null?void 0:h.url,"preview-src-list":r(a)?[]:r(n)}),{error:$(()=>[b("div",Os,[x(f,{icon:"Picture",type:"element"}),qs])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Ns=U(zs,[["__scopeId","data-v-257b233b"]]),Hs=e=>(xe("data-v-50a2462d"),e=e(),ke(),e),Ws={class:"xh-image-error"},Xs=Hs(()=>b("span",null,"加载失败",-1)),Qs=A({__name:"index",props:{column:{},row:{}},setup(e){var l,c,i;const t=e,a=V(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),n=V(()=>{const u=ee(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=V(()=>{const u=ee(t.column,t.row);return u instanceof Array&&u.length>0?u[0]:[]}),o=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=o.value)!=null&&i.style||(o.value.style={width:"30px",height:"30px"}),(u,d)=>{var h;const f=J,v=B("el-image");return m(),I(v,O(r(o),{src:(h=r(s))==null?void 0:h.url,"preview-src-list":r(a)?[]:r(n)}),{error:$(()=>[b("div",Ws,[x(f,{icon:"Picture",type:"element"}),Xs])]),_:1},16,["src","preview-src-list"])}}});const Zs=U(Qs,[["__scopeId","data-v-50a2462d"]]),Js=A({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(e){const t=e;we(n=>({"564a0163":r(a)}));const a=V(()=>t.isBorder?t.border:"");return(n,s)=>{const o=B("el-input");return m(),I(o,{class:me({"xh-input":n.isBorder})},null,8,["class"])}}});const Ks=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l,c;const t=e,a=V(()=>ee(t.column,t.row)),n=y(""),s=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{}),o=i=>{var h,p,_,C;const u=ve("rowEdit",!0),d=((h=t.column.params)==null?void 0:h.api)??u,f=((_=(p=t.gridConfig)==null?void 0:p.rowConfig)==null?void 0:_.keyField)??"id",v={[f]:t.row[f],keyField:f,field:(C=t.column)==null?void 0:C.field,value:i};Se(d,v,t.xGrid)};return(i,u)=>{const d=Js;return m(),I(d,O({modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=f=>se(n)?n.value=f:null),value:r(a),placeholder:"请输入"},r(s),{"is-border":!0,onChange:o}),null,16,["modelValue","value"])}}}),Gs=A({__name:"index",setup(e){return(t,a)=>{const n=B("el-input-number");return m(),I(n)}}}),Ys=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var c,i;const t=e,a=V(()=>ee(t.column,t.row)),n=V(()=>{var u;return((u=t.column.params)==null?void 0:u.isMessage)??!1}),s=y(a),o=y(((i=(c=t.column)==null?void 0:c.params)==null?void 0:i.props)??{}),l=u=>{var p,_,C,w;const d=ve("rowEdit",!0),f=((p=t.column.params)==null?void 0:p.api)??d,v=((C=(_=t.gridConfig)==null?void 0:_.rowConfig)==null?void 0:C.keyField)??"id",h={[v]:t.row[v],keyField:v,field:(w=t.column)==null?void 0:w.field,value:u};Se(f,h,t.xGrid,n.value)};return(u,d)=>{const f=Gs;return m(),I(f,O({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=v=>se(s)?s.value=v:null),value:r(a)},r(o),{onChange:l}),null,16,["modelValue","value"])}}}),el=A({__name:"index",props:{column:{},row:{}},setup(e){const t=e,a=V(()=>{var l;const o=((l=t.column)==null?void 0:l.params)??{};return o!=null&&o.type||delete o.type,o}),n=V(()=>{var o,l;return((l=(o=t.column)==null?void 0:o.params)==null?void 0:l.format)??"￥"}),s=V(()=>ee(t.column,t.row));return(o,l)=>(m(),k("div",N(Z(r(a))),M(r(n))+M(r(wt).commafy(r(wt).toNumber(r(s)),{digits:2})),17))}}),Kt={vue:null},tl=(e,t,a)=>ie.alert(e,{confirmButtonText:"确定",type:t,...a}),al=(e,t,a)=>{Ma({message:e,type:t,...a})},ol=(e,t,a)=>ie({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...a,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Xe(Ke,{file:e,ajaxParams:t,"onUpdate:close":()=>{ie.close()}})}),nl=(e,t)=>{La.render(e).then(a=>{const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.setAttribute("id",`css${t}`),n.styleSheet)n.styleSheet.cssText=a.css;else{const o=document.createTextNode(a.css);n.appendChild(o)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(n):document.documentElement.appendChild(n)})},sl=e=>({templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:e.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),ll=()=>{const e=Kt.vue,t=rt(),a=de(),n=_e(),s=Q(),o=Ve();e.config.globalProperties.$moduleName=o,e.config.globalProperties.$userApp=n,e.config.globalProperties.$siteApp=s,e.config.globalProperties.$routeApp=a,e.config.globalProperties.$routerApp=t,e.config.globalProperties.$axios=Dn,e.config.globalProperties.$http={useGet:fe,usePost:ye,usePut:Ne,useDelete:He},e.config.globalProperties.$useGet=fe,e.config.globalProperties.$usePost=ye,e.config.globalProperties.$usePut=Ne,e.config.globalProperties.$useDelete=He,e.config.globalProperties.$echarts=Fa,e.config.globalProperties.$useKeyCodeEvent=Dr,e.component("XRemote")===void 0&&e.component("XRemote",le),e.component("AppIcons")===void 0&&e.component("AppIcons",J),e.config.globalProperties.$useAlert=tl,e.config.globalProperties.$useConfirm=he,e.config.globalProperties.$useMessage=al,e.config.globalProperties.$useNotify=Te,e.config.globalProperties.$useLoading=Jt,e.config.globalProperties.$useRemote=ol},cl={key:1,class:"remote-fail"},rl=A({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(e,{emit:t}){const a=e,n=Oa(),s=y(a.isApi),o=y(a.file),l=y(),c=y({status:"",content:""}),i=y(""),u=y(at()),d=(E,P,g)=>{const D=sl(P),q=D.sctipts.indexOf("{"),H=D.sctipts.lastIndexOf("}"),Y=D.sctipts.slice(q,H+1),ae=new Function(`return ${Y}`)();if(!ae){c.value.status="code",c.value.content="远程组件代码格式解析失败";return}if(ae.template=D==null?void 0:D.templates,E.setAttribute("class",`remote css${g}`),!document.querySelector(`style[id=css${g}]`)){let Ee="";D.stylesHasScoped?Ee=`
            .css${g}{
                ${D.styles}
            }
        `:Ee=D.styles,nl(Ee,g)}return ll(),ae},f=V(()=>{if(c.value.status==="config"){c.value.content="请先配置远程文件";return}if(!i.value){c.value.content="正在加载中...";return}if(i.value==="fail"){c.value.content="远程组件加载失败";return}return d(l.value,i.value,u.value)}),v=E=>{t("update:modelValue",E)},h=()=>{const E=Date.now(),P=`${o.value}.vue?t=${E}`;fe(P).then(g=>{i.value=g,c.value.status="success",t("update:init",g)}).catch(g=>{c.value.content=(g==null?void 0:g.msg)||"远程组件加载失败",c.value.status="fail",t("update:error",g),console.error(g)})},p=()=>{const E=y({});a.ajaxParams&&(E.value={...a.ajaxParams}),fe(o.value,E.value).then(P=>{i.value=P==null?void 0:P.data,c.value.status="success",t("update:init",P==null?void 0:P.data)}).catch(P=>{c.value.content=(P==null?void 0:P.msg)||"远程组件加载失败",c.value.status="fail",t("update:error",P),console.error(P)})},_=()=>{if(!o.value){c.value.status="config",c.value.content="请先配置远程文件";return}c.value.status="loading",s.value?p():h()},C=E=>{s.value=!1,o.value=E,u.value=at(),_()},w=()=>{u.value=at(),_()},S=()=>{a!=null&&a.isModal&&t("update:close")};return ue(()=>_()),(E,P)=>{const g=B("el-empty");return m(),k("div",{ref_key:"remoteRef",ref:l,class:"h-100%"},[r(c).status==="success"?(m(),I(Tt(r(f)),O({key:0},{...r(n),...E.ajaxParams},{"onUpdate:modelValue":v,"onUpdate:openWin":C,"onUpdate:reloadWin":w,"onUpdate:closeWin":S}),null,16)):(m(),k("div",cl,[x(g,{description:r(c).content},null,8,["description"])]))],512)}}});const le=U(rl,[["__scopeId","data-v-f1e2dbde"]]),il=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l;const t=e,a=V(()=>{var c,i;return(i=(c=t.column)==null?void 0:c.params)==null?void 0:i.file}),n=((l=t.column)==null?void 0:l.field)??"",s=V(()=>ee(t.column,t.row)),o=c=>{var v,h,p,_;const i=ve("rowEdit",!0),u=((v=t.column.params)==null?void 0:v.api)??i,d=((p=(h=t.gridConfig)==null?void 0:h.rowConfig)==null?void 0:p.keyField)??"id",f={[d]:t.row[d],keyField:d,field:(_=t.column)==null?void 0:_.field,value:c};Se(u,f,t.xGrid)};return(c,i)=>{const u=le;return m(),I(u,O({modelValue:r(s),"onUpdate:modelValue":i[0]||(i[0]=d=>se(s)?s.value=d:null),file:r(a)},{column:c.column,field:r(n),row:c.row},{"onUpdate:value":o}),null,16,["modelValue","file"])}}}),ul={key:0,class:"tabs-container"},dl={class:"tabs-list"},pl=["onClick"],ml={class:"pl-1"},_l=A({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(e){var i;const t=e,a=de(),n=rt(),s=((i=t.tabsConfig)==null?void 0:i.field)??"",o=a==null?void 0:a.query[s],l=V(()=>{var u;return o??((u=t.tabsConfig)==null?void 0:u.active)}),c=u=>{n.push({query:{[s]:u.value}})};return(u,d)=>{var h,p;const f=J,v=B("el-space");return(p=(h=u.tabsConfig)==null?void 0:h.list)!=null&&p.length?(m(),k("div",ul,[b("div",dl,[x(v,null,{default:$(()=>[(m(!0),k(F,null,G(u.tabsConfig.list,(_,C)=>(m(),k("div",{key:C,class:me(["item",{active:r(l)===(_==null?void 0:_.value)}]),onClick:w=>c(_)},[_!=null&&_.icon?(m(),I(f,{key:0,icon:_==null?void 0:_.icon},null,8,["icon"])):T("",!0),b("span",ml,M((_==null?void 0:_.label)??"错误"),1)],10,pl))),128))]),_:1})])])):T("",!0)}}});const fl=U(_l,[["__scopeId","data-v-ae382a3c"]]),hl=A({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(e){const t=rt(),a=de(),n=s=>{t.push({path:a.fullPath,query:{...a.query,...s.data}})};return(s,o)=>{var c;const l=B("vxeForm");return m(),I(l,{items:s.formScreen.items,data:(c=s.formScreen)==null?void 0:c.data,onSubmit:n},null,8,["items","data"])}}}),vl=A({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(e){return(t,a)=>{var s,o;const n=le;return m(),I(n,O({file:((s=t.formRemote)==null?void 0:s.file)||""},{ajaxParams:(o=t.formRemote)==null?void 0:o.ajaxParams}),null,16,["file"])}}}),gl={class:"form-tabs-container"},yl=A({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(e){return(t,a)=>{var l,c,i,u;const n=vl,s=hl,o=fl;return m(),k("div",gl,[(l=t.formRemote)!=null&&l.file?(m(),I(n,N(O({key:0},{gridConfig:t.gridConfig,formRemote:t.formRemote,xGrid:t.xGrid})),null,16)):T("",!0),(c=t.formScreen)!=null&&c.data?(m(),I(s,N(O({key:1},{gridConfig:t.gridConfig,formScreen:t.formScreen,xGrid:t.xGrid})),null,16)):T("",!0),(u=(i=t.tabsConfig)==null?void 0:i.list)!=null&&u.length?(m(),I(o,N(O({key:2},{gridConfig:t.gridConfig,tabsConfig:t.tabsConfig,xGrid:t.xGrid})),null,16)):T("",!0)])}}});const xl=U(yl,[["__scopeId","data-v-4bb9ed66"]]),kl=["innerHTML"],wl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var s,o;const t=e,a=V(()=>ee(t.column,t.row)),n=y(((o=(s=t.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l,c)=>(m(),k("div",O(r(n),{innerHTML:r(a)}),null,16,kl))}}),bl=A({__name:"index",props:{options:{},value:{default:""}},setup(e){const t=e,a=V(()=>t.value);return(n,s)=>{const o=B("el-option"),l=B("el-select");return m(),I(l,{modelValue:r(a),"onUpdate:modelValue":s[0]||(s[0]=c=>se(a)?a.value=c:null),placeholder:"请选择"},{default:$(()=>[(m(!0),k(F,null,G(n.options,c=>(m(),I(o,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),Pl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var o;const t=e,a=V(()=>ee(t.column,t.row)),n=y(((o=t.column)==null?void 0:o.params)??{}),s=l=>{var f,v,h,p;const c=ve("rowEdit",!0),i=((f=t.column.params)==null?void 0:f.api)??c,u=((h=(v=t.gridConfig)==null?void 0:v.rowConfig)==null?void 0:h.keyField)??"id",d={[u]:t.row[u],keyField:u,field:(p=t.column)==null?void 0:p.field,value:l};Se(i,d,t.xGrid)};return(l,c)=>{var u,d;const i=bl;return(d=(u=r(n))==null?void 0:u.options)!=null&&d.length?(m(),I(i,O({key:0,value:r(a)},r(n),{onChange:s}),null,16,["value"])):T("",!0)}}}),Cl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,a=V(()=>ee(t.column,t.row)),n=s=>{var u,d,f,v;const o=ve("rowEdit",!0),l=((u=t.column.params)==null?void 0:u.api)??o,c=((f=(d=t.gridConfig)==null?void 0:d.rowConfig)==null?void 0:f.keyField)??"id",i={[c]:t.row[c],keyField:c,field:(v=t.column)==null?void 0:v.field,value:s};Se(l,i,t.xGrid)};return(s,o)=>{var c,i,u,d,f,v,h,p,_,C,w,S,E,P,g,D,q,H;const l=B("el-switch");return m(),I(l,{modelValue:r(a),"onUpdate:modelValue":o[0]||(o[0]=Y=>se(a)?a.value=Y:null),"active-action-icon":((u=(i=(c=s.column)==null?void 0:c.params)==null?void 0:i.checked)==null?void 0:u.icon)??"","active-text":(v=(f=(d=s.column)==null?void 0:d.params)==null?void 0:f.checked)==null?void 0:v.text,"active-value":(_=(p=(h=s.column)==null?void 0:h.params)==null?void 0:p.checked)==null?void 0:_.value,"inactive-action-icon":((S=(w=(C=s.column)==null?void 0:C.params)==null?void 0:w.unchecked)==null?void 0:S.icon)??"","inactive-text":(g=(P=(E=s.column)==null?void 0:E.params)==null?void 0:P.unchecked)==null?void 0:g.text,"inactive-value":(H=(q=(D=s.column)==null?void 0:D.params)==null?void 0:q.unchecked)==null?void 0:H.value,"inline-prompt":"",onChange:n},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),$l=A({__name:"index",props:{column:{},row:{}},setup(e){const t=e,a=V(()=>ee(t.column,t.row)),n=V(()=>{var o;return(o=t.column.params)!=null&&o.options?t.column.params.options[a.value]||"标签错误":"选项错误"}),s=V(()=>{var c;const o=y({style:{},...t.column.params??{}});(c=o.value)!=null&&c.type&&delete o.value.type;const l=V(()=>{var i,u;if((i=t.column.params)!=null&&i.style)return((u=t.column.params)==null?void 0:u.style[a.value])||void 0});return o.value.style=l.value,o.value});return(o,l)=>{const c=B("el-tag");return m(),I(c,N(Z(r(s).style)),{default:$(()=>[L(M(r(n)),1)]),_:1},16)}}}),Dl={class:"flex"},Il=["href","target"],jl=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var o,l;const t=e,a=V(()=>ee(t.column,t.row)),n=y(((l=(o=t.column)==null?void 0:o.params)==null?void 0:l.props)??{}),s=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(a.value).then(c=>{});else{const c=document.createElement("input");c.value=a.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}K("链接复制成功")};return(c,i)=>{var f;const u=J,d=B("el-button");return m(),k("div",Dl,[b("a",{href:r(a),target:r(n).target??"_blank"},M(r(n).text?r(n).text:r(a)),9,Il),(f=r(n))!=null&&f.copy?(m(),I(d,{key:0,type:"primary",size:"small",text:"",onClick:s},{icon:$(()=>[x(u,{icon:"CopyDocument",size:14})]),default:$(()=>[L(" 复制 ")]),_:1})):T("",!0)])}}}),Al=(e,t,a,n)=>{if(t.length<=0){j("请先导入数据");return}if(!e){j("请设置导入API接口");return}ye(e,{import:a,data:t}).then(o=>{var l;(l=n.xGrid)==null||l.commitProxy("query"),K((o==null?void 0:o.msg)??"操作成功")})},Sl=e=>{$e.commands.add("importAllData",{commandMethod:t=>{var o;const{$table:a}=t,n=a==null?void 0:a.getTableData(),s=n==null?void 0:n.fullData;Al(((o=e.vxeTableConfig.importConfig)==null?void 0:o.api)??"",s,"all",e)}})},Vl=b("div",null,"子数据",-1),Gt=A({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const a=e,n=y(),s=y(),o=y(),l=y(),c=y([]),i=y([]),u=y([]),d=async()=>{const v=y({method:a.method,params:{},data:{}});a.ajaxParams&&(a.method==="GET"?v.value.params=a.ajaxParams:v.value.data=a.ajaxParams),t("update:init",v.value);const h=`${a.api}Table`;return await X(h,v.value).then(p=>{const _=p.data;o.value=_==null?void 0:_.realTable,l.value=_==null?void 0:_.tabsConfig,s.value=qn(a.api,a.method,_.tableConfig,a.ajaxParams,n.value),c.value=_.topButtonList,i.value=_.rightButtonList,u.value=_.selectButtonList,Sl({xGrid:n.value,vxeTableConfig:s.value}),t("update:init-ok",_)}).catch(p=>{t("update:init-error",p)})},f=()=>{var v,h,p;if((v=o.value)!=null&&v.enable&&((h=o.value)!=null&&h.time_interval)){const _=((p=o.value)==null?void 0:p.time_interval)*1e3;setInterval(()=>{var C;(C=n.value)==null||C.commitProxy("reload")},_)}};return ue(async()=>{await d(),await f()}),(v,h)=>{var _,C,w,S,E;const p=B("vxe-grid");return(_=r(s))!=null&&_.id?(m(),I(p,O({key:0,ref_key:"xGrid",ref:n,class:"xh-table"},r(s),{onEditClosed:h[0]||(h[0]=({column:P,row:g})=>r(zn)(P,g,r(s),r(n)))}),Qe({topButtonList:$(({$grid:P})=>[x(r(Ds),N(Z({gridConfig:r(s),topButtonList:r(c),selectButtonList:r(u),xGrid:P})),null,16)]),rightButtonList:$(({row:P,column:g,$grid:D})=>[x(r(xs),N(Z({gridConfig:r(s),rightButtonList:r(i),row:P,column:g,xGrid:D})),null,16)]),childrenData:$(()=>[Vl]),html:$(({row:P,column:g,$grid:D})=>[x(r(wl),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),remote:$(({row:P,column:g,$grid:D})=>[x(r(il),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),tags:$(({row:P,column:g,$grid:D})=>[x(r($l),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),link:$(({row:P,column:g,$grid:D})=>[x(r(jl),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),input:$(({row:P,column:g,$grid:D})=>[x(r(Ks),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),InputNumber:$(({row:P,column:g,$grid:D})=>[x(r(Ys),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),assets:$(({row:P,column:g,$grid:D})=>[x(r(Ts),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),money:$(({row:P,column:g,$grid:D})=>[x(r(el),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),image:$(({row:P,column:g,$grid:D})=>[x(r(Ls),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),images:$(({row:P,column:g,$grid:D})=>[x(r(Ns),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),photos:$(({row:P,column:g,$grid:D})=>[x(r(Zs),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),icons:$(({row:P,column:g,$grid:D})=>[x(r(Rs),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),switch:$(({row:P,column:g,$grid:D})=>[x(r(Cl),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),select:$(({row:P,column:g,$grid:D})=>[x(r(Pl),N(Z({gridConfig:r(s),row:P,column:g,xGrid:D})),null,16)]),_:2},[(w=(C=r(s))==null?void 0:C.screenRemote)!=null&&w.file||(E=(S=r(l))==null?void 0:S.list)!=null&&E.length?{name:"form",fn:$(({$grid:P})=>{var g,D,q;return[x(r(xl),N(Z({gridConfig:r(s),xGrid:P,formScreen:{...(g=r(s))==null?void 0:g.formConfig,screenConfig:(D=r(s))==null?void 0:D.screenConfig},formRemote:(q=r(s))==null?void 0:q.screenRemote,tabsConfig:r(l)})),null,16)]}),key:"0"}:void 0]),1040)):T("",!0)}}}),El={class:"xhadmin-table-pro"},Bl=A({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(e){return(t,a)=>(m(),k("div",El,[x(r(Gt),{api:t.api,method:t.method,"ajax-params":t.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const ht=U(Bl,[["__scopeId","data-v-62ed6f04"]]),Tl={class:"xh-modal-container"},Rl=A({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(e,{emit:t}){const a=()=>{t("update:close")};return(n,s)=>(m(),k("div",Tl,[x(r(le),{file:n.file,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const Ke=U(Rl,[["__scopeId","data-v-523e3818"]]),Ul={class:"xhadmin-table-pro"},Ml=A({name:"/table"}),Ll=A({...Ml,setup(e){const t=de(),a=ve(),n=t.meta.method,s=t.query??{};return(o,l)=>(m(),k("div",Ul,[x(r(Gt),{api:r(a),method:r(n),"ajax-params":r(s)},null,8,["api","method","ajax-params"])]))}});const Fl=U(Ll,[["__scopeId","data-v-a39226b1"]]),Ol=e=>(xe("data-v-7ca0a0aa"),e=e(),ke(),e),ql={class:"xhadmin-page-pro"},zl={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Nl=Ol(()=>b("span",{class:"pl-1 text-[16px]"},"返回",-1)),Hl={key:0,class:"pl-20px text-[16px] select-none"},Wl={class:"form-pro flex-1"},Xl=A({name:"/form"}),Ql=A({...Xl,setup(e){const t=de(),a=y(),n=y(),s=ve(),o=t.meta.method,l={...t.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),i=y({submitBtn:{},resetBtn:{}}),u=p=>{var C;const _=(C=p==null?void 0:p.response)==null?void 0:C.extraConfig;i.value=_},d=()=>{a.value.submit()},f=()=>{a.value.reset(),K("数据重置完成")},v=()=>{n.value.setDisabled(!0)},h=()=>{n.value.setDisabled(!1)};return(p,_)=>{var w,S,E;const C=J;return m(),k("div",ql,[(w=r(t).query)!=null&&w.isBack?(m(),k("div",zl,[b("div",{class:"flex items-center cursor-pointer select-none",onClick:_[0]||(_[0]=(...P)=>r(We)&&r(We)(...P))},[x(C,{icon:"ArrowLeftOutlined",size:16}),Nl]),(S=r(t).meta)!=null&&S.title?(m(),k("div",Hl,M((E=r(t).meta)==null?void 0:E.title),1)):T("",!0)])):T("",!0),b("div",Wl,[x(r(pt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:r(s),method:r(o),"ajax-params":r(c),"onUpdate:initOk":u,"onUpdate:submit":v,"onUpdate:submitOk":h,"onUpdate:submitError":h,"onUpdate:restOk":h,"onUpdate:initError":h},null,8,["api","method","ajax-params"])]),x(r(Zt),{ref_key:"buttonRef",ref:n,class:"xh-buttons-pro","extra-config":r(i),"onUpdate:submit":d,"onUpdate:rest":f},null,8,["extra-config"])])}}});const Zl=U(Ql,[["__scopeId","data-v-7ca0a0aa"]]),Jl={class:"h-100%"},Kl=A({name:"remote"}),Gl=A({...Kl,setup(e){const a=de().meta.ajaxParams;return(n,s)=>(m(),k("div",Jl,[x(r(le),{file:r(a)},null,8,["file"])]))}}),Yl={};function ec(e,t){return m(),k("div",null," Html内容文件 ")}const tc=U(Yl,[["render",ec]]),ac={class:"h-100%"},oc=A({name:"remote"}),nc=A({...oc,setup(e){const t=ve();return(a,n)=>(m(),k("div",ac,[x(r(le),{file:r(t),"is-api":!0},null,8,["file"])]))}}),sc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Zl,htmlIndex:tc,remoteIndex:Gl,tableIndex:Fl,vueIndex:nc},Symbol.toStringTag,{value:"Module"})),et={routeView:()=>ge(()=>import("./index.5694c9ab.js"),["assets/js/index.5694c9ab.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"]),exceptionView:()=>ge(()=>import("./exception.a85aabe4.js"),["assets/js/exception.a85aabe4.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"])},lc=e=>{if(!e)return et.blankView;if(e in et)return et[e];const t=$r(e??"");return sc[t]},cc=e=>{for(const t of e){const a=t.remote,n=a.replace("/","_"),s=()=>Xe(le,{file:a});s.displayName=n;const o={path:t==null?void 0:t.path,name:n,component:s,meta:{title:(t==null?void 0:t.title)||"未知页面",path:(t==null?void 0:t.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};W.addRoute(o)}},rc=e=>{const t=[];for(const a of e)if(a.path){const n={path:`/${a.path}`,name:a.path.replace("/","_"),component:Mt(lc(a.component)),meta:{title:a.title,path:a.path,pid:a.pid,icon:a.icon,method:a.method,ajaxParams:a.auth_params},children:[]};(!n.children||n.children.length<1)&&delete n.children,t.push(n)}return t},Yt=new Map,ea=(e,t,a)=>{var o;const n=[];let s=[];t?s=e.filter(l=>(l==null?void 0:l.pid)===t):s=e.filter(l=>!l.pid);for(const l of s){const c=a?`${a}-${l.id}`:`${l.id}`;let i=`/${l.path}`;if(l!=null&&l.auth_params&&(l!=null&&l.auth_params.includes("group"))){const f=Ge(`?${l==null?void 0:l.auth_params}`);i+=`_group=${f==null?void 0:f.group}`}else l!=null&&l.auth_params&&(i+=`_${l==null?void 0:l.auth_params}`);Yt.set(i,c);const u={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:ea(e,l.id,c)},d=(o=u.children)==null?void 0:o.some(f=>f.show);u.show&&d&&(u.isGroup=!0),n.push(u)}return n},It=Yt,ic=y("OS");matchMedia("(prefers-color-scheme: dark)");function uc(){return{theme:ic}}const _e=qt("user",()=>{const e=Le(),t=y({...Pt}),a=y([]),n=y([]),s=y({...Ye}),o=p=>{if(!(p!=null&&p.menus)){j("用户信息缺少Menus字段参数");return}p.menus instanceof Array&&p.menus.length>0&&(a.value=rc(p.menus),n.value=ea(p.menus)),p!=null&&p.theme&&(s.value={...s.value,...p.theme}),t.value=p};return{layoutInfo:s,userInfo:t,Authorization:e,login:async p=>{var S,E,P,g;const C=(E=(S=Q().siteInfo)==null?void 0:S.public_api)==null?void 0:E.login;if(!C){j("请配置登录接口");return}const w=await ye(C,p);if((P=w==null?void 0:w.data)!=null&&P.token){let D=w==null?void 0:w.data.token;D.includes("Bearer")||(D=`Bearer ${D}`),e.value=D,K((w==null?void 0:w.msg)??"登录成功","温馨提示");const H=((g=W.currentRoute.value.query)==null?void 0:g.redirect)??w.data.url;W.push(H)}else j((w==null?void 0:w.msg)??"登录失败","温馨提示")},loginOut:()=>{he("是否确认退出登录？","温馨提示","error").then(()=>{e.value="",o({...Pt}),W.push(ze)})},getUserInfo:async()=>{var w;const _=(w=Q().siteInfo.public_api)==null?void 0:w.user;if(!_){j("请配置用户信息接口");return}const{data:C}=await fe(_);C&&o(C)},routeList:a,menuList:n,setTheme:p=>{s.value.theme=p,uc().theme.value=p},setLayout:p=>{s.value.layout=p},setLayoutMenu:p=>{s.value.layoutMenu=p},hanldCollapse:p=>{let _=0;p?_=Ye.sideWidth:_=s.value.sideMenuWidth,s.value.sideMenuCollapse=p,s.value.sideWidth=_},setLayoutMenuCollapse:()=>{let p=0,_=!1;s.value.sideMenuCollapse?(p=Ye.sideWidth,_=!1):(p=s.value.sideMenuWidth,_=!0),s.value.sideMenuCollapse=_,s.value.sideWidth=p}}}),dc={class:"xhadmin-menus-pro"},pc=["onClick"],mc={class:"text"},_c={key:0,class:"mask"},fc=A({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(e){const t=e;we(h=>({"06dafc47":r(c),"7812d3c6":r(l)}));const a=Pe(),n=Me(_e()).layoutInfo,s=V(()=>{var h;return((h=n.value)==null?void 0:h.layoutMenu)||"group"}),o=V(()=>{var h;return((h=n.value)==null?void 0:h.layoutTabsTheme)||"radius"}),l=V(()=>`${t.sideMenuWidth}px`),c=V(()=>`${t.sideWidth}px`),i=y(""),u=y(""),d=h=>{i.value=h;const p=i.value.split("-");u.value=p[0]},f=h=>{var C;const p=h[0],_=(C=p==null?void 0:p.children)==null?void 0:C.find(w=>w.show===!0);return p!=null&&p.children&&_?f((p==null?void 0:p.children)??[]):p},v=h=>{var P;const p=(P=h==null?void 0:h.children)==null?void 0:P.find(g=>g.show===!0);let _=h;h!=null&&h.children&&p&&(_=f((h==null?void 0:h.children)??[]));const C=_.path,w=y({});_.ajaxParams&&(w.value=Ge(_.ajaxParams));const S=_.activeId;d(S);let E={...w.value};a.value&&(E={...E,appid:a.value}),oe(`/${C}`,E)};return ue(()=>{d(t.active)}),(h,p)=>{const _=J,C=B("el-menu");return m(),k("div",dc,[(m(!0),k(F,null,G(h.menus,w=>(m(),k("div",{key:w.id,class:"item"},[w.show?(m(),k("div",{key:0,class:me({"item-triangle":r(o)==="triangle","item-radius":r(o)==="radius",active:r(u)===w.activeId}),onClick:S=>v(w)},[x(_,{icon:w.icon,size:"22",type:(w==null?void 0:w.iconType)||""},null,8,["icon","type"]),b("div",mc,M(w.title),1),r(o)==="triangle"?(m(),k("div",_c)):T("",!0)],10,pc)):T("",!0),b("div",{class:me(["item-children",{active:r(u)===w.activeId}])},[x(C,{"default-active":h.active,"unique-opened":r(s)==="level"},{default:$(()=>[(m(!0),k(F,null,G(w.children,S=>(m(),k(F,{key:S.activeId},[r(s)==="level"?(m(),I(bo,{key:0,"menu-data":S},null,8,["menu-data"])):(m(),I(Ze,{key:1,"menu-data":S},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const hc=U(fc,[["__scopeId","data-v-c24f2e49"]]),jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",vc=["src"],gc=A({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(e){const t=e;we(s=>({"2035992c":r(n)}));const a=V(()=>t.logoSrc?t.logoSrc:jt),n=V(()=>`${t.logoHeight}px`);return(s,o)=>{const l=B("el-image");return m(),I(l,{src:r(a),class:"logo"},{error:$(()=>[b("img",{src:r(jt),class:"logo"},null,8,vc)]),_:1},8,["src"])}}});const ta=U(gc,[["__scopeId","data-v-25a57a60"]]),yc=A({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(e){return(t,a)=>(m(),k("span",null,M(t.sideName),1))}}),xc={class:"xhadmin-logo-pro"},kc={class:"logo-image"},wc={class:"logo-text"},bc=A({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(e){const t=e;we(c=>({eb290234:r(s),c8095676:r(l),"375a2236":r(o)}));const a=_e(),{layoutInfo:n}=Me(a),s=V(()=>`${t.sideWidth}px`),o=V(()=>`${t.sideMenuWidth}px`),l=V(()=>`${t.headerHeight}px`);return(c,i)=>(m(),k("div",xc,[b("div",kc,[x(ta,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),Ft(b("div",wc,[x(yc,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[Ot,!r(n).sideMenuCollapse]])]))}});const Pc=U(bc,[["__scopeId","data-v-2826983b"]]),aa=A({__name:"index",setup(e){const t=de(),a=()=>`${new Date().getTime()}${Math.random()}`,n=y("");return zt(()=>t.fullPath,()=>{n.value=a()}),(s,o)=>{const l=B("router-view");return m(),I(l,{key:r(n)})}}}),At="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",St=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,Vt=window.location.hostname,tt=(e,t)=>{const a=new qa;a.setPrivateKey(t);const n=e.match(/.{1,344}/g);if(!n)throw new Error("令牌表单解密失败");let s="";if(n==null||n.forEach(o=>{const l=a.decrypt(o);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),o=>o.charCodeAt(0))))},Cc=()=>{const t=Q().siteInfo;if(t!=null&&t.empower_token&&t.empower_private_key)try{const a=tt(t.empower_token,t.empower_private_key);return console.log("当前域名",Vt),a.systemUrl.includes(Vt)||a!=null&&a.isChannels?(console.log("使用自定义版权"),console.log("版权数据",a),a):(console.log("使用原生版权"),tt(At,St))}catch(a){console.error("服务端授权失败",a)}try{return tt(At,St)}catch(a){console.error("系统授权错误",a)}},oa=()=>{const t=Q().siteInfo;return{version_name:(t==null?void 0:t.version_name)??"v1.0.0",version:(t==null?void 0:t.version)??1e3}},$c={class:"copyright-set"},Dc={key:0},Ic=["href"],jc=["href"],Ac=A({__name:"index",setup(e){const{systemAbout:t,systemAboutUrl:a,systemName:n,systemUrl:s}=Cc(),{version_name:o}=oa(),l=window.location.protocol;return(c,i)=>(m(),k("div",$c,[L(" copyright © 2023 "),r(a)==="#"?(m(),k("span",Dc,M(r(t)),1)):(m(),k("a",{key:1,href:`${r(l)}//${r(a)}`,target:"_blank",class:"pl-10px"},M(r(t)),9,Ic)),L(" All Rights Reserved "),b("a",{href:`${r(l)}//${r(s)}`,target:"_blank",class:"pl-10px"},M(r(n))+" "+M(r(o)),9,jc)]))}});const na=U(Ac,[["__scopeId","data-v-448a4e9c"]]),Sc={class:"flex items-center"},Vc={class:"xhadmin-header-breadcrumb"},Ec=A({__name:"side",setup(e){var o;const t=Q(),a=_e(),{layoutInfo:n}=Me(a),s=((o=t.siteInfo.public_api)==null?void 0:o.header_left_file)??"";return(l,c)=>{const i=J;return m(),k("div",Sc,[b("div",Vc,[b("div",{class:"side-action",onClick:c[0]||(c[0]=u=>r(a).setLayoutMenuCollapse())},[x(i,{icon:r(n).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])]),r(s)?(m(),I(r(le),{key:0,file:r(s)},null,8,["file"])):T("",!0)])}}});const Bc=U(Ec,[["__scopeId","data-v-852079fd"]]),Tc={class:"xh-dropdown-link"},Rc={class:"text"},Uc=A({__name:"index",setup(e){const t=Q(),a=_e(),{userInfo:n}=Me(a),s=()=>{var c,i;if(!((c=t.siteInfo.public_api)!=null&&c.user_edit_path)){he("当前系统未开启个人资料修改功能","温馨提示");return}oe((i=t.siteInfo.public_api)==null?void 0:i.user_edit_path)},o=()=>{a.loginOut()},l=c=>{switch(c){case"hanldProfile":s();break;case"loginout":o();break}};return(c,i)=>{const u=J,d=B("el-dropdown-item"),f=B("el-dropdown-menu"),v=B("el-dropdown");return m(),I(v,{class:"xh-dropdown",onCommand:l},{dropdown:$(()=>[x(f,null,{default:$(()=>[x(d,{command:"hanldProfile"},{default:$(()=>[L(" 个人中心 ")]),_:1}),x(d,{command:"loginout"},{default:$(()=>[L(" 退出登录 ")]),_:1})]),_:1})]),default:$(()=>{var h;return[b("div",Tc,[b("span",Rc,M((h=r(n))==null?void 0:h.nickname),1),x(u,{icon:"ArrowUp",size:14})])]}),_:1})}}});const sa=U(Uc,[["__scopeId","data-v-a7b40429"]]),Mc={class:"flex-1 flex items-center justify-end"},Lc=A({__name:"tools",setup(e){var n;const a=((n=Q().siteInfo.public_api)==null?void 0:n.header_right_file)??"";return(s,o)=>(m(),k("div",Mc,[r(a)?(m(),I(r(le),{key:0,file:r(a)},null,8,["file"])):T("",!0),x(sa)]))}}),Fc={class:"flex justify-between"},Oc=A({__name:"index",setup(e){return(t,a)=>(m(),k("div",Fc,[x(Bc),x(Lc)]))}});const qc={class:"xhadmin-mix-layout"},zc={class:"xhadmin-header-pro"},Nc={class:"xhadmin-main-pro"},Hc={class:"xhadmin-side-pro"},Wc={class:"xhadmin-content-pro"},Xc={class:"xhadmin-content pt-4 pl-4 pr-4"},Qc={class:"xhadmin-copyright-pro"},Zc=A({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(e){const t=e;we(s=>({ea5e16fa:r(a),"10abb030":r(n)}));const a=V(()=>`${t.headerHeight}px`),n=V(()=>t.sideWidth);return(s,o)=>(m(),k("div",qc,[b("div",zc,[x(Pc,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),x(Oc,{class:"xhadmin-toolbar"})]),b("div",Nc,[b("div",Hc,[x(hc,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),b("div",Wc,[b("div",Xc,[x(aa)]),b("div",Qc,[x(na)])])])]))}});const Jc=U(Zc,[["__scopeId","data-v-82ea02ce"]]),Kc={};function Gc(e,t){return m(),k("div",null," 侧边栏布局 ")}const Yc=U(Kc,[["render",Gc]]),er=A({__name:"menus",props:{active:{},menus:{}},setup(e){return(t,a)=>{const n=B("el-menu");return m(),I(n,{mode:"horizontal",class:"menus","default-active":t.active},{default:$(()=>[(m(!0),k(F,null,G(t.menus,s=>(m(),I(Ze,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const tr={class:"xhadmin-top-layout"},ar={class:"xhadmin-header-pro"},or={class:"xhadmin-header"},nr={class:"logo"},sr={class:"menus"},lr={key:0,class:"tools"},cr={class:"user"},rr={class:"xhadmin-main-pro"},ir={class:"xhadmin-main"},ur={class:"xhadmin-content"},dr={class:"xhadmin-copyright"},pr=A({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(e){we(o=>({"6794f285":r(s)}));const t=Q().siteInfo,n=_e().layoutInfo.layoutSize,s=V(()=>n?"100%":"1200px");return(o,l)=>{var c,i,u;return m(),k("div",tr,[b("div",ar,[b("div",or,[b("div",nr,[x(ta,{"logo-src":((c=r(t))==null?void 0:c.web_logo)??""},null,8,["logo-src"])]),b("div",sr,[x(er,{active:o.active,menus:o.menus},null,8,["active","menus"])]),(i=r(t).public_api)!=null&&i.header_right_file?(m(),k("div",lr,[x(r(le),{file:(u=r(t).public_api)==null?void 0:u.header_right_file},null,8,["file"])])):T("",!0),b("div",cr,[x(sa)])])]),b("div",rr,[b("div",ir,[b("div",ur,[x(aa)]),b("div",dr,[x(na)])])])])}}});const mr=U(pr,[["__scopeId","data-v-e4f32260"]]),_r={};function fr(e,t){return m(),k("div",null," 用户中心布局 ")}const hr=U(_r,[["render",fr]]),vr=()=>{const e=de(),t=lt({active:""}),a=n=>{let s=It.get(n);s||(s=It.get(Ht)),t.active=s??""};return zt(()=>e.fullPath,()=>{var s,o;let n="";(s=e.query)!=null&&s.group&&e.meta.ajaxParams.includes("group")?n=`${e.path}_group=${(o=e.query)==null?void 0:o.group}`:e.meta.ajaxParams&&!n?n=`${e.path}_${e.meta.ajaxParams}`:n=e.path,a(n)}),{...Na(t),updateActive:a}},[gr,yr]=za(vr),xr=()=>yr()??{active:y(""),updateActive:()=>{}},kr=A({__name:"index",setup(e){const t=Q(),a=_e(),{active:n}=xr(),{layoutInfo:s}=Me(a),o=t.siteInfo,l=a.menuList;return(c,i)=>{var u,d;return m(),k(F,null,[r(s).layout==="mix"?(m(),I(r(Jc),{key:0,"header-height":r(s).headerHeight,"side-width":r(s).sideWidth,"side-menu-width":r(s).sideMenuWidth,"side-logo":(u=r(o))==null?void 0:u.web_logo,"side-name":(d=r(o))==null?void 0:d.web_name,"logo-height":r(s).logoHeight,active:r(n),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):T("",!0),r(s).layout==="side"?(m(),I(r(Yc),{key:1})):T("",!0),r(s).layout==="top"?(m(),I(r(mr),{key:2,"header-height":r(s).headerHeight,active:r(n),menus:r(l)},null,8,["header-height","active","menus"])):T("",!0),r(s).layout==="user"?(m(),I(r(hr),{key:3})):T("",!0)],64)}}}),wr={path:"/",name:"default-router",component:kr,redirect:Ht,children:[]},br=[{path:"/workspace/exception",name:"workspaceException",component:()=>ge(()=>import("./index.473ed08b.js"),["assets/js/index.473ed08b.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"]),meta:{title:"出现错误啦~"}}],Pr=[{...wr,children:[...br]},{path:"/login",name:"Login",component:()=>ge(()=>import("./index.7c21af33.js"),["assets/js/index.7c21af33.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css","assets/css/index.2e77e8b7.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>ge(()=>import("./index.632e0402.js"),["assets/js/index.632e0402.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>ge(()=>import("./index.473ed08b.js"),["assets/js/index.473ed08b.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"])},{path:"/:pathMatch(.*)",component:()=>ge(()=>import("./index.473ed08b.js"),["assets/js/index.473ed08b.js","assets/js/.pnpm.7672c64c.js","assets/css/.pnpm.1d3e7f35.css"])}],Cr=Ha({routes:[...Pr],history:Wa("/")}),W=Cr,Ve=()=>location.pathname.replace(/^\/+|\/+$/g,""),ve=(e="",t=!1)=>{const a=W.currentRoute.value,n=Ve(),s=y(a.path);if(t){const o=s.value.indexOf("/",1);s.value=s.value.substring(0,o),s.value=`${s.value}/`}return`${n}${s.value}${e}`},vt=e=>{let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},oe=(e,t)=>{vt(e)?location.href=e:W.push({path:e,query:t})};function at(e=6){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return t}const Ue=(e,t)=>{for(const a in t)if(t[a]===e)return!0;return!1},We=()=>{var t;(t=W.currentRoute.value.query)!=null&&t.isBack||j("返回上次页面错误"),W.back()},$r=e=>e.replace(/\/(\w)/g,(t,a)=>a.toUpperCase()),Dr=(e,t="Enter")=>{const a=n=>{n.key===t&&(e(),n.preventDefault())};Xa(()=>document.addEventListener("keydown",a)),Lt(()=>document.removeEventListener("keydown",a))},Ge=e=>{let t;const a={},n=e.slice(e.indexOf("?")+1).split("&");for(let s=0;s<n.length;s++)t=n[s].split("="),a[t[0]]=t[1];return a},Q=qt("app",()=>{const t=`/${Ve()}/Index/site`,a=Pe(),n=y({...go}),s=y(),o=i=>{n.value=i};return{useAppId:a,siteInfo:n,getSite:async()=>{const{data:i}=await fe(t);return o(i),i},setSiteInfo:o,setLoginLink:i=>{s.value=i}}}),Ir=async e=>{var n;const t=Q().siteInfo,a=((n=t==null?void 0:t.uploadify_api)==null?void 0:n.index)||"";return await fe(a,e).then(s=>s==null?void 0:s.data)},jr=async e=>{var s;const t=Q().siteInfo,a=(s=t==null?void 0:t.uploadify_api)==null?void 0:s.edit;if(!a)return j("请先配置附件修改接口"),!1;const n=y();return await Ae(vo,{modelValue:e,"onUpdate:init":o=>{n.value=o}},{title:"修改附件",customStyle:{width:"450px",height:"500px"},beforeClose:(o,l,c)=>{var i;o==="confirm"?(i=n.value)!=null&&i.getFormData()&&c():c()}}).then(()=>{var l;const o=(l=n.value)==null?void 0:l.getFormData();if(o)return ye(`${a}?id=${e==null?void 0:e.id}`,o).then(c=>{K((c==null?void 0:c.msg)||"修改成功")})})},Ar=async(e,t)=>{var c;const a=Q().siteInfo,n=(c=a==null?void 0:a.uploadify_api)==null?void 0:c.move;if(!n)return j("请先配置文件移动接口"),Promise.reject(new Error("请先配置文件移动接口"));const s=(e==null?void 0:e.id)??"",o=t.map(i=>i.id);return s?o.length<=0?(Te("请选择需要移动的文件","error"),Promise.reject(new Error("请选择需要移动的文件"))):await ye(n,{cid:s,ids:o}).then(i=>{K((i==null?void 0:i.msg)||"移动成功")}):(Te("请选择需要移动到的分类","error"),Promise.reject(new Error("请选择需要移动到的分类")))},Sr=async e=>{var s;const t=Q().siteInfo,a=(s=t==null?void 0:t.uploadify_api)==null?void 0:s.del;if(!a)return j("请先配置文件删除接口"),Promise.reject(new Error("请先配置文件删除接口"));if(e.length<=0)return j("请选择需要删除的文件"),Promise.reject(new Error("请选择需要删除的文件"));const n={ids:e.map(o=>o.id)};return await he("是否确认删除选中的文件？","温馨提示","error").then(()=>He(a,n).then(o=>{K((o==null?void 0:o.msg)||"删除成功")}))},gt=e=>(xe("data-v-f91b0178"),e=e(),ke(),e),Vr={class:"category-container"},Er={class:"item"},Br=gt(()=>b("div",{class:"title"}," 分类名称 ",-1)),Tr={class:"item"},Rr=gt(()=>b("div",{class:"title"}," 分类目录 ",-1)),Ur={class:"item"},Mr=gt(()=>b("div",{class:"title"}," 分类排序 ",-1)),Lr=A({__name:"category",props:{modelValue:{}},emits:["update:init"],setup(e,{expose:t,emit:a}){const n=e,s=je(),o=y({sort:0,...n.modelValue}),l=()=>o.value.title?o.value.dir_name?o.value.sort===""?(j("请输入分类排序"),!1):o.value:(j("请输入分类目录"),!1):(j("请输入分类名称"),!1);return ue(()=>{a("update:init",s.exposed)}),t({getFormData:l}),(c,i)=>{const u=B("el-input");return m(),k("div",Vr,[b("div",Er,[Br,x(u,{modelValue:r(o).title,"onUpdate:modelValue":i[0]||(i[0]=d=>r(o).title=d),placeholder:"请输入分类名称"},null,8,["modelValue"])]),b("div",Tr,[Rr,x(u,{modelValue:r(o).dir_name,"onUpdate:modelValue":i[1]||(i[1]=d=>r(o).dir_name=d),placeholder:"请输入分类目录"},null,8,["modelValue"])]),b("div",Ur,[Mr,x(u,{modelValue:r(o).sort,"onUpdate:modelValue":i[2]||(i[2]=d=>r(o).sort=d),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const la=U(Lr,[["__scopeId","data-v-f91b0178"]]),Fr=async()=>{var t;const e=Q().siteInfo;return await fe(((t=e==null?void 0:e.uploadify_cate)==null?void 0:t.index)||"").then(a=>(a==null?void 0:a.data)||[])},Or=async()=>{var n;const e=Q().siteInfo,t=(n=e==null?void 0:e.uploadify_cate)==null?void 0:n.add;if(!t)return j("请先配置分类添加接口"),!1;const a=y();return await Ae(la,{"onUpdate:init":s=>{a.value=s}},{title:"添加分类",customStyle:{width:"350px",height:"400px"},beforeClose:(s,o,l)=>{var c;s==="confirm"?(c=a.value)!=null&&c.getFormData()&&l():l()}}).then(()=>{var o;const s=(o=a.value)==null?void 0:o.getFormData();if(s)return ye(t,s).then(l=>{K((l==null?void 0:l.msg)||"添加成功")})})},qr=async e=>{var s;const t=Q().siteInfo,a=(s=t==null?void 0:t.uploadify_cate)==null?void 0:s.edit;if(!a)return j("请先配置分类修改接口"),!1;const n=y();return await Ae(la,{modelValue:e,"onUpdate:init":o=>{n.value=o}},{title:"修改分类",customStyle:{width:"350px",height:"400px"},beforeClose:(o,l,c)=>{var i;o==="confirm"?(i=n.value)!=null&&i.getFormData()&&c():c()}}).then(()=>{var l;const o=(l=n.value)==null?void 0:l.getFormData();if(o)return Ne(`${a}?id=${e==null?void 0:e.id}`,o).then(c=>{K((c==null?void 0:c.msg)||"修改成功")})})},zr=async e=>{var n;const t=Q().siteInfo,a=(n=t==null?void 0:t.uploadify_cate)==null?void 0:n.del;if(!a){j("请先配置分类删除接口");return}return await he("是否确认删除该分类？","温馨提示","error").then(()=>{const s={id:e==null?void 0:e.id};return He(a,s).then(o=>{K((o==null?void 0:o.msg)||"删除成功")})})};const Nr={class:"uploadify-modal"},Hr={class:"category-container"},Wr={class:"category-title"},Xr={class:"title"},Qr=b("span",null,"附件分类",-1),Zr={class:"category-content"},Jr={class:"title"},Kr=b("span",null,"全部数据",-1),Gr=["onClick"],Yr={class:"title"},ei={key:0,class:"action"},ti={class:"content-container"},ai={class:"action-box"},oi={class:"action"},ni={key:0,class:"content-box"},si=["title","onClick","onDblclick"],li=["src","alt","title"],ci={key:1,class:"preview"},ri={key:1,class:"empty-box"},ii={key:2,class:"paginate-box"},ca=A({__name:"modal",props:{limit:{default:1},suffix:{default:"*"}},emits:["update:init"],setup(e,{expose:t,emit:a}){var yt;const n=e,s=y(!1),o=y([]),l=y([]),c=Q().siteInfo,i=Le(),u=Pe(),d=y({active:"",dir_name:"",list:[]}),f=(yt=c.uploadify_api)==null?void 0:yt.upload,v=y({[it]:i.value||"",ACCEPT:"application/json"});u.value&&(v.value={...v.value,[ut]:u.value});const h=y({action:`${dt}${f}`,data:{cid:d.value.active||"",dir_name:d.value.dir_name||""},headers:v.value,multiple:!0,withCredentials:!0,showFileList:!1}),p=y({background:!0,layout:"prev, pager, next, jumper",total:0}),_=y({page:1,limit:20}),C=je(),w=y([]),S=()=>{_.value.page=1,_.value.limit=20,d.value.active="",w.value=[],o.value=[],l.value=[]},E=async()=>await Fr().then(R=>{d.value.list=R}),P=async()=>{var re;let R=n.suffix;typeof n.suffix=="object"&&(R=n.suffix.join(","));const ce={cid:((re=d.value)==null?void 0:re.active)||"",page:_.value.page,limit:_.value.limit,suffix:R};return await Ir(ce).then(te=>{w.value=(te==null?void 0:te.data)||[],p.value.total=(te==null?void 0:te.total)||0})},g=R=>{S(),d.value.active=(R==null?void 0:R.id)??"",d.value.dir_name=(R==null?void 0:R.dir_name)??"",_.value.page=1,P()},D=R=>{s.value?l.value.includes(R)?l.value.splice(l.value.indexOf(R),1):l.value.push(R):n.limit===1?o.value[0]=R:o.value.includes(R)?o.value.splice(o.value.indexOf(R),1):(n.limit===0||o.value.length<n.limit)&&o.value.push(R)},q=()=>o.value,H=()=>{s.value=!1,l.value=[]},Y=()=>{l.value.length===w.value.length?l.value=[]:l.value=[...w.value]},ae=R=>{Ar(R,l.value).then(()=>{S(),P(),l.value=[],s.value=!1})},Ee=R=>{jr(R).then(()=>{P()})},ra=()=>{Sr(l.value).then(R=>{S(),P(),l.value=[],s.value=!1})},ia=R=>{_.value.page=R,P()},ua=R=>{(R==null?void 0:R.code)!==200?j((R==null?void 0:R.msg)||"上传失败"):(S(),P(),K((R==null?void 0:R.msg)||"上传成功"))},da=R=>{console.error(R),j("上传失败")},pa=()=>{E().then(()=>{P(),a("update:init",C.exposed)})};return t({getSelected:q}),ue(()=>pa()),(R,ce)=>{const re=J,te=B("el-button"),ma=B("el-dropdown-item"),_a=B("el-dropdown-menu"),fa=B("el-dropdown"),ha=B("el-upload"),va=B("el-text"),ga=B("el-empty"),ya=B("el-pagination");return m(),k("div",Nr,[b("div",Hr,[b("div",Wr,[b("div",Xr,[x(re,{icon:"Folder",size:18}),Qr]),b("div",{class:"created",onClick:ce[0]||(ce[0]=z=>r(Or)().then(()=>E()))},[x(re,{icon:"FolderAdd",color:"#409eff"})])]),b("div",Zr,[b("div",{class:me([{active:r(d).active===""},"item"]),onClick:ce[1]||(ce[1]=z=>g())},[b("div",Jr,[x(re,{icon:"Folder",size:17}),Kr])],2),(m(!0),k(F,null,G(r(d).list,(z,Be)=>(m(),k("div",{key:Be,class:me([{active:z.id===r(d).active},"item"]),onClick:Oe=>g(z)},[b("div",Yr,[x(re,{icon:"Folder",size:17}),b("span",null,M(z.title),1)]),z.is_system==="10"?(m(),k("div",ei,[x(re,{icon:"Edit",onClick:Oe=>r(qr)(z).then(()=>E())},null,8,["onClick"]),x(re,{icon:"Delete",onClick:Oe=>r(zr)(z).then(()=>E())},null,8,["onClick"])])):T("",!0)],10,Gr))),128))])]),b("div",ti,[b("div",ai,[b("div",oi,[r(s)?T("",!0):(m(),I(te,{key:0,type:"primary",onClick:ce[2]||(ce[2]=z=>s.value=!0)},{default:$(()=>[L(" 管理 ")]),_:1})),r(s)?(m(),I(te,{key:1,type:"primary",onClick:H},{default:$(()=>[L(" 退出 ")]),_:1})):T("",!0),r(s)?(m(),I(te,{key:2,type:"info",onClick:Y},{default:$(()=>[L(" 全选 ")]),_:1})):T("",!0),r(s)?(m(),I(te,{key:3,type:"danger",onClick:ra},{default:$(()=>[L(" 删除 ")]),_:1})):T("",!0),r(s)?(m(),I(fa,{key:4,class:"dropdown",onCommand:ce[3]||(ce[3]=z=>ae(z))},{dropdown:$(()=>[x(_a,null,{default:$(()=>[(m(!0),k(F,null,G(r(d).list,(z,Be)=>(m(),I(ma,{key:Be,command:z},{default:$(()=>[L(M(z.title),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:$(()=>[x(te,{type:"warning"},{default:$(()=>[L(" 移动 ")]),_:1})]),_:1})):T("",!0)]),x(ha,O({class:"upload"},r(h),{"on-success":ua,"on-error":da}),{default:$(()=>[x(te,{type:"success"},{default:$(()=>[L(" 上传 ")]),_:1})]),_:1},16)]),r(w).length?(m(),k("div",ni,[(m(!0),k(F,null,G(r(w),(z,Be)=>(m(),k("div",{key:Be,class:me(["item",{active:!r(s)&&r(o).includes(z),"active-warning":r(s)&&r(l).includes(z)}]),title:z.title,onClick:Oe=>D(z),onDblclick:Oe=>Ee(z)},[r(Xt)(z.url)?(m(),k("img",{key:0,src:z.url,alt:z.title,title:z.title,class:"preview"},null,8,li)):(m(),k("div",ci,[x(re,{icon:"Document",size:42})])),x(va,{class:"title",truncated:""},{default:$(()=>[L(M(z.title),1)]),_:2},1024)],42,si))),128))])):(m(),k("div",ri,[x(ga,{description:"当前没有更多附件"})])),r(w).length?(m(),k("div",ii,[x(ya,O(r(p),{onCurrentChange:ia}),null,16)])):T("",!0)])])}}});class ui{constructor(){qe(this,"title","");qe(this,"iconSvg","");qe(this,"tag","");this.title="附件库",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(t){return""}isActive(t){return!1}isDisabled(t){return!1}exec(t,a){const n=y();Ae(ca,{"onUpdate:init":s=>{n.value=s}},{title:"附件库",center:!0,customStyle:{width:"60%",height:"85vh"},beforeClose:(s,o,l)=>{var c;if(s==="confirm"){const i=(c=n.value)==null?void 0:c.getSelected();i.length?(i.map(d=>d==null?void 0:d.url).forEach(d=>{const f=d.lastIndexOf("."),v=d.substr(f+1);let h="";["gif","jpg","jpeg","png"].includes(v.toLowerCase())?h=`<img src="${d}" />`:["mp4"].includes(v.toLowerCase())?h=`<video src="${d}" controls="controls" />`:["mp3","ogg","wav"].includes(v.toLowerCase())?h=`<audio src="${d}" controls="controls" />`:h=`<a href="${d}">${d}</a>`,t.setHtml(h)}),l()):j("请选择文件")}else l()}})}}const di=A({__name:"index",setup(e){const t=y("zh-cn"),a=V(()=>t.value==="zh-cn"?Qa:Za),n=lt({autoInsertSpace:!1}),s=lt({max:1});return(o,l)=>{const c=B("router-view"),i=B("el-config-provider");return m(),I(i,{button:r(n),message:r(s),locale:r(a)},{default:$(()=>[x(c)]),_:1},8,["button","message","locale"])}}}),pi=A({__name:"App",setup(e){const t={key:"xhUploadify",factory(){return new ui}};return Ja.registerMenu(t),gr(),(a,n)=>(m(),I(di))}}),mi=e=>{let t="",a=0;e=(e||0).toString();for(let n=e.length-1;n>=0;n--)a++,t=e.charAt(n)+t,!(a%3)&&n!==0&&(t=`,${t}`);return t},Et=(e,t,a,n)=>{let s;const o=a-t;function l(c){s||(s=c);const i=c-s,u=Math.min(i/n,1),d=t+Math.floor(u*o);d>999&&e.dataset.numberScrollThousandsOff===void 0?e.innerHTML=mi(d):e.innerHTML=d.toString(),i<n&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},_i={mounted(e,t,a){const{value:n}=t,s=parseFloat(e.dataset.numberScrollValue??"0"),o=n?parseFloat(n.toString()):0,l=parseInt(e.dataset.numberScrollDuration??"1000");Et(e,s,o,l),e.dataset.numberScrollValue=o.toString()},updated(e,t){if(e.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:a}=t,n=parseFloat(e.dataset.numberScrollValue??"0"),s=a?parseFloat(a.toString()):0,o=parseInt(e.dataset.numberScrollDuration??"1000");s!==n&&(Et(e,n??0,a,o),t.modifiers.once&&(e.dataset.numberScrollOnceExecuted="true")),e.dataset.numberScrollValue=s.toString()}};function fi(e){e.directive("number-scroll",_i)}const De=y(ze),ct=y([...ko]),ot=y([...ct.value,De.value]),Bt=y(!1);W.beforeEach(async(e,t,a)=>{var u,d,f,v,h;if(Nt.start(),ct.value.includes(e.path)){a();return}const n=_e(),s=Pe(),o=Le(),l=V(()=>n.userInfo);if((u=e.query)!=null&&u.token){let p=(d=e.query)==null?void 0:d.token;p=p.includes("Bearer")?p:`Bearer ${p}`,o.value=p}if((f=e.query)!=null&&f.appid&&(s.value=(v=e.query)==null?void 0:v.appid),o.value&&[De.value].includes(e.path)){a({path:"/"});return}const c=Q(),i=V(()=>c.siteInfo);if(!i.value.web_name){if(await c.getSite(),!i.value.web_name){j("站点名称web_name字段缺失");return}if(i.value.login_link&&c.setLoginLink(i.value.login_link),(h=i.value)!=null&&h.remote_url&&!Bt.value){const p=i.value.remote_url;De.value&&(ot.value=[...ot.value,De.value]),cc(p),Bt.value=!0,a({...e,replace:!0});return}}if(o.value){if(!l.value.username&&!ct.value.includes(e.path))try{if(await n.getUserInfo(),!l.value.username){j("用户信息缺少username字段");return}const p=n.routeList;if(p.length===0){n.Authorization="",j("您没有任何权限，请联系管理员！"),a({path:De.value});return}p.forEach(_=>{W.addRoute("default-router",_)}),a({...e,replace:!0});return}catch(p){console.error("前置路由错误",p)}}else if(!ot.value.includes(e.path)){a({path:De.value,query:{redirect:e.path}});return}a()});W.afterEach(e=>{var c,i,u;const{version_name:t}=oa(),n=((c=Q().siteInfo)==null?void 0:c.web_name)||"XHAdmin",s=`${n} ${t}`;let o=(i=e.meta)==null?void 0:i.title;const l=(u=e.query)==null?void 0:u.code;l&&(o=wo[l]||"抱歉，你访问的页面不存在"),o?document.title=`${o} - ${s}`:n&&(document.title=s),Nt.done()});const hi=e=>{e.use($e),e.config.globalProperties.$XModal=$e.modal,e.config.globalProperties.$XPrint=$e.print,e.config.globalProperties.$XSaveFile=$e.saveFile,e.config.globalProperties.$XReadFile=$e.readFile},vi=Ka(),Ce=Ga(pi);hi(Ce);Ce.use(vi);Ce.use(W);Ce.use(Ya);Ce.use(fi);Ce.mount("#app");Kt.vue=Ce;export{J as _,Q as a,Dr as b,na as c,U as d,Le as e,wo as f,Je as g,aa as h,ze as l,oe as o,_e as u};
